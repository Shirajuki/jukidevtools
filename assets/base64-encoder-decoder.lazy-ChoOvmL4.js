import{c as O,u as D,b as k,r as d,j as e,I as T,S as j,B as C,A as z,C as b,e as V,s as F,aj as L}from"./index-DvQtlU0V.js";import{t as w}from"./text-sample-BTrN0aiQ.js";import{R as x}from"./index-Tv1-1Red.js";import"./editorWorker-CSXiZMy3.js";import"./index-Bj3jwalg.js";const A=o=>window.btoa(o),M=o=>window.atob(o),G=o=>{const c=atob(o),n=new Uint8Array(c.length);for(let a=0;a<n.length;a++)n[a]=c.charCodeAt(a);return String.fromCharCode(...new Uint16Array(n.buffer))},_=o=>{const c=new Uint16Array(o.length);for(let n=0;n<c.length;n++)c[n]=o.charCodeAt(n);return btoa(String.fromCharCode(...new Uint8Array(c.buffer)))},Q=O("/_encoding/base64-encoder-decoder")({component:q});function q(){const o=D(),c=k(),n=d.useRef(null),a=d.useRef({input:""}),[l,U]=d.useState("encode"),[h,R]=d.useState(""),S=()=>{var p;const t=l==="decode"?A(w):w;y(t),(p=n.current)==null||p.setValue(t)},E=d.useCallback((t,p)=>{let u="";if(p==="decode"){let r="",s="",g=0;try{r=M(t.input)}catch{g++}try{s=G(t.input)}catch{g++}if(g===2)throw new Error;if(r&&!s)u=r;else if(!r&&s)u=s;else if(r&&s){let f=0,m=0;for(let i=0;i<r.length;i++)r.charCodeAt(i)===0&&f++;for(let i=0;i<s.length;i++)s.charCodeAt(i)===0&&m++;f>m?u=s:u=r}}else try{u=A(t.input)}catch{u=_(t.input)}return u},[]),I=()=>{c(h)},v=t=>{U(t.target.value)},y=t=>{a.current.input=t},B=()=>{try{const t=E(a.current,l);R(t),o(F())}catch{o(L("Invalid input"))}};return e.jsx(T,{InputToolbar:e.jsxs(j,{children:[e.jsxs(x.Group,{value:l,onChange:v,children:[e.jsx(x,{value:"encode",children:"Encode"}),e.jsx(x,{value:"decode",children:"Decode"})]}),e.jsx(C,{size:"large",onClick:S,children:"Sample"}),e.jsx(C,{type:"primary",icon:e.jsx(z,{}),size:"large",onClick:B,children:l==="encode"?"Encode":"Decode"})]}),InputView:e.jsx(b,{ref:n,code:"",language:"text",onChange:y}),OutputToolbar:h===null?e.jsx(e.Fragment,{}):e.jsx(j,{children:e.jsx(C,{icon:e.jsx(V,{}),onClick:I,children:"Copy"})}),OutputView:e.jsx(b,{code:h,language:"text",readonly:!0})})}export{Q as Route};
