import{c as H,u as S,b as g,r as c,j as e,I as z,S as d,B as o,A as p,C as h,d as R,e as v,s as x}from"./index-B0FZfun1.js";import{h as w}from"./html-sample-DAOzF59Q.js";import{b as T}from"./index-BW3Jz2Yw.js";import"./editorWorker-CSXiZMy3.js";const O=(n,i)=>T.html(n,{indent_size:i.indentSize,preserve_newlines:!0,indent_inner_html:!0}),V=n=>window.htmlMinifier.minify(n,{collapseWhitespace:!0,removeComments:!0,removeRedundantAttributes:!0,removeScriptTypeAttributes:!0,removeTagWhitespace:!0,minifyCSS:!0,minifyJS:!0}),I=H("/_web/html-beautifier")({component:A});function A(){const n=S(),i=g(),a=c.useRef(null),l=c.useRef(null),r=c.useRef({html:"",formattedHtml:"",lastUsed:"format",tabSize:2}),y=()=>{var t;r.current.html=w,(t=a.current)==null||t.setValue(r.current.html)},f=t=>{var s;r.current.lastUsed="format";const u=t?r.current.html:r.current.formattedHtml,m=O(u,{indentSize:r.current.tabSize});(s=l.current)==null||s.setValue(m),t&&n(x())},j=t=>{var s;r.current.lastUsed="minify";const u=t?r.current.html:r.current.formattedHtml,m=V(u);(s=l.current)==null||s.setValue(m),t&&n(x())},b=()=>{const t=r.current.formattedHtml;t.trim().length!==0&&i(t)},C=t=>{r.current.tabSize=t,r.current.lastUsed==="format"&&f(!1)};return e.jsx(z,{InputToolbar:e.jsxs(d,{children:[e.jsx(o,{size:"large",onClick:y,children:"Sample"}),e.jsx(o,{type:"primary",icon:e.jsx(p,{}),size:"large",onClick:()=>f(!0),children:"Format"}),e.jsx(o,{type:"primary",icon:e.jsx(p,{}),size:"large",onClick:()=>j(!0),children:"Minify"})]}),InputView:e.jsx(h,{ref:a,code:r.current.html,language:"html",onChange:t=>{r.current.html=t}}),OutputToolbar:e.jsxs(d,{children:[e.jsx(R,{defaultValue:2,options:[{value:2,label:e.jsx(e.Fragment,{children:"2 spaces"})},{value:4,label:e.jsx(e.Fragment,{children:"4 spaces"})}],onChange:C}),e.jsx(o,{icon:e.jsx(v,{}),onClick:b,children:"Copy"})]}),OutputView:e.jsx(h,{ref:l,code:r.current.formattedHtml,language:"html",onChange:t=>{r.current.formattedHtml=t}})})}export{I as Route};
