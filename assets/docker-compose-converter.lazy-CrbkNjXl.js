import{a as nl,g as Tl,c as Wl,b as Yl,r as sl,j as Ar,I as Ql,S as xl,B as Al,C as Il,e as Zl}from"./index-B0FZfun1.js";import{R as ml}from"./index-BN0R5HX4.js";import"./editorWorker-CSXiZMy3.js";import"./index-TOWUUbHC.js";var Cl={exports:{}};(function(la,fo){((Ir,ut)=>{la.exports=ut()})(nl,function(){function Ir(i){return i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ut(i){var r,a;return i.__esModule?i:(typeof(r=i.default)=="function"?(a=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)}).prototype=r.prototype:a={},Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(a,o,c.get?c:{enumerable:!0,get:function(){return i[o]}})}),a)}let Tr={exports:{}},cn=Symbol.for("yaml.alias"),Cr=Symbol.for("yaml.document"),lr=Symbol.for("yaml.map"),ds=Symbol.for("yaml.pair"),Ye=Symbol.for("yaml.scalar"),lt=Symbol.for("yaml.seq"),At=Symbol.for("yaml.node.type"),It=i=>!!i&&typeof i=="object"&&i[At]===cn,_t=i=>!!i&&typeof i=="object"&&i[At]===Cr,Ut=i=>!!i&&typeof i=="object"&&i[At]===lr,tt=i=>!!i&&typeof i=="object"&&i[At]===ds,rt=i=>!!i&&typeof i=="object"&&i[At]===Ye,Lr=i=>!!i&&typeof i=="object"&&i[At]===lt;function at(i){if(i&&typeof i=="object")switch(i[At]){case lr:case lt:return!0}return!1}function Qe(i){if(i&&typeof i=="object")switch(i[At]){case cn:case lr:case Ye:case lt:return!0}return!1}let pt=Symbol("break visit");var gs=Symbol("skip children");let Ot=Symbol("remove node");function Tt(i,r){r=Mr(r),_t(i)?er(null,i.contents,r,Object.freeze([i]))===Ot&&(i.contents=null):er(null,i,r,Object.freeze([]))}function er(i,r,a,o){var c=Gn(i,r,a,o);if(Qe(c)||tt(c))return Jn(i,o,c),er(i,c,a,o);if(typeof c!="symbol"){if(at(r)){o=Object.freeze(o.concat(r));for(let S=0;S<r.items.length;++S){var m=er(S,r.items[S],a,o);if(typeof m=="number")S=m-1;else{if(m===pt)return pt;m===Ot&&(r.items.splice(S,1),--S)}}}else if(tt(r)){if(o=Object.freeze(o.concat(r)),i=er("key",r.key,a,o),i===pt||(i===Ot&&(r.key=null),i=er("value",r.value,a,o),i===pt))return pt;i===Ot&&(r.value=null)}}return c}async function un(i,r){r=Mr(r),_t(i)?await Ls(null,i.contents,r,Object.freeze([i]))===Ot&&(i.contents=null):await Ls(null,i,r,Object.freeze([]))}async function Ls(i,r,a,o){var c=await Gn(i,r,a,o);if(Qe(c)||tt(c))return Jn(i,o,c),Ls(i,c,a,o);if(typeof c!="symbol"){if(at(r)){o=Object.freeze(o.concat(r));for(let S=0;S<r.items.length;++S){var m=await Ls(S,r.items[S],a,o);if(typeof m=="number")S=m-1;else{if(m===pt)return pt;m===Ot&&(r.items.splice(S,1),--S)}}}else if(tt(r)){if(o=Object.freeze(o.concat(r)),i=await Ls("key",r.key,a,o),i===pt||(i===Ot&&(r.key=null),i=await Ls("value",r.value,a,o),i===pt))return pt;i===Ot&&(r.value=null)}}return c}function Mr(i){return typeof i=="object"&&(i.Collection||i.Node||i.Value)?Object.assign({Alias:i.Node,Map:i.Node,Scalar:i.Node,Seq:i.Node},i.Value&&{Map:i.Value,Scalar:i.Value,Seq:i.Value},i.Collection&&{Map:i.Collection,Seq:i.Collection},i):i}function Gn(i,r,a,o){var c,m,S,x,_;return typeof a=="function"?a(i,r,o):Ut(r)?(c=a.Map)==null?void 0:c.call(a,i,r,o):Lr(r)?(m=a.Seq)==null?void 0:m.call(a,i,r,o):tt(r)?(S=a.Pair)==null?void 0:S.call(a,i,r,o):rt(r)?(x=a.Scalar)==null?void 0:x.call(a,i,r,o):It(r)?(_=a.Alias)==null?void 0:_.call(a,i,r,o):void 0}function Jn(i,r,a){if(r=r[r.length-1],at(r))r.items[i]=a;else if(tt(r))i==="key"?r.key=a:r.value=a;else{if(!_t(r))throw i=It(r)?"alias":"scalar",new Error(`Cannot replace node with ${i} parent`);r.contents=a}}Tt.BREAK=pt,Tt.SKIP=gs,Tt.REMOVE=Ot,un.BREAK=pt,un.SKIP=gs,un.REMOVE=Ot;let ca={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class $t{constructor(r,a){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},$t.defaultYaml,r),this.tags=Object.assign({},$t.defaultTags,a)}clone(){var r=new $t(this.yaml,this.tags);return r.docStart=this.docStart,r}atDocument(){var r=new $t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:$t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},$t.defaultTags)}return r}add(r,a){this.atNextDocument&&(this.yaml={explicit:$t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},$t.defaultTags),this.atNextDocument=!1);var o,c,m=r.trim().split(/[ \t]+/),S=m.shift();switch(S){case"%TAG":return m.length!==2&&(a(0,"%TAG directive should contain exactly two parts"),m.length<2)?!1:([c,o]=m,this.tags[c]=o,!0);case"%YAML":return this.yaml.explicit=!0,m.length!==1?(a(0,"%YAML directive should contain exactly one part"),!1):([c]=m,c==="1.1"||c==="1.2"?(this.yaml.version=c,!0):(a(6,"Unsupported YAML version "+c,/^\d+\.\d+$/.test(c)),!1));default:return a(0,"Unknown directive "+S,!0),!1}}tagName(r,a){if(r==="!")return"!";if(r[0]!=="!")a("Not a valid tag: "+r);else{if(r[1]==="<")return(o=r.slice(2,-1))==="!"||o==="!!"?(a(`Verbatim tags aren't resolved, so ${r} is invalid.`),null):(r[r.length-1]!==">"&&a("Verbatim tags must end with a >"),o);var[,o,c]=r.match(/^(.*!)([^!]*)$/s),m=(c||a(`The ${r} tag has no suffix`),this.tags[o]);if(m)try{return m+decodeURIComponent(c)}catch(S){return a(String(S)),null}if(o==="!")return r;a("Could not resolve tag: "+r)}return null}tagString(r){for(let[a,o]of Object.entries(this.tags))if(r.startsWith(o))return a+r.substring(o.length).replace(/[!,[\]{}]/g,c=>ca[c]);return r[0]==="!"?r:`!<${r}>`}toString(r){var a=this.yaml.explicit?["%YAML "+(this.yaml.version||"1.2")]:[],o=Object.entries(this.tags);let c;if(r&&0<o.length&&Qe(r.contents)){let m={};Tt(r.contents,(S,x)=>{Qe(x)&&x.tag&&(m[x.tag]=!0)}),c=Object.keys(m)}else c=[];for(let[m,S]of o)m==="!!"&&S==="tag:yaml.org,2002:"||r&&!c.some(x=>x.startsWith(S))||a.push(`%TAG ${m} `+S);return a.join(`
`)}}function Hn(i){if(/[\x00-\x19\s,[\]{}]/.test(i))throw i=JSON.stringify(i),new Error("Anchor must not contain whitespace or control characters: "+i);return 1}function ho(i){let r=new Set;return Tt(i,{Value(a,o){o.anchor&&r.add(o.anchor)}}),r}function pn(i,r){for(let o=1;;++o){var a=""+i+o;if(!r.has(a))return a}}function Rr(i,r,a,o){if(o&&typeof o=="object")if(Array.isArray(o))for(let d=0,A=o.length;d<A;++d){var c=o[d],m=Rr(i,o,String(d),c);m===void 0?delete o[d]:m!==c&&(o[d]=m)}else if(o instanceof Map)for(var S of Array.from(o.keys())){var x=o.get(S),_=Rr(i,o,S,x);_===void 0?o.delete(S):_!==x&&o.set(S,_)}else if(o instanceof Set)for(var f of Array.from(o)){var b=Rr(i,o,f,f);b===void 0?o.delete(f):b!==f&&(o.delete(f),o.add(b))}else for(var[N,k]of Object.entries(o)){var w=Rr(i,o,N,k);w===void 0?delete o[N]:w!==k&&(o[N]=w)}return i.call(r,a,o)}function Ct(i,r,a){if(Array.isArray(i))return i.map((c,m)=>Ct(c,String(m),a));if(i&&typeof i.toJSON=="function"){if(!a||(o=i,!rt(o)&&!at(o))||!o.anchor)return i.toJSON(r,a);let c={aliasCount:0,count:1,res:void 0};return a.anchors.set(i,c),a.onCreate=m=>{c.res=m,delete a.onCreate},o=i.toJSON(r,a),a.onCreate&&a.onCreate(o),o}var o;return typeof i!="bigint"||a!=null&&a.keep?i:Number(i)}$t.defaultYaml={explicit:!1,version:"1.2"},$t.defaultTags={"!!":"tag:yaml.org,2002:"};class Wn{constructor(r){Object.defineProperty(this,At,{value:r})}clone(){var r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(r.range=this.range.slice()),r}toJS(r,{mapAsMap:a,maxAliasCount:o,onAnchor:c,reviver:m}={}){if(!_t(r))throw new TypeError("A document argument is required");r={anchors:new Map,doc:r,keep:!0,mapAsMap:a===!0,mapKeyWarned:!1,maxAliasCount:typeof o=="number"?o:100};let S=Ct(this,"",r);if(typeof c=="function")for(let{count:x,res:_}of r.anchors.values())c(_,x);return typeof m=="function"?Rr(m,{"":S},"",S):S}}class Ms extends Wn{constructor(r){super(cn),this.source=r,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(r){let a;return Tt(r,{Node:(o,c)=>{if(c===this)return Tt.BREAK;c.anchor===this.source&&(a=c)}}),a}toJSON(r,a){if(!a)return{source:this.source};var o,{anchors:c,doc:m,maxAliasCount:S}=a,x=this.resolve(m);if(!x)throw o="Unresolved alias (the anchor must be set before the alias): "+this.source,new ReferenceError(o);let _=c.get(x);if(_||(Ct(x,null,a),_=c.get(x)),!_||_.res===void 0)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(0<=S&&(_.count+=1,_.aliasCount===0&&(_.aliasCount=function f(b,N,k){{if(It(N)){let d=N.resolve(b),A=k&&d&&k.get(d);return A?A.count*A.aliasCount:0}if(at(N)){let d=0;for(var w of N.items){let A=f(b,w,k);A>d&&(d=A)}return d}if(tt(N)){let d=f(b,N.key,k),A=f(b,N.value,k);return Math.max(d,A)}}return 1}(m,x,c)),_.count*_.aliasCount>S))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return _.res}toString(r,a,o){var c,m="*"+this.source;if(r){if(Hn(this.source),r.options.verifyAliasOrder&&!r.anchors.has(this.source))throw c="Unresolved alias (the anchor must be set before the alias): "+this.source,new Error(c);if(r.implicitKey)return m+" "}return m}}let ua=i=>!i||typeof i!="function"&&typeof i!="object";class Re extends Wn{constructor(r){super(Ye),this.value=r}toJSON(r,a){return a!=null&&a.keep?this.value:Ct(this.value,r,a)}toString(){return String(this.value)}}Re.BLOCK_FOLDED="BLOCK_FOLDED",Re.BLOCK_LITERAL="BLOCK_LITERAL",Re.PLAIN="PLAIN",Re.QUOTE_DOUBLE="QUOTE_DOUBLE",Re.QUOTE_SINGLE="QUOTE_SINGLE";let mo="tag:yaml.org,2002:";function fs(i,r,a){var N,k,w;if(Qe(i=_t(i)?i.contents:i))return i;if(tt(i))return(o=(k=(N=a.schema[lr]).createNode)==null?void 0:k.call(N,a.schema,null,a)).items.push(i),o;(i instanceof String||i instanceof Number||i instanceof Boolean||typeof BigInt<"u"&&i instanceof BigInt)&&(i=i.valueOf());var{aliasDuplicateObjects:o,onAnchor:c,onTagObj:m,schema:S,sourceObjects:x}=a;let _;if(o&&i&&typeof i=="object"){if(_=x.get(i))return _.anchor||(_.anchor=c(i)),new Ms(_.anchor);_={anchor:null,node:null},x.set(i,_)}let f=((d,A,L)=>{if(A){var R=L.filter(C=>C.tag===A),R=R.find(C=>!C.format)??R[0];if(R)return R;throw new Error(`Tag ${A} not found`)}return L.find(C=>{var q;return((q=C.identify)==null?void 0:q.call(C,d))&&!C.format})})(i,r=r!=null&&r.startsWith("!!")?mo+r.slice(2):r,S.tags);if(!f){if(!(i=i&&typeof i.toJSON=="function"?i.toJSON():i)||typeof i!="object"){let d=new Re(i);return _&&(_.node=d),d}f=!(i instanceof Map)&&Symbol.iterator in Object(i)?S[lt]:S[lr]}m&&(m(f),delete a.onTagObj);let b=f!=null&&f.createNode?f.createNode(a.schema,i,a):typeof((w=f==null?void 0:f.nodeClass)==null?void 0:w.from)=="function"?f.nodeClass.from(a.schema,i,a):new Re(i);return r?b.tag=r:f.default||(b.tag=f.tag),_&&(_.node=b),b}function Yn(i,r,a){let o=a;for(let S=r.length-1;0<=S;--S){var c,m=r[S];o=typeof m=="number"&&Number.isInteger(m)&&0<=m?((c=[])[m]=o,c):new Map([[m,o]])}return fs(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:i,sourceObjects:new Map})}let dn=i=>i==null||typeof i=="object"&&!!i[Symbol.iterator]().next().done;class pa extends Wn{constructor(r,a){super(r),Object.defineProperty(this,"schema",{value:a,configurable:!0,enumerable:!1,writable:!0})}clone(r){var a=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return r&&(a.schema=r),a.items=a.items.map(o=>Qe(o)||tt(o)?o.clone(r):o),this.range&&(a.range=this.range.slice()),a}addIn(r,a){if(dn(r))this.add(a);else{var[r,...o]=r,c=this.get(r,!0);if(at(c))c.addIn(o,a);else{if(c!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: `+o);this.set(r,Yn(this.schema,o,a))}}}deleteIn(a){var[a,...o]=a;if(o.length===0)return this.delete(a);var c=this.get(a,!0);if(at(c))return c.deleteIn(o);throw new Error(`Expected YAML collection at ${a}. Remaining path: `+o)}getIn(c,a){var[c,...o]=c,c=this.get(c,!0);return o.length===0?!a&&rt(c)?c.value:c:at(c)?c.getIn(o,a):void 0}hasAllNullValues(r){return this.items.every(a=>!!tt(a)&&((a=a.value)==null||r&&rt(a)&&a.value==null&&!a.commentBefore&&!a.comment&&!a.tag))}hasIn(a){var[a,...o]=a;return o.length===0?this.has(a):!!at(a=this.get(a,!0))&&a.hasIn(o)}setIn(o,a){var[o,...c]=o;if(c.length===0)this.set(o,a);else{var m=this.get(o,!0);if(at(m))m.setIn(c,a);else{if(m!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${o}. Remaining path: `+c);this.set(o,Yn(this.schema,c,a))}}}}let il=i=>i.replace(/^(?!$)(?: $)?/gm,"#");function Ft(i,r){return/^\n+$/.test(i)?i.substring(1):r?i.replace(/^(?! *$)/gm,r):i}let br=(i,r,a)=>i.endsWith(`
`)?Ft(a,r):a.includes(`
`)?`
`+Ft(a,r):(i.endsWith(" ")?"":" ")+a,Qn="flow",Rs="block",fn="quoted";function Vt(i,r,a="flow",{indentAtStart:o,lineWidth:c=80,minContentWidth:m=20,onFold:S,onOverflow:x}={}){if(!c||c<0)return i;c<m&&(m=0);var _=Math.max(1+m,1+c-r.length);if(i.length<=_)return i;var f=[],b={};let N=c-r.length,k=(typeof o=="number"&&(o>c-Math.max(2,m)?f.push(0):N=c-o),void 0),w,d=!1,A=-1,L=-1,R=-1;a===Rs&&(A=yo(i,A,r.length))!==-1&&(N=A+_);for(let Z;Z=i[A+=1];){if(a===fn&&Z==="\\"){switch(i[(L=A)+1]){case"x":A+=3;break;case"u":A+=5;break;case"U":A+=9;break;default:A+=1}R=A}if(Z===`
`)a===Rs&&(A=yo(i,A,r.length)),N=A+r.length+_,k=void 0;else if(Z===" "&&w&&w!==" "&&w!==`
`&&w!=="	"&&(C=i[A+1])&&C!==" "&&C!==`
`&&C!=="	"&&(k=A),A>=N)if(k)f.push(k),N=k+_,k=void 0;else if(a===fn){for(;w===" "||w==="	";)w=Z,Z=i[A+=1],d=!0;var C=A>R+1?A-2:L-1;if(b[C])return i;f.push(C),b[C]=!0,N=C+_,k=void 0}else d=!0;w=Z}if(d&&x&&x(),f.length===0)return i;S&&S();let q=i.slice(0,f[0]);for(let Z=0;Z<f.length;++Z){var H=f[Z];let ee=f[Z+1]||i.length;H===0?q=`
`+r+i.slice(0,ee):(a===fn&&b[H]&&(q+=i[H]+"\\"),q+=`
`+r+i.slice(H+1,ee))}return q}function yo(i,r,a){let o=r,c=r+1,m=i[c];for(;m===" "||m==="	";)if(r<c+a)m=i[++r];else{for(;(m=i[++r])&&m!==`
`;);o=r,c=r+1,m=i[c]}return o}let Zn=(i,r)=>({indentAtStart:r?i.indent.length:i.indentAtStart,lineWidth:i.options.lineWidth,minContentWidth:i.options.minContentWidth}),Ds=i=>/^(%|---|\.\.\.)/m.test(i);function hn(i,r){var a=JSON.stringify(i);if(r.options.doubleQuotedAsJSON)return a;var o=r.implicitKey,c=r.options.doubleQuotedMinMultiLineLength,m=r.indent||(Ds(i)?"  ":"");let S="",x=0;for(let f=0,b=a[f];b;b=a[++f])if(b===" "&&a[f+1]==="\\"&&a[f+2]==="n"&&(S+=a.slice(x,f)+"\\ ",f+=1,x=f,b="\\"),b==="\\")switch(a[f+1]){case"u":S+=a.slice(x,f);var _=a.substr(f+2,4);switch(_){case"0000":S+="\\0";break;case"0007":S+="\\a";break;case"000b":S+="\\v";break;case"001b":S+="\\e";break;case"0085":S+="\\N";break;case"00a0":S+="\\_";break;case"2028":S+="\\L";break;case"2029":S+="\\P";break;default:_.substr(0,2)==="00"?S+="\\x"+_.substr(2):S+=a.substr(f,6)}f+=5,x=f+1;break;case"n":if(o||a[f+2]==='"'||a.length<c)f+=1;else{for(S+=a.slice(x,f)+`

`;a[f+2]==="\\"&&a[f+3]==="n"&&a[f+4]!=='"';)S+=`
`,f+=2;S+=m,a[f+2]===" "&&(S+="\\"),f+=1,x=f+1}break;default:f+=1}return S=x?S+a.slice(x):a,o?S:Vt(S,m,fn,Zn(r,!1))}function Xn(i,r){var a;return r.options.singleQuote===!1||r.implicitKey&&i.includes(`
`)||/[ \t]\n|\n[ \t]/.test(i)?hn(i,r):(a=r.indent||(Ds(i)?"  ":""),i="'"+i.replace(/'/g,"''").replace(/\n+/g,`$&
`+a)+"'",r.implicitKey?i:Vt(i,a,Qn,Zn(r,!1)))}function Dr(i,r){var a,o,c=r.options.singleQuote;return(c!==!1&&(a=i.includes('"'),o=i.includes("'"),a&&!o||(!o||a)&&c)?Xn:hn)(i,r)}let Vs;try{Vs=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Vs=/\n+(?!\n|$)/g}function Vr({comment:i,type:r,value:a},o,c,m){var{blockQuote:S,commentString:x,lineWidth:f}=o.options;if(!S||/\n[\t ]+$/.test(a)||/^\s*$/.test(a))return Dr(a,o);var _=o.indent||(o.forceBlockIndent||Ds(a)?"  ":""),f=S==="literal"||S!=="folded"&&r!==Re.BLOCK_FOLDED&&(r===Re.BLOCK_LITERAL||!((Z,ee,$e)=>{if(ee&&!(ee<0)){var xe=ee-$e,ce=Z.length;if(!(ce<=xe)){for(let ve=0,de=0;ve<ce;++ve)if(Z[ve]===`
`){if(ve-de>xe)return 1;if(ce-(de=ve+1)<=xe)return}return 1}}})(a,f,_.length));if(!a)return f?`|
`:`>
`;let b,N;for(N=a.length;0<N;--N){var k=a[N-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let w=a.substring(N);var d=w.indexOf(`
`);d===-1?b="-":a===w||d!==w.length-1?(b="+",m&&m()):b="",w&&(a=a.slice(0,-w.length),w=(w=w[w.length-1]===`
`?w.slice(0,-1):w).replace(Vs,"$&"+_));let A=!1,L,R=-1;for(L=0;L<a.length;++L){var C=a[L];if(C===" ")A=!0;else{if(C!==`
`)break;R=L}}let q=a.substring(0,R<L?R+1:L),H=(q&&(a=a.substring(q.length),q=q.replace(/\n+/g,"$&"+_)),(A?_?"2":"1":"")+b);if(i&&(H+=" "+x(i.replace(/ ?[\r\n]+/g," ")),c)&&c(),!f){d=a.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&"+_);let Z=!1;if(m=Zn(o,!0),x=(S!=="folded"&&r!==Re.BLOCK_FOLDED&&(m.onOverflow=()=>{Z=!0}),Vt(""+q+d+w,_,Rs,m)),!Z)return`>${H}
`+_+x}return a=a.replace(/\n+/g,"$&"+_),`|${H}
`+_+q+a+w}function qs(i,r,a,o){let{implicitKey:c,inFlow:m}=r,S=typeof i.value=="string"?i:Object.assign({},i,{value:String(i.value)}),x=i.type;i=N=>{switch(N){case Re.BLOCK_FOLDED:case Re.BLOCK_LITERAL:return c||m?Dr(S.value,r):Vr(S,r,a,o);case Re.QUOTE_DOUBLE:return hn(S.value,r);case Re.QUOTE_SINGLE:return Xn(S.value,r);case Re.PLAIN:{var k=S,w=r,d=a,A=o,{type:L,value:R}=k,{actualString:C,implicitKey:q,indent:H,indentStep:Z,inFlow:ee}=w;if(q&&R.includes(`
`)||ee&&/[[\]{},]/.test(R))return Dr(R,w);if(!R||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(R))return q||ee||!R.includes(`
`)?Dr(R,w):Vr(k,w,d,A);if(!q&&!ee&&L!==Re.PLAIN&&R.includes(`
`))return Vr(k,w,d,A);if(Ds(R)){if(H==="")return w.forceBlockIndent=!0,Vr(k,w,d,A);if(q&&H===Z)return Dr(R,w)}let $e=R.replace(/\n+/g,`$&
`+H);if(C){var ee=de=>{var me;return de.default&&de.tag!=="tag:yaml.org,2002:str"&&((me=de.test)==null?void 0:me.test($e))},{compat:L,tags:k}=w.doc.schema;if(k.some(ee)||L!=null&&L.some(ee))return Dr(R,w)}return q?$e:Vt($e,H,Qn,Zn(w,!1))}default:return null}};let _=i(x=x!==Re.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(S.value)?Re.QUOTE_DOUBLE:x);if(_===null){var{defaultKeyType:b,defaultStringType:f}=r.options,b=c&&b||f;if((_=i(b))===null)throw new Error("Unsupported default string type "+b)}return _}function ei(i,r){r=Object.assign({blockQuote:!0,commentString:il,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},i.schema.toStringOptions,r);let a;switch(r.collectionStyle){case"block":a=!1;break;case"flow":a=!0;break;default:a=null}return{anchors:new Set,doc:i,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:a,options:r}}function cr(f,r,a,o){var k;if(tt(f))return f.toString(r,a,o);if(It(f)){if(r.doc.directives)return f.toString(r);if((k=r.resolvedAliases)!=null&&k.has(f))throw new TypeError("Cannot stringify circular structure without alias nodes");r.resolvedAliases?r.resolvedAliases.add(f):r.resolvedAliases=new Set([f]),f=f.resolve(r.doc)}let c;var m,S,x,_,f=Qe(f)?f:r.doc.createNode(f,{onTagObj:w=>c=w}),b=(c=c||((w,d)=>{var C;if(d.tag){var A=w.filter(q=>q.tag===d.tag);if(0<A.length)return A.find(q=>q.format===d.format)??A[0]}let L,R;if(rt(d)){R=d.value;let q=w.filter(H=>{var Z;return(Z=H.identify)==null?void 0:Z.call(H,R)});1<q.length&&0<(A=q.filter(H=>H.test)).length&&(q=A),L=q.find(H=>H.format===d.format)??q.find(H=>!H.format)}else R=d,L=w.find(q=>q.nodeClass&&R instanceof q.nodeClass);if(L)return L;throw A=((C=R==null?void 0:R.constructor)==null?void 0:C.name)??typeof R,new Error(`Tag not resolved for ${A} value`)})(r.doc.schema.tags,f),[N,m,{anchors:S,doc:x}]=[f,c,r],x.directives?(_=[],(b=(rt(N)||at(N))&&N.anchor)&&Hn(b)&&(S.add(b),_.push("&"+b)),(S=N.tag||(m.default?null:m.tag))&&_.push(x.directives.tagString(S)),_.join(" ")):""),N=(0<b.length&&(r.indentAtStart=(r.indentAtStart??0)+b.length+1),typeof c.stringify=="function"?c.stringify(f,r,a,o):rt(f)?qs(f,r,a,o):f.toString(r,a,o));return b?rt(f)||N[0]==="{"||N[0]==="["?b+" "+N:b+`
`+r.indent+N:N}function da(i,r){i!=="debug"&&i!=="warn"||console.warn(r)}let ft={identify:i=>i==="<<"||typeof i=="symbol"&&i.description==="<<",default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Re(Symbol("<<")),{addToJSMap:Ks}),stringify:()=>"<<"};function Ks(i,r,a){if(a=i&&It(a)?a.resolve(i.doc):a,Lr(a))for(var o of a.items)wr(i,r,o);else if(Array.isArray(a))for(var c of a)wr(i,r,c);else wr(i,r,a)}function wr(i,r,a){var o=i&&It(a)?a.resolve(i.doc):a;if(!Ut(o))throw new Error("Merge sources must be maps or map aliases");for(let[c,m]of o.toJSON(null,i,Map))r instanceof Map?r.has(c)||r.set(c,m):r instanceof Set?r.add(c):Object.prototype.hasOwnProperty.call(r,c)||Object.defineProperty(r,c,{value:m,writable:!0,enumerable:!0,configurable:!0})}function mn(i,r,{key:a,value:o}){var c,m;return Qe(a)&&a.addToJSMap?a.addToJSMap(i,r,o):(c=i,m=a,(ft.identify(m)||rt(m)&&(!m.type||m.type===Re.PLAIN)&&ft.identify(m.value))&&(c!=null&&c.doc.schema.tags.some(S=>S.tag===ft.tag&&S.default))?Ks(i,r,o):(m=Ct(a,"",i),r instanceof Map?r.set(m,Ct(o,m,i)):r instanceof Set?r.add(m):(o=Ct(o,c=((S,x,_)=>{if(x===null)return"";if(typeof x!="object")return String(x);if(Qe(S)&&(_!=null&&_.doc)){var f,b=ei(_.doc,{});b.anchors=new Set;for(f of _.anchors.keys())b.anchors.add(f.anchor);if(b.inFlow=!0,b.inStringifyKey=!0,S=S.toString(b),!_.mapKeyWarned){let N=JSON.stringify(S);40<N.length&&(N=N.substring(0,36)+'..."'),da(_.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${N}. Set mapAsMap: true to use object keys.`),_.mapKeyWarned=!0}return S}return JSON.stringify(x)})(a,m,i),i),c in r?Object.defineProperty(r,c,{value:o,writable:!0,enumerable:!0,configurable:!0}):r[c]=o))),r}function hs(i,r,a){return i=fs(i,void 0,a),r=fs(r,void 0,a),new ct(i,r)}class ct{constructor(r,a=null){Object.defineProperty(this,At,{value:ds}),this.key=r,this.value=a}clone(r){let{key:a,value:o}=this;return Qe(a)&&(a=a.clone(r)),Qe(o)&&(o=o.clone(r)),new ct(a,o)}toJSON(r,a){return mn(a,a!=null&&a.mapAsMap?new Map:{},this)}toString(r,a,o){if(r!=null&&r.doc){var[{key:r,value:a},o,c,m]=[this,r,a,o],{allNullValues:S,doc:x,indent:_,indentStep:f,options:{commentString:b,indentSeq:N,simpleKeys:k}}=o;let L=Qe(r)&&r.comment||null;if(k){if(L)throw new Error("With simple keys, key nodes cannot have comments");if(at(r)||!Qe(r)&&typeof r=="object")throw new Error("With simple keys, collection cannot be used as a key value")}let R=!k&&(!r||L&&a==null&&!o.inFlow||at(r)||(rt(r)?r.type===Re.BLOCK_FOLDED||r.type===Re.BLOCK_LITERAL:typeof r=="object")),C=(o=Object.assign({},o,{allNullValues:!1,implicitKey:!R&&(k||!S),indent:_+f}),!1),q=!1,H=cr(r,o,()=>C=!0,()=>q=!0);if(!R&&!o.inFlow&&1024<H.length){if(k)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");R=!0}if(o.inFlow){if(S||a==null)return C&&c&&c(),H===""?"?":R?"? "+H:H}else if(S&&!k||a==null&&R)return H="? "+H,L&&!C?H+=br(H,o.indent,b(L)):q&&m&&m(),H;C&&(L=null),R?(L&&(H+=br(H,o.indent,b(L))),H=`? ${H}
${_}:`):(H+=":",L&&(H+=br(H,o.indent,b(L))));let Z,ee,$e,xe=(Qe(a)?(Z=!!a.spaceBefore,ee=a.commentBefore,$e=a.comment):(Z=!1,ee=null,$e=null,a&&typeof a=="object"&&(a=x.createNode(a))),o.implicitKey=!1,R||L||!rt(a)||(o.indentAtStart=H.length+1),q=!1,N||!(2<=f.length)||o.inFlow||R||!Lr(a)||a.flow||a.tag||a.anchor||(o.indent=o.indent.substring(2)),!1),ce=(r=cr(a,o,()=>xe=!0,()=>q=!0)," ");if(L||Z||ee)ce=Z?`
`:"",ee&&(S=b(ee),ce+=`
`+Ft(S,o.indent)),r!==""||o.inFlow?ce+=`
`+o.indent:ce===`
`&&(ce=`

`);else if(!R&&at(a)){if(k=r[0],_=r.indexOf(`
`),x=_!==-1,N=o.inFlow??a.flow??a.items.length===0,x||!N){let ve=!1;if(x&&(k==="&"||k==="!")){let de=r.indexOf(" ");((de=k==="&"&&de!==-1&&de<_&&r[de+1]==="!"?r.indexOf(" ",de+1):de)===-1||_<de)&&(ve=!0)}ve||(ce=`
`+o.indent)}}else r!==""&&r[0]!==`
`||(ce="");return H+=ce+r,o.inFlow?xe&&c&&c():$e&&!xe?H+=br(H,o.indent,b($e)):q&&m&&m(),H}return JSON.stringify(this)}}function fa(i,r,a){return(r.inFlow??i.flow?ha:go)(i,r,a)}function go({comment:i,items:r},a,{blockItemPrefix:o,flowChars:c,itemIndent:m,onChompKeep:S,onComment:x}){var{indent:_,options:{commentString:f}}=a,b=Object.assign({},a,{indent:m,type:null});let N=!1;var k=[];for(let R=0;R<r.length;++R){var w,d=r[R];let C=null,q=(Qe(d)?(!N&&d.spaceBefore&&k.push(""),Bs(a,k,d.commentBefore,N),d.comment&&(C=d.comment)):tt(d)&&(w=Qe(d.key)?d.key:null)&&(!N&&w.spaceBefore&&k.push(""),Bs(a,k,w.commentBefore,N)),N=!1,cr(d,b,()=>C=null,()=>N=!0));C&&(q+=br(q,m,f(C))),N&&C&&(N=!1),k.push(o+q)}let A;if(k.length===0)A=c.start+c.end;else{A=k[0];for(let R=1;R<k.length;++R){var L=k[R];A+=L?`
`+_+L:`
`}}return i?(A+=`
`+Ft(f(i),_),x&&x()):N&&S&&S(),A}function ha({items:i},r,{flowChars:L,itemIndent:o}){var{indent:c,indentStep:m,flowCollectionPadding:S,options:{commentString:x}}=r,_=(o+=m,Object.assign({},r,{indent:o,inFlow:!0,type:null}));let f=!1,b=0;var N=[];for(let q=0;q<i.length;++q){var k,w,d=i[q];let H=null,Z=(Qe(d)?(d.spaceBefore&&N.push(""),Bs(r,N,d.commentBefore,!1),d.comment&&(H=d.comment)):tt(d)&&((k=Qe(d.key)?d.key:null)&&(k.spaceBefore&&N.push(""),Bs(r,N,k.commentBefore,!1),k.comment)&&(f=!0),(w=Qe(d.value)?d.value:null)?(w.comment&&(H=w.comment),w.commentBefore&&(f=!0)):d.value==null&&(k!=null&&k.comment)&&(H=k.comment)),H&&(f=!0),cr(d,_,()=>H=null));q<i.length-1&&(Z+=","),H&&(Z+=br(Z,o,x(H))),!f&&(N.length>b||Z.includes(`
`))&&(f=!0),N.push(Z),b=N.length}var A,{start:L,end:R}=L;if(N.length===0)return L+R;if(f||(A=N.reduce((q,H)=>q+H.length+2,2),f=0<r.options.lineWidth&&A>r.options.lineWidth),f){let q=L;for(var C of N)q+=C?`
`+m+c+C:`
`;return q+`
`+c+R}return""+L+S+N.join(" ")+S+R}function Bs({indent:i,options:{commentString:r}},a,o,c){(o=o&&c?o.replace(/^\n+/,""):o)&&(c=Ft(r(o),i),a.push(c.trimStart()))}function ms(i,r){var a,o=rt(r)?r.value:r;for(a of i)if(tt(a)&&(a.key===r||a.key===o||rt(a.key)&&a.key.value===o))return a}class Nt extends pa{static get tagName(){return"tag:yaml.org,2002:map"}constructor(r){super(lr,r),this.items=[]}static from(r,a,o){let{keepUndefined:c,replacer:m}=o,S=new this(r);var x=(N,k)=>{if(typeof m=="function")k=m.call(a,N,k);else if(Array.isArray(m)&&!m.includes(N))return;k===void 0&&!c||S.items.push(hs(N,k,o))};if(a instanceof Map)for(var[_,f]of a)x(_,f);else if(a&&typeof a=="object")for(var b of Object.keys(a))x(b,a[b]);return typeof r.sortMapEntries=="function"&&S.items.sort(r.sortMapEntries),S}add(r,a){var m;let o;o=tt(r)?r:r&&typeof r=="object"&&"key"in r?new ct(r.key,r.value):new ct(r,r==null?void 0:r.value),r=ms(this.items,o.key);let c=(m=this.schema)==null?void 0:m.sortMapEntries;if(r){if(!a)throw new Error(`Key ${o.key} already set`);rt(r.value)&&ua(o.value)?r.value.value=o.value:r.value=o.value}else!c||(a=this.items.findIndex(S=>c(o,S)<0))===-1?this.items.push(o):this.items.splice(a,0,o)}delete(r){return r=ms(this.items,r),!!r&&0<this.items.splice(this.items.indexOf(r),1).length}get(r,a){var o;return r=(o=ms(this.items,r))==null?void 0:o.value,(!a&&rt(r)?r.value:r)??void 0}has(r){return!!ms(this.items,r)}set(r,a){this.add(new ct(r,a),!0)}toJSON(r,a,o){var c,m=o?new o:a!=null&&a.mapAsMap?new Map:{};a!=null&&a.onCreate&&a.onCreate(m);for(c of this.items)mn(a,m,c);return m}toString(r,a,o){if(!r)return JSON.stringify(this);for(var c of this.items)if(!tt(c))throw new Error(`Map items must all be pairs; found ${JSON.stringify(c)} instead`);return!r.allNullValues&&this.hasAllNullValues(!1)&&(r=Object.assign({},r,{allNullValues:!0})),fa(this,r,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:r.indent||"",onChompKeep:o,onComment:a})}}let qr={collection:"map",default:!0,nodeClass:Nt,tag:"tag:yaml.org,2002:map",resolve(i,r){return Ut(i)||r("Expected a mapping for this tag"),i},createNode:(i,r,a)=>Nt.from(i,r,a)};class ur extends pa{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(r){super(lt,r),this.items=[]}add(r){this.items.push(r)}delete(r){return r=ys(r),typeof r=="number"&&0<this.items.splice(r,1).length}get(o,a){var o=ys(o);if(typeof o=="number")return o=this.items[o],!a&&rt(o)?o.value:o}has(r){return r=ys(r),typeof r=="number"&&r<this.items.length}set(r,a){var o=ys(r);if(typeof o!="number")throw new Error(`Expected a valid index, not ${r}.`);r=this.items[o],rt(r)&&ua(a)?r.value=a:this.items[o]=a}toJSON(r,a){var o,c=[];a!=null&&a.onCreate&&a.onCreate(c);let m=0;for(o of this.items)c.push(Ct(o,String(m++),a));return c}toString(r,a,o){return r?fa(this,r,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(r.indent||"")+"  ",onChompKeep:o,onComment:a}):JSON.stringify(this)}static from(r,a,o){var c,m=o.replacer,S=new this(r);if(a&&Symbol.iterator in Object(a)){let _=0;for(var x of a)typeof m=="function"&&(c=a instanceof Set?x:String(_++),x=m.call(a,c,x)),S.items.push(fs(x,void 0,o))}return S}}function ys(i){let r=rt(i)?i.value:i;return typeof(r=r&&typeof r=="string"?Number(r):r)=="number"&&Number.isInteger(r)&&0<=r?r:null}let Us={collection:"seq",default:!0,nodeClass:ur,tag:"tag:yaml.org,2002:seq",resolve(i,r){return Lr(i)||r("Expected a sequence for this tag"),i},createNode:(i,r,a)=>ur.from(i,r,a)},Kr={identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify(i,r,a,o){return qs(i,r=Object.assign({actualString:!0},r),a,o)}},ti={identify:i=>i==null,createNode:()=>new Re(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Re(null),stringify:({source:i},r)=>typeof i=="string"&&ti.test.test(i)?i:r.options.nullStr},ma={identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:i=>new Re(i[0]==="t"||i[0]==="T"),stringify({source:i,value:r},a){return i&&ma.test.test(i)&&r===(i[0]==="t"||i[0]==="T")?i:r?a.options.trueStr:a.options.falseStr}};function zt({format:i,minFractionDigits:r,tag:a,value:o}){if(typeof o=="bigint")return String(o);var c=typeof o=="number"?o:Number(o);if(!isFinite(c))return isNaN(c)?".nan":c<0?"-.inf":".inf";let m=JSON.stringify(o);if(!i&&r&&(!a||a==="tag:yaml.org,2002:float")&&/^\d/.test(m)){let S=m.indexOf("."),x=(S<0&&(S=m.length,m+="."),r-(m.length-S-1));for(;0<x--;)m+="0"}return m}var gs={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:zt},ya={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i),stringify(i){var r=Number(i.value);return isFinite(r)?r.toExponential():zt(i)}},ga={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(i){var r=new Re(parseFloat(i)),a=i.indexOf(".");return a!==-1&&i[i.length-1]==="0"&&(r.minFractionDigits=i.length-a-1),r},stringify:zt};let ri=i=>typeof i=="bigint"||Number.isInteger(i),va=(i,r,a,{intAsBigInt:o})=>o?BigInt(i):parseInt(i.substring(r),a);function vo(i,r,a){var o=i.value;return ri(o)&&0<=o?a+o.toString(r):zt(i)}var yn={identify:i=>ri(i)&&0<=i,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(i,r,a)=>va(i,2,8,a),stringify:i=>vo(i,8,"0o")},bo={identify:ri,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(i,r,a)=>va(i,0,10,a),stringify:zt},Fs={identify:i=>ri(i)&&0<=i,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(i,r,a)=>va(i,2,16,a),stringify:i=>vo(i,16,"0x")},gn=[qr,Us,Kr,ti,ma,yn,bo,Fs,gs,ya,ga];function vn(i){return typeof i=="bigint"||Number.isInteger(i)}var Br=({value:i})=>JSON.stringify(i),Br=[qr,Us].concat([{identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify:Br},{identify:i=>i==null,createNode:()=>new Re(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Br},{identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:i=>i==="true",stringify:Br},{identify:vn,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(i,r,{intAsBigInt:a})=>a?BigInt(i):parseInt(i,10),stringify:({value:i})=>vn(i)?i.toString():JSON.stringify(i)},{identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:i=>parseFloat(i),stringify:Br}],{default:!0,tag:"",test:/^/,resolve(i,r){return r("Unresolved plain scalar "+JSON.stringify(i)),i}}),bn={identify:i=>i instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(i,r){if(typeof atob!="function")return r("This environment does not support reading binary tags; either Buffer or atob is required"),i;var a=atob(i.replace(/[\n\r]/g,"")),o=new Uint8Array(a.length);for(let c=0;c<a.length;++c)o[c]=a.charCodeAt(c);return o},stringify({comment:i,type:r,value:a},o,c,m){var S=a;let x;if(typeof btoa!="function")throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let N="";for(let k=0;k<S.length;++k)N+=String.fromCharCode(S[k]);x=btoa(N)}if((r=r||Re.BLOCK_LITERAL)!==Re.QUOTE_DOUBLE){var _=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),f=Math.ceil(x.length/_),b=new Array(f);for(let N=0,k=0;N<f;++N,k+=_)b[N]=x.substr(k,_);x=b.join(r===Re.BLOCK_LITERAL?`
`:" ")}return qs({comment:i,type:r,value:x},o,c,m)}};function Ur(i,r){if(Lr(i))for(let c=0;c<i.items.length;++c){let m=i.items[c];var a,o;tt(m)||(Ut(m)&&(1<m.items.length&&r("Each pair must have its own sequence indicator"),a=m.items[0]||new ct(new Re(null)),m.commentBefore&&(a.key.commentBefore=a.key.commentBefore?m.commentBefore+`
`+a.key.commentBefore:m.commentBefore),m.comment&&((o=a.value??a.key).comment=o.comment?m.comment+`
`+o.comment:m.comment),m=a),i.items[c]=tt(m)?m:new ct(m))}else r("Expected a sequence for this tag");return i}function ba(i,r,a){var o=a.replacer,c=new ur(i);c.tag="tag:yaml.org,2002:pairs";let m=0;if(r&&Symbol.iterator in Object(r))for(var S of r){typeof o=="function"&&(S=o.call(r,String(m++),S));let _,f;if(Array.isArray(S)){if(S.length!==2)throw new TypeError("Expected [key, value] tuple: "+S);_=S[0],f=S[1]}else if(S&&S instanceof Object){var x=Object.keys(S);if(x.length!==1)throw new TypeError(`Expected tuple with one key, not ${x.length} keys`);_=x[0],f=S[_]}else _=S;c.items.push(hs(_,f,a))}return c}var tr={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ur,createNode:ba};class rr extends ur{constructor(){super(),this.add=Nt.prototype.add.bind(this),this.delete=Nt.prototype.delete.bind(this),this.get=Nt.prototype.get.bind(this),this.has=Nt.prototype.has.bind(this),this.set=Nt.prototype.set.bind(this),this.tag=rr.tag}toJSON(r,a){if(!a)return super.toJSON(r);var o,c=new Map;a!=null&&a.onCreate&&a.onCreate(c);for(o of this.items){let m,S;if(tt(o)?(m=Ct(o.key,"",a),S=Ct(o.value,m,a)):m=Ct(o,"",a),c.has(m))throw new Error("Ordered maps must not include duplicate keys");c.set(m,S)}return c}static from(r,a,o){return r=ba(r,a,o),a=new this,a.items=r.items,a}}rr.tag="tag:yaml.org,2002:omap";var Lt={collection:"seq",identify:i=>i instanceof Map,nodeClass:rr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(o,r){var a,o=Ur(o,r),c=[];for({key:a}of o.items)rt(a)&&(c.includes(a.value)?r("Ordered maps must not include duplicate keys: "+a.value):c.push(a.value));return Object.assign(new rr,o)},createNode:(i,r,a)=>rr.from(i,r,a)};function _r({value:i,source:r},a){var o=i?$r:Fr;return r&&o.test.test(r)?r:i?a.options.trueStr:a.options.falseStr}let $r={identify:i=>i===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Re(!0),stringify:_r},Fr={identify:i=>i===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Re(!1),stringify:_r};var mr={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:zt},ze={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i.replace(/_/g,"")),stringify(i){var r=Number(i.value);return isFinite(r)?r.toExponential():zt(i)}},Ne={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(i){var r=new Re(parseFloat(i.replace(/_/g,""))),a=i.indexOf(".");return a!==-1&&(i=i.substring(a+1).replace(/_/g,""))[i.length-1]==="0"&&(r.minFractionDigits=i.length),r},stringify:zt};let We=i=>typeof i=="bigint"||Number.isInteger(i);function pr(i,r,a,{intAsBigInt:o}){var c=i[0];if(c!=="-"&&c!=="+"||(r+=1),i=i.substring(r).replace(/_/g,""),o){switch(a){case 2:i="0b"+i;break;case 8:i="0o"+i;break;case 16:i="0x"+i}let S=BigInt(i);return c==="-"?BigInt(-1)*S:S}let m=parseInt(i,a);return c==="-"?-1*m:m}function nt(i,r,a){var o=i.value;return We(o)?(r=o.toString(r),o<0?"-"+a+r.substr(1):a+r):zt(i)}var st={identify:We,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(i,r,a)=>pr(i,2,2,a),stringify:i=>nt(i,2,"0b")},kt={identify:We,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(i,r,a)=>pr(i,1,8,a),stringify:i=>nt(i,8,"0")},qt={identify:We,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(i,r,a)=>pr(i,0,10,a),stringify:zt},ui={identify:We,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(i,r,a)=>pr(i,2,16,a),stringify:i=>nt(i,16,"0x")};class Mt extends Nt{constructor(r){super(r),this.tag=Mt.tag}add(r){let a;a=tt(r)?r:r&&typeof r=="object"&&"key"in r&&"value"in r&&r.value===null?new ct(r.key,null):new ct(r,null),ms(this.items,a.key)||this.items.push(a)}get(r,a){return r=ms(this.items,r),!a&&tt(r)?rt(r.key)?r.key.value:r.key:r}set(r,a){if(typeof a!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof a);var o=ms(this.items,r);o&&!a?this.items.splice(this.items.indexOf(o),1):!o&&a&&this.items.push(new ct(r))}toJSON(r,a){return super.toJSON(r,a,Set)}toString(r,a,o){if(!r)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},r,{allNullValues:!0}),a,o);throw new Error("Set items must all have null values")}static from(r,a,o){var c=o.replacer,m=new this(r);if(a&&Symbol.iterator in Object(a))for(var S of a)typeof c=="function"&&(S=c.call(a,S,S)),m.items.push(hs(S,null,o));return m}}Mt.tag="tag:yaml.org,2002:set";var zr={collection:"map",identify:i=>i instanceof Set,nodeClass:Mt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(i,r,a)=>Mt.from(i,r,a),resolve(i,r){if(Ut(i)){if(i.hasAllNullValues(!0))return Object.assign(new Mt,i);r("Set items must all have null values")}else r("Expected a mapping for this tag");return i}};function vs(o,r){var a=o[0],o=a==="-"||a==="+"?o.substring(1):o;let c=m=>(r?BigInt:Number)(m);return o=o.replace(/_/g,"").split(":").reduce((m,S)=>m*c(60)+c(S),c(0)),a==="-"?c(-1)*o:o}function bs(c){let r=c.value,a=S=>S;if(typeof r=="bigint")a=S=>BigInt(S);else if(isNaN(r)||!isFinite(r))return zt(c);let o="";r<0&&(o="-",r*=a(-1));var c=a(60),m=[r%c];return r<60?m.unshift(0):(r=(r-m[0])/c,m.unshift(r%c),60<=r&&(r=(r-m[0])/c,m.unshift(r))),o+m.map(S=>String(S).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var wa={identify:i=>typeof i=="bigint"||Number.isInteger(i),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(i,r,{intAsBigInt:a})=>vs(i,a),stringify:bs},_a={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:i=>vs(i,!1),stringify:bs};let wn={identify:i=>i instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(i){if(i=i.match(wn.test),!i)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");var[,r,a,o,c,m,S]=i.map(Number),x=i[7]?Number((i[7]+"00").substr(1,3)):0;let _=Date.UTC(r,a-1,o,c||0,m||0,S||0,x);if(r=i[8],r&&r!=="Z"){let f=vs(r,!1);Math.abs(f)<30&&(f*=60),_-=6e4*f}return new Date(_)},stringify:({value:i})=>i.toISOString().replace(/(T00:00:00)?\.000Z$/,"")};st=[qr,Us,Kr,ti,$r,Fr,st,kt,qt,ui,mr,ze,Ne,bn,ft,Lt,tr,zr,wa,_a,wn];let wo=new Map([["core",gn],["failsafe",[qr,Us,Kr]],["json",Br],["yaml11",st],["yaml-1.1",st]]),Et={binary:bn,bool:ma,float:ga,floatExp:ya,floatNaN:gs,floatTime:_a,int:bo,intHex:Fs,intOct:yn,intTime:wa,map:qr,merge:ft,null:ti,omap:Lt,pairs:tr,seq:Us,set:zr,timestamp:wn},_o={"tag:yaml.org,2002:binary":bn,"tag:yaml.org,2002:merge":ft,"tag:yaml.org,2002:omap":Lt,"tag:yaml.org,2002:pairs":tr,"tag:yaml.org,2002:set":zr,"tag:yaml.org,2002:timestamp":wn};function si(i,r,a){var o=wo.get(r);if(o&&!i)return a&&!o.includes(ft)?o.concat(ft):o.slice();let c=o;if(!c){if(!Array.isArray(i))throw o=Array.from(wo.keys()).filter(S=>S!=="yaml11").map(S=>JSON.stringify(S)).join(", "),new Error(`Unknown schema "${r}"; use one of ${o} or define customTags array`);c=[]}if(Array.isArray(i))for(var m of i)c=c.concat(m);else typeof i=="function"&&(c=i(c.slice()));return(c=a?c.concat(ft):c).reduce((S,x)=>{var _=typeof x=="string"?Et[x]:x;if(_)return S.includes(_)||S.push(_),S;throw _=JSON.stringify(x),S=Object.keys(Et).map(f=>JSON.stringify(f)).join(", "),new Error(`Unknown custom tag ${_}; use one of `+S)},[])}let $o=(i,r)=>i.key<r.key?-1:i.key>r.key?1:0;class dr{constructor({compat:r,customTags:a,merge:o,resolveKnownTags:c,schema:m,sortMapEntries:S,toStringDefaults:x}){this.compat=Array.isArray(r)?si(r,"compat"):r?si(null,r):null,this.name=typeof m=="string"&&m||"core",this.knownTags=c?_o:{},this.tags=si(a,this.name,o),this.toStringOptions=x??null,Object.defineProperty(this,lr,{value:qr}),Object.defineProperty(this,Ye,{value:Kr}),Object.defineProperty(this,lt,{value:Us}),this.sortMapEntries=typeof S=="function"?S:S===!0?$o:null}clone(){var r=Object.create(dr.prototype,Object.getOwnPropertyDescriptors(this));return r.tags=this.tags.slice(),r}}class ht{constructor(r,a,o){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,At,{value:Cr});let c=null;typeof a=="function"||Array.isArray(a)?c=a:o===void 0&&a&&(o=a,a=void 0),a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},o);let m=(this.options=a).version;o!=null&&o._directives?(this.directives=o._directives.atDocument(),this.directives.yaml.explicit&&(m=this.directives.yaml.version)):this.directives=new $t({version:m}),this.setSchema(m,o),this.contents=r===void 0?null:this.createNode(r,c,o)}clone(){var r=Object.create(ht.prototype,{[At]:{value:Cr}});return r.commentBefore=this.commentBefore,r.comment=this.comment,r.errors=this.errors.slice(),r.warnings=this.warnings.slice(),r.options=Object.assign({},this.options),this.directives&&(r.directives=this.directives.clone()),r.schema=this.schema.clone(),r.contents=Qe(this.contents)?this.contents.clone(r.schema):this.contents,this.range&&(r.range=this.range.slice()),r}add(r){Gr(this.contents)&&this.contents.add(r)}addIn(r,a){Gr(this.contents)&&this.contents.addIn(r,a)}createAlias(r,a){var o;return r.anchor||(o=ho(this),r.anchor=!a||o.has(a)?pn(a||"a",o):a),new Ms(r.anchor)}createNode(w,b,S){let c;typeof b=="function"?(w=b.call({"":w},"",w),c=b):Array.isArray(b)?(0<(m=b.filter(d=>typeof d=="number"||d instanceof String||d instanceof Number).map(String)).length&&(b=b.concat(m)),c=b):S===void 0&&b&&(S=b,b=void 0);var{aliasDuplicateObjects:m,anchorPrefix:b,flow:S,keepUndefined:x,onTagObj:_,tag:f}=S??{},{onAnchor:b,setAnchors:N,sourceObjects:k}=((d,A)=>{let L=[],R=new Map,C=null;return{onAnchor:q=>(L.push(q),C=C||ho(d),q=pn(A,C),C.add(q),q),setAnchors:()=>{for(var q of L){var H,Z=R.get(q);if(typeof Z!="object"||!Z.anchor||!rt(Z.node)&&!at(Z.node))throw(H=new Error("Failed to resolve repeated object (this should not happen)")).source=q,H;Z.node.anchor=Z.anchor}},sourceObjects:R}})(this,b||"a"),w=fs(w,f,{aliasDuplicateObjects:m??!0,keepUndefined:x??!1,onAnchor:b,onTagObj:_,replacer:c,schema:this.schema,sourceObjects:k});return S&&at(w)&&(w.flow=!0),N(),w}createPair(r,a,o={}){return r=this.createNode(r,null,o),a=this.createNode(a,null,o),new ct(r,a)}delete(r){return!!Gr(this.contents)&&this.contents.delete(r)}deleteIn(r){return dn(r)?this.contents!=null&&!(this.contents=null):!!Gr(this.contents)&&this.contents.deleteIn(r)}get(r,a){return at(this.contents)?this.contents.get(r,a):void 0}getIn(r,a){return dn(r)?!a&&rt(this.contents)?this.contents.value:this.contents:at(this.contents)?this.contents.getIn(r,a):void 0}has(r){return!!at(this.contents)&&this.contents.has(r)}hasIn(r){return dn(r)?this.contents!==void 0:!!at(this.contents)&&this.contents.hasIn(r)}set(r,a){this.contents==null?this.contents=Yn(this.schema,[r],a):Gr(this.contents)&&this.contents.set(r,a)}setIn(r,a){dn(r)?this.contents=a:this.contents==null?this.contents=Yn(this.schema,Array.from(r),a):Gr(this.contents)&&this.contents.setIn(r,a)}setSchema(r,a={}){let o;switch(r=typeof r=="number"?String(r):r){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new $t({version:"1.1"}),o={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=r:this.directives=new $t({version:r}),o={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,o=null;break;default:var c=JSON.stringify(r);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: "+c)}if(a.schema instanceof Object)this.schema=a.schema;else{if(!o)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new dr(Object.assign(o,a))}}toJS({json:r,jsonArg:a,mapAsMap:o,maxAliasCount:c,onAnchor:m,reviver:S}={}){r={anchors:new Map,doc:this,keep:!r,mapAsMap:o===!0,mapKeyWarned:!1,maxAliasCount:typeof c=="number"?c:100};let x=Ct(this.contents,a??"",r);if(typeof m=="function")for(let{count:_,res:f}of r.anchors.values())m(f,_);return typeof S=="function"?Rr(S,{"":x},"",x):x}toJSON(r,a){return this.toJS({json:!0,jsonArg:r,mapAsMap:!1,onAnchor:a})}toString(r={}){var S;if(0<this.errors.length)throw new Error("Document with errors cannot be stringified");if("indent"in r&&(!Number.isInteger(r.indent)||Number(r.indent)<=0))throw a=JSON.stringify(r.indent),new Error('"indent" option must be a positive integer, not '+a);{var a=this,o=[];let x=r.directives===!0;r.directives!==!1&&a.directives&&((c=a.directives.toString(a))?(o.push(c),x=!0):a.directives.docStart&&(x=!0)),x&&o.push("---");var c=ei(a,r),r=c.options.commentString;a.commentBefore&&(o.length!==1&&o.unshift(""),m=r(a.commentBefore),o.unshift(Ft(m,"")));let f=!1,b=null;if(a.contents){Qe(a.contents)&&(a.contents.spaceBefore&&x&&o.push(""),a.contents.commentBefore&&(m=r(a.contents.commentBefore),o.push(Ft(m,""))),c.forceBlockIndent=!!a.comment,b=a.contents.comment);var m=b?void 0:()=>f=!0;let N=cr(a.contents,c,()=>b=null,m);b&&(N+=br(N,"",r(b))),N[0]!=="|"&&N[0]!==">"||o[o.length-1]!=="---"?o.push(N):o[o.length-1]="--- "+N}else o.push(cr(a.contents,c));if((S=a.directives)!=null&&S.docEnd)a.comment?(m=r(a.comment)).includes(`
`)?(o.push("..."),o.push(Ft(m,""))):o.push("... "+m):o.push("...");else{let N=a.comment;(N=N&&f?N.replace(/^\n+/,""):N)&&(f&&!b||o[o.length-1]===""||o.push(""),o.push(Ft(r(N),"")))}return o.join(`
`)+`
`}}}function Gr(i){if(at(i))return 1;throw new Error("Expected a YAML collection as document contents")}class Jr extends Error{constructor(r,a,o,c){super(),this.name=r,this.code=o,this.message=c,this.pos=a}}class kr extends Jr{constructor(r,a,o){super("YAMLParseError",r,a,o)}}class Me extends Jr{constructor(r,a,o){super("YAMLWarning",r,a,o)}}let ni=(i,r)=>a=>{if(a.pos[0]!==-1){a.linePos=a.pos.map(_=>r.linePos(_));var{line:o,col:c}=a.linePos[0];a.message+=` at line ${o}, column `+c;let S=c-1,x=i.substring(r.lineStarts[o-1],r.lineStarts[o]).replace(/[\n\r]+$/,"");if(60<=S&&80<x.length&&(m=Math.min(S-39,x.length-79),x="…"+x.substring(m),S-=m-1),80<x.length&&(x=x.substring(0,79)+"…"),1<o&&/^ *$/.test(x.substring(0,S))){let _=i.substring(r.lineStarts[o-2],r.lineStarts[o-1]);80<_.length&&(_=_.substring(0,79)+`…
`),x=_+x}if(/[^ ]/.test(x)){let _=1;var m=a.linePos[1],o=(m&&m.line===o&&m.col>c&&(_=Math.max(1,Math.min(m.col-c,80-S)))," ".repeat(S)+"^".repeat(_));a.message+=`:

${x}
${o}
`}}};function fr(i,{flow:r,indicator:a,next:o,offset:c,onError:m,parentIndent:S,startOnNewline:x}){let _=!1,f=x,b=x,N="",k="",w=!1,d=!1,A=null,L=null,R=null,C=null,q=null,H=null,Z=null;for(var ee of i)switch(d&&(ee.type!=="space"&&ee.type!=="newline"&&ee.type!=="comma"&&m(ee.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),A&&(f&&ee.type!=="comment"&&ee.type!=="newline"&&m(A,"TAB_AS_INDENT","Tabs are not allowed as indentation"),A=null),ee.type){case"space":r||a==="doc-start"&&(o==null?void 0:o.type)==="flow-collection"||!ee.source.includes("	")||(A=ee),b=!0;break;case"comment":b||m(ee,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var $e=ee.source.substring(1)||" ";N?N+=k+$e:N=$e,k="",f=!1;break;case"newline":f?N?N+=ee.source:H&&a==="seq-item-ind"||(_=!0):k+=ee.source,f=!0,w=!0,(L||R)&&(C=ee),b=!0;break;case"anchor":L&&m(ee,"MULTIPLE_ANCHORS","A node can have at most one anchor"),ee.source.endsWith(":")&&m(ee.offset+ee.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),L=ee,Z===null&&(Z=ee.offset),f=!1,b=!1,d=!0;break;case"tag":R&&m(ee,"MULTIPLE_TAGS","A node can have at most one tag"),R=ee,Z===null&&(Z=ee.offset),f=!1,b=!1,d=!0;break;case a:(L||R)&&m(ee,"BAD_PROP_ORDER",`Anchors and tags must be after the ${ee.source} indicator`),H&&m(ee,"UNEXPECTED_TOKEN",`Unexpected ${ee.source} in `+(r??"collection")),H=ee,f=a==="seq-item-ind"||a==="explicit-key-ind",b=!1;break;case"comma":if(r){q&&m(ee,"UNEXPECTED_TOKEN","Unexpected , in "+r),q=ee,f=!1,b=!1;break}default:m(ee,"UNEXPECTED_TOKEN",`Unexpected ${ee.type} token`),f=!1,b=!1}return x=i[i.length-1],i=x?x.offset+x.source.length:c,d&&o&&o.type!=="space"&&o.type!=="newline"&&o.type!=="comma"&&(o.type!=="scalar"||o.source!=="")&&m(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),A&&(f&&A.indent<=S||(o==null?void 0:o.type)==="block-map"||(o==null?void 0:o.type)==="block-seq")&&m(A,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:q,found:H,spaceBefore:_,comment:N,hasNewline:w,anchor:L,tag:R,newlineAfterProp:C,end:i,start:Z??i}}function Hr(i){if(i)switch(i.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(i.source.includes(`
`))return 1;if(i.end){for(var r of i.end)if(r.type==="newline")return 1}return;case"flow-collection":for(var a of i.items){for(var o of a.start)if(o.type==="newline")return 1;if(a.sep){for(var c of a.sep)if(c.type==="newline")return 1}if(Hr(a.key)||Hr(a.value))return 1}return;default:return 1}}function ws(i,r,a){var o;(r==null?void 0:r.type)!=="flow-collection"||(o=r.end[0]).indent!==i||o.source!=="]"&&o.source!=="}"||!Hr(r)||a(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}function $a(i,r,a){if(i=i.options.uniqueKeys,i!==!1){let o=typeof i=="function"?i:(c,m)=>c===m||rt(c)&&rt(m)&&c.value===m.value;return r.some(c=>o(c.key,a))}}let ko="All mapping items must start at the same column";function Kt(i,r,a,o){let c="";if(i){let f=!1,b="";for(var m of i){var{source:S,type:x}=m;switch(x){case"space":f=!0;break;case"comment":a&&!f&&o(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var _=S.substring(1)||" ";c?c+=b+_:c=_,b="";break;case"newline":c&&(b+=S),f=!0;break;default:o(m,"UNEXPECTED_TOKEN",`Unexpected ${x} at node end`)}r+=S.length}}return{comment:c,offset:r}}let Er="Block collections are not allowed within flow collections",ii=i=>i&&(i.type==="block-map"||i.type==="block-seq");function _n(i,r,a,o,c,m){return i=(a.type==="block-map"?({composeNode:S,composeEmptyNode:x},_,f,b,N)=>{var $e;var k,w=new((N==null?void 0:N.nodeClass)??Nt)(_.schema);_.atRoot&&(_.atRoot=!1);let d=f.offset,A=null;for(k of f.items){var{start:Z,key:L,sep:R,value:C}=k,q=fr(Z,{indicator:"explicit-key-ind",next:L??(R==null?void 0:R[0]),offset:d,onError:b,parentIndent:f.indent,startOnNewline:!0}),H=!q.found;if(H){if(L&&(L.type==="block-seq"?b(d,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in L&&L.indent!==f.indent&&b(d,"BAD_INDENT",ko)),!q.anchor&&!q.tag&&!R){A=q.end,q.comment&&(w.comment?w.comment+=`
`+q.comment:w.comment=q.comment);continue}(q.newlineAfterProp||Hr(L))&&b(L??Z[Z.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(($e=q.found)==null?void 0:$e.indent)!==f.indent&&b(d,"BAD_INDENT",ko);_.atKey=!0;var ee=q.end,Z=L?S(_,L,q,b):x(_,ee,Z,null,q,b),ee=(_.schema.compat&&ws(f.indent,L,b),_.atKey=!1,$a(_,w.items,Z)&&b(ee,"DUPLICATE_KEY","Map keys must be unique"),fr(R??[],{indicator:"map-value-ind",next:C,offset:Z.range[2],onError:b,parentIndent:f.indent,startOnNewline:!L||L.type==="block-scalar"}));d=ee.end,ee.found?(H&&((C==null?void 0:C.type)!=="block-map"||ee.hasNewline||b(d,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),_.options.strict)&&q.start<ee.found.offset-1024&&b(Z.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"),L=C?S(_,C,ee,b):x(_,d,R,null,ee,b),_.schema.compat&&ws(f.indent,C,b),d=L.range[2],q=new ct(Z,L),_.options.keepSourceTokens&&(q.srcToken=k),w.items.push(q)):(H&&b(Z.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),ee.comment&&(Z.comment?Z.comment+=`
`+ee.comment:Z.comment=ee.comment),R=new ct(Z),_.options.keepSourceTokens&&(R.srcToken=k),w.items.push(R))}return A&&A<d&&b(A,"IMPOSSIBLE","Map comment with trailing content"),w.range=[f.offset,d,A??d],w}:a.type==="block-seq"?({composeNode:S,composeEmptyNode:x},_,f,b,N)=>{var k,w,d=new((N==null?void 0:N.nodeClass)??ur)(_.schema);_.atRoot&&(_.atRoot=!1),_.atKey&&(_.atKey=!1);let A=f.offset,L=null;for({start:k,value:w}of f.items){var R=fr(k,{indicator:"seq-item-ind",next:w,offset:A,onError:b,parentIndent:f.indent,startOnNewline:!0});if(!R.found){if(!(R.anchor||R.tag||w)){L=R.end,R.comment&&(d.comment=R.comment);continue}w&&w.type==="block-seq"?b(R.end,"BAD_INDENT","All sequence items must start at the same column"):b(A,"MISSING_CHAR","Sequence item without - indicator")}R=w?S(_,w,R,b):x(_,R.end,k,null,R,b),_.schema.compat&&ws(f.indent,w,b),A=R.range[2],d.items.push(R)}return d.range=[f.offset,A,L??A],d}:({composeNode:S,composeEmptyNode:x},_,f,b,N)=>{var k=f.start.source==="{",w=k?"flow map":"flow sequence",d=new((N==null?void 0:N.nodeClass)??(k?Nt:ur))(_.schema);d.flow=!0,(N=_.atRoot)&&(_.atRoot=!1),_.atKey&&(_.atKey=!1);let A=f.offset+f.start.source.length;for(let ae=0;ae<f.items.length;++ae){var L=f.items[ae],{start:R,key:C,sep:q,value:H}=L,Z=fr(R,{flow:w,indicator:"explicit-key-ind",next:C??(q==null?void 0:q[0]),offset:A,onError:b,parentIndent:f.indent,startOnNewline:!1});if(!Z.found){if(!(Z.anchor||Z.tag||q||H)){ae===0&&Z.comma?b(Z.comma,"UNEXPECTED_TOKEN","Unexpected , in "+w):ae<f.items.length-1&&b(Z.start,"UNEXPECTED_TOKEN","Unexpected empty item in "+w),Z.comment&&(d.comment?d.comment+=`
`+Z.comment:d.comment=Z.comment),A=Z.end;continue}!k&&_.options.strict&&Hr(C)&&b(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(ae===0)Z.comma&&b(Z.comma,"UNEXPECTED_TOKEN","Unexpected , in "+w);else if(Z.comma||b(Z.start,"MISSING_CHAR",`Missing , between ${w} items`),Z.comment){let we="";e:for(var ee of R)switch(ee.type){case"comma":case"space":break;case"comment":we=ee.source.substring(1);break e;default:break e}if(we){let F=d.items[d.items.length-1];(F=tt(F)?F.value??F.key:F).comment?F.comment+=`
`+we:F.comment=we,Z.comment=Z.comment.substring(we.length+1)}}if(k||q||Z.found){_.atKey=!0;var $e=Z.end,xe=C?S(_,C,Z,b):x(_,$e,R,null,Z,b),ce=(ii(C)&&b(xe.range,"BLOCK_IN_FLOW",Er),_.atKey=!1,fr(q??[],{flow:w,indicator:"map-value-ind",next:H,offset:xe.range[2],onError:b,parentIndent:f.indent,startOnNewline:!1}));if(ce.found){if(!k&&!Z.found&&_.options.strict){if(q)for(var ve of q){if(ve===ce.found)break;if(ve.type==="newline"){b(ve,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}Z.start<ce.found.offset-1024&&b(ce.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else H&&("source"in H&&H.source&&H.source[0]===":"?b(H,"MISSING_CHAR","Missing space after : in "+w):b(ce.start,"MISSING_CHAR",`Missing , or : between ${w} items`));var C=H?S(_,H,ce,b):ce.found?x(_,ce.end,q,null,ce,b):null,de=(C?ii(H)&&b(C.range,"BLOCK_IN_FLOW",Er):ce.comment&&(xe.comment?xe.comment+=`
`+ce.comment:xe.comment=ce.comment),new ct(xe,C));_.options.keepSourceTokens&&(de.srcToken=L),k?($a(_,(L=d).items,xe)&&b($e,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(de)):(($e=new Nt(_.schema)).flow=!0,$e.items.push(de),L=(C??xe).range,$e.range=[xe.range[0],L[1],L[2]],d.items.push($e)),A=C?C.range[2]:ce.end}else de=H?S(_,H,Z,b):x(_,Z.end,q,null,Z,b),d.items.push(de),A=de.range[2],ii(H)&&b(de.range,"BLOCK_IN_FLOW",Er)}var me,V=k?"}":"]",[J,...Q]=f.end;let le=A;return J&&J.source===V?le=J.offset+J.source.length:(me=w[0].toUpperCase()+w.substring(1),b(A,N?"MISSING_CHAR":"BAD_INDENT",N?me+" must end with a "+V:me+" in block collection must be sufficiently indented and end with a "+V),J&&J.source.length!==1&&Q.unshift(J)),0<Q.length?((N=Kt(Q,le,_.options.strict,b)).comment&&(d.comment?d.comment+=`
`+N.comment:d.comment=N.comment),d.range=[f.offset,le,N.offset]):d.range=[f.offset,le,le],d})(i,r,a,o,m),r=i.constructor,c==="!"||c===r.tagName?i.tag=r.tagName:c&&(i.tag=c),i}function $n(i,r,a){var o=r.offset,c=(({offset:q,props:H},Z,ee)=>{if(H[0].type!=="block-scalar-header")return ee(H[0],"IMPOSSIBLE","Block scalar header not found"),null;let $e=H[0].source,xe=$e[0],ce=0,ve="",de=-1;for(let F=1;F<$e.length;++F){var me,V=$e[F];ve||V!=="-"&&V!=="+"?(me=Number(V),!ce&&me?ce=me:de===-1&&(de=q+F)):ve=V}de!==-1&&ee(de,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: "+$e);let J=!1,Q="",le=$e.length;for(let F=1;F<H.length;++F){var ae=H[F];switch(ae.type){case"space":J=!0;case"newline":le+=ae.source.length;break;case"comment":Z&&!J&&ee(ae,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),le+=ae.source.length,Q=ae.source.substring(1);break;case"error":ee(ae,"UNEXPECTED_TOKEN",ae.message),le+=ae.source.length;break;default:var we="Unexpected token in block scalar header: "+ae.type,we=(ee(ae,"UNEXPECTED_TOKEN",we),ae.source);we&&typeof we=="string"&&(le+=we.length)}}return{mode:xe,indent:ce,chomp:ve,comment:Q,length:le}})(r,i.options.strict,a);if(!c)return{value:"",type:null,comment:"",range:[o,o,o]};var m=c.mode===">"?Re.BLOCK_FOLDED:Re.BLOCK_LITERAL,S=r.source?(q=>{var H=q.split(/\n( *)/),Z=(q=H[0]).match(/^( *)/),ee=[Z=Z!=null&&Z[1]?[Z[1],q.slice(Z[1].length)]:["",q]];for(let $e=1;$e<H.length;$e+=2)ee.push([H[$e],H[$e+1]]);return ee})(r.source):[];let x=S.length;for(let q=S.length-1;0<=q;--q){var _=S[q][1];if(_!==""&&_!=="\r")break;x=q}if(x===0){let q=c.chomp==="+"&&0<S.length?`
`.repeat(Math.max(1,S.length-1)):"",H=o+c.length;return r.source&&(H+=r.source.length),{value:q,type:m,comment:c.comment,range:[o,H,H]}}let f=r.indent+c.indent,b=r.offset+c.length,N=0;for(let q=0;q<x;++q){var[k,w]=S[q];if(w!==""&&w!=="\r"){k.length<f&&a(b+k.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),c.indent===0&&(f=k.length),N=q,f!==0||i.atRoot||a(b,"BAD_INDENT","Block scalar values in collections must be indented");break}c.indent===0&&k.length>f&&(f=k.length),b+=k.length+w.length+1}for(let q=S.length-1;q>=x;--q)S[q][0].length>f&&(x=q+1);let d="",A="",L=!1;for(let q=0;q<N;++q)d+=S[q][0].slice(f)+`
`;for(let q=N;q<x;++q){let[H,Z]=S[q];b+=H.length+Z.length+1;var R,C=Z[Z.length-1]==="\r";(Z=C?Z.slice(0,-1):Z)&&H.length<f&&(R=c.indent?"explicit indentation indicator":"first line",a(b-Z.length-(C?2:1),"BAD_INDENT","Block scalar lines must not be less indented than their "+R),H=""),m===Re.BLOCK_LITERAL?(d+=A+H.slice(f)+Z,A=`
`):H.length>f||Z[0]==="	"?(A===" "?A=`
`:L||A!==`
`||(A=`

`),d+=A+H.slice(f)+Z,A=`
`,L=!0):Z===""?A===`
`?d+=`
`:A=`
`:(d+=A+Z,A=" ",L=!1)}switch(c.chomp){case"-":break;case"+":for(let q=x;q<S.length;++q)d+=`
`+S[q][0].slice(f);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}return r=o+c.length+r.source.length,{value:d,type:m,comment:c.comment,range:[o,r,r]}}function kn(i,N,a){let{offset:o,type:c,source:m,end:S}=i,x,_;var f=(k,w,d)=>a(o+k,w,d);switch(c){case"scalar":x=Re.PLAIN,_=((k,w)=>{let d="";switch(k[0]){case"	":d="a tab character";break;case",":d="flow indicator character ,";break;case"%":d="directive indicator character %";break;case"|":case">":d="block scalar indicator "+k[0];break;case"@":case"`":d="reserved character "+k[0]}return d&&w(0,"BAD_SCALAR_START","Plain value cannot start with "+d),ka(k)})(m,f);break;case"single-quoted-scalar":x=Re.QUOTE_SINGLE,_=((k,w)=>(k[k.length-1]==="'"&&k.length!==1||w(k.length,"MISSING_CHAR","Missing closing 'quote"),ka(k.slice(1,-1)).replace(/''/g,"'")))(m,f);break;case"double-quoted-scalar":x=Re.QUOTE_DOUBLE,_=((k,w)=>{let d="";for(let q=1;q<k.length-1;++q){var A=k[q];if(A!=="\r"||k[q+1]!==`
`)if(A===`
`){var{fold:L,offset:R}=((H,Z)=>{let ee="",$e=H[Z+1];for(;!($e!==" "&&$e!=="	"&&$e!==`
`&&$e!=="\r"||$e==="\r"&&H[Z+2]!==`
`);)$e===`
`&&(ee+=`
`),Z+=1,$e=H[Z+1];return{fold:ee=ee||" ",offset:Z}})(k,q);d+=L,q=R}else if(A==="\\"){let H=k[++q];if(L=ai[H],L)d+=L;else if(H===`
`)for(H=k[q+1];H===" "||H==="	";)H=k[++q+1];else if(H==="\r"&&k[q+1]===`
`)for(H=k[++q+1];H===" "||H==="	";)H=k[++q+1];else H==="x"||H==="u"||H==="U"?(R={x:2,u:4,U:8}[H],d+=((Z,ee,$e,xe)=>{var ce=Z.substr(ee,$e),ve=(ve=ce.length===$e&&/^[0-9a-fA-F]+$/.test(ce))?parseInt(ce,16):NaN;return isNaN(ve)?(ce=Z.substr(ee-2,$e+2),xe(ee-2,"BAD_DQ_ESCAPE","Invalid escape sequence "+ce),ce):String.fromCodePoint(ve)})(k,q+1,R,w),q+=R):(C=k.substr(q-1,2),w(q-1,"BAD_DQ_ESCAPE","Invalid escape sequence "+C),d+=C)}else if(A===" "||A==="	"){var C=q;let H=k[q+1];for(;H===" "||H==="	";)H=k[++q+1];H===`
`||H==="\r"&&k[q+2]===`
`||(d+=q>C?k.slice(C,q+1):A)}else d+=A}return k[k.length-1]==='"'&&k.length!==1||w(k.length,"MISSING_CHAR",'Missing closing "quote'),d})(m,f);break;default:return a(i,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: "+c),{value:"",type:null,comment:"",range:[o,o+m.length,o+m.length]}}var b=o+m.length,N=Kt(S,b,N,a);return{value:_,type:x,comment:N.comment,range:[o,b,N.offset]}}function ka(i){let r,a;try{r=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),a=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{r=/(.*?)[ \t]*\r?\n/sy,a=/[ \t]*(.*?)[ \t]*\r?\n/sy}let o=r.exec(i);if(!o)return i;let c=o[1],m=" ",S=r.lastIndex;for(a.lastIndex=S;o=a.exec(i);)o[1]===""?m===`
`?c+=m:m=`
`:(c+=m+o[1],m=" "),S=a.lastIndex;var x=/[ \t]*(.*)/sy;return x.lastIndex=S,o=x.exec(i),c+m+((o==null?void 0:o[1])??"")}let ai={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function En(i,r,a,o){var{value:c,type:m,comment:S,range:x}=r.type==="block-scalar"?$n(i,r,o):kn(r,i.options.strict,o),_=a?i.directives.tagName(a.source,k=>o(a,"TAG_RESOLVE_FAILED",k)):null;let f;f=i.options.stringKeys&&i.atKey?i.schema[Ye]:_?((k,w,d,A,L)=>{var Z;if(d!=="!"){var R,C,q=[];for(R of k.tags)if(!R.collection&&R.tag===d){if(!R.default||!R.test)return R;q.push(R)}for(C of q)if((Z=C.test)!=null&&Z.test(w))return C;var H=k.knownTags[d];if(H&&!H.collection)return k.tags.push(Object.assign({},H,{default:!1,test:void 0})),H;L(A,"TAG_RESOLVE_FAILED","Unresolved tag: "+d,d!=="tag:yaml.org,2002:str")}return k[Ye]})(i.schema,c,_,a,o):r.type==="scalar"?(({atKey:k,directives:w,schema:d},A,L,R)=>{var C,q=d.tags.find(H=>{var Z;return(H.default===!0||k&&H.default==="key")&&((Z=H.test)==null?void 0:Z.test(A))})||d[Ye];return d.compat&&(d=d.compat.find(H=>{var Z;return H.default&&((Z=H.test)==null?void 0:Z.test(A))})??d[Ye],q.tag!==d.tag)&&(C=w.tagString(q.tag),w=w.tagString(d.tag),R(L,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${C} or `+w,!0)),q})(i,c,r,o):i.schema[Ye];let b;try{var N=f.resolve(c,k=>o(a??r,"TAG_RESOLVE_FAILED",k),i.options);b=rt(N)?N:new Re(N)}catch(k){i=k instanceof Error?k.message:String(k),o(a??r,"TAG_RESOLVE_FAILED",i),b=new Re(c)}return b.range=x,b.source=c,m&&(b.type=m),_&&(b.tag=_),f.format&&(b.format=f.format),S&&(b.comment=S),b}let Ea={composeNode:Sa,composeEmptyNode:Wr};function Sa(i,r,a,o){var c=i.atKey,{spaceBefore:m,comment:S,anchor:x,tag:_}=a;let f,b=!0;switch(r.type){case"alias":f=(({options:N},{offset:k,source:w,end:d},A)=>{var L=new Ms(w.substring(1));return L.source===""&&A(k,"BAD_ALIAS","Alias cannot be an empty string"),L.source.endsWith(":")&&A(k+w.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0),w=k+w.length,d=Kt(d,w,N.strict,A),L.range=[k,w,d.offset],d.comment&&(L.comment=d.comment),L})(i,r,o),(x||_)&&o(r,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=En(i,r,_,o),x&&(f.anchor=x.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=((N,k,w,d,A)=>{var Z;let L=d.tag,R=L?k.directives.tagName(L.source,ee=>A(L,"TAG_RESOLVE_FAILED",ee)):null,C=(w.type==="block-seq"&&({anchor:d,newlineAfterProp:H}=d,d=d&&L?d.offset>L.offset?d:L:d??L)&&(!H||H.offset<d.offset)&&A(d,"MISSING_CHAR","Missing newline after block sequence props"),w.type==="block-map"||w.type!=="block-seq"&&w.start.source==="{"?"map":"seq");if(!L||!R||R==="!"||R===Nt.tagName&&C=="map"||R===ur.tagName&&C=="seq")return _n(N,k,w,A,R);let q=k.schema.tags.find(ee=>ee.tag===R&&ee.collection===C);if(!q){var H=k.schema.knownTags[R];if(!H||H.collection!==C)return H!=null&&H.collection?A(L,"BAD_COLLECTION_TYPE",`${H.tag} used for ${C} collection, but expects `+H.collection,!0):A(L,"TAG_RESOLVE_FAILED","Unresolved tag: "+R,!0),_n(N,k,w,A,R);k.schema.tags.push(Object.assign({},H,{default:!1})),q=H}return d=_n(N,k,w,A,R,q),H=((Z=q.resolve)==null?void 0:Z.call(q,d,ee=>A(L,"TAG_RESOLVE_FAILED",ee),k.options))??d,(N=Qe(H)?H:new Re(H)).range=d.range,N.tag=R,q!=null&&q.format&&(N.format=q.format),N})(Ea,i,r,a,o),x&&(f.anchor=x.source.substring(1));break;default:o(r,"UNEXPECTED_TOKEN",r.type==="error"?r.message:`Unsupported token (type: ${r.type})`),f=Wr(i,r.offset,void 0,null,a,o),b=!1}return x&&f.anchor===""&&o(x,"BAD_ALIAS","Anchor cannot be an empty string"),c&&i.options.stringKeys&&(!rt(f)||typeof f.value!="string"||f.tag&&f.tag!=="tag:yaml.org,2002:str")&&o(_??r,"NON_STRING_KEY","With stringKeys, all keys must be strings"),m&&(f.spaceBefore=!0),S&&(r.type==="scalar"&&r.source===""?f.comment=S:f.commentBefore=S),i.options.keepSourceTokens&&b&&(f.srcToken=r),f}function Wr(i,r,a,o,{spaceBefore:c,comment:m,anchor:S,tag:x,end:_},f){return i=En(i,{type:"scalar",offset:((b,N,k)=>{if(N)for(let w=(k=k===null?N.length:k)-1;0<=w;--w){let d=N[w];switch(d.type){case"space":case"comment":case"newline":b-=d.source.length;continue}for(d=N[++w];(d==null?void 0:d.type)==="space";)b+=d.source.length,d=N[++w];break}return b})(r,a,o),indent:-1,source:""},x,f),S&&(i.anchor=S.source.substring(1),i.anchor==="")&&f(S,"BAD_ALIAS","Anchor cannot be an empty string"),c&&(i.spaceBefore=!0),m&&(i.comment=m,i.range[2]=_),i}function _s(i){var r;return typeof i=="number"?[i,i+1]:Array.isArray(i)?i.length===2?i:[i[0],i[1]]:({offset:i,source:r}=i,[i,i+(typeof r=="string"?r.length:1)])}function Sn(i){var m;let r="",a=!1,o=!1;for(let S=0;S<i.length;++S){var c=i[S];switch(c[0]){case"#":r+=(r===""?"":o?`

`:`
`)+(c.substring(1)||" "),a=!0,o=!1;break;case"%":((m=i[S+1])==null?void 0:m[0])!=="#"&&(S+=1),a=!1;break;default:a||(o=!0),a=!1}}return{comment:r,afterEmptyLine:o}}class Yr{constructor(r={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(a,o,c,m)=>{a=_s(a),m?this.warnings.push(new Me(a,o,c)):this.errors.push(new kr(a,o,c))},this.directives=new $t({version:r.version||"1.2"}),this.options=r}decorate(r,a){var{comment:o,afterEmptyLine:c}=Sn(this.prelude);if(o){var m=r.contents;if(a)r.comment=r.comment?r.comment+`
`+o:o;else if(c||r.directives.docStart||!m)r.commentBefore=o;else if(at(m)&&!m.flow&&0<m.items.length){let S=m.items[0];c=(S=tt(S)?S.key:S).commentBefore,S.commentBefore=c?o+`
`+c:o}else c=m.commentBefore,m.commentBefore=c?o+`
`+c:o}a?(Array.prototype.push.apply(r.errors,this.errors),Array.prototype.push.apply(r.warnings,this.warnings)):(r.errors=this.errors,r.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Sn(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(r,a=!1,o=-1){for(var c of r)yield*this.next(c);yield*this.end(a,o)}*next(r){switch(r.type){case"directive":this.directives.add(r.source,(b,N,k)=>{var w=_s(r);w[0]+=b,this.onError(w,"BAD_DIRECTIVE",N,k)}),this.prelude.push(r.source),this.atDirectives=!0;break;case"document":[a,o,{offset:c,start:m,value:S,end:x},_]=[this.options,this.directives,r,this.onError],o=Object.assign({_directives:o},a),o={atKey:!1,atRoot:!0,directives:(a=new ht(void 0,o)).directives,options:a.options,schema:a.schema},(f=fr(m,{indicator:"doc-start",next:S??(x==null?void 0:x[0]),offset:c,onError:_,parentIndent:0,startOnNewline:!0})).found&&(a.directives.docStart=!0,!S||S.type!=="block-map"&&S.type!=="block-seq"||f.hasNewline||_(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=S?Sa(o,S,f,_):Wr(o,f.end,m,null,f,_),S=a.contents.range[2],(o=Kt(x,S,!1,_)).comment&&(a.comment=o.comment),a.range=[c,S,o.offset],m=a,this.atDirectives&&!m.directives.docStart&&this.onError(r,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(m,!1),this.doc&&(yield this.doc),this.doc=m,this.atDirectives=!1;break;case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(r.source);break;case"error":f=r.source?r.message+": "+JSON.stringify(r.source):r.message,x=new kr(_s(r),"UNEXPECTED_TOKEN",f),(this.atDirectives||!this.doc?this:this.doc).errors.push(x);break;case"doc-end":this.doc?(this.doc.directives.docEnd=!0,_=Kt(r.end,r.offset+r.source.length,this.doc.options.strict,this.onError),this.decorate(this.doc,!0),_.comment&&(c=this.doc.comment,this.doc.comment=c?c+`
`+_.comment:_.comment),this.doc.range[2]=_.offset):this.errors.push(new kr(_s(r),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break;default:this.errors.push(new kr(_s(r),"UNEXPECTED_TOKEN","Unsupported token "+r.type))}var a,o,c,m,S,x,_,f}*end(r=!1,a=-1){this.doc?(this.decorate(this.doc,!0),yield this.doc,this.doc=null):r&&(r=Object.assign({_directives:this.directives},this.options),r=new ht(void 0,r),this.atDirectives&&this.onError(a,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,a,a],this.decorate(r,!1),yield r)}}function Pa(i,r){if(r)for(var a of r)switch(a.type){case"space":case"comment":i.push(a);break;case"newline":return i.push(a),1}}function Qr(i,r,a){switch(i.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":i.type=a,i.source=r;break;case"block-scalar":{var o,m=i.props.slice(1);let _=r.length;i.props[0].type==="block-scalar-header"&&(_-=i.props[0].source.length);for(o of m)o.offset+=_;delete i.props,Object.assign(i,{type:a,source:r,end:m});break}case"block-map":case"block-seq":m={type:"newline",offset:i.offset+r.length,indent:i.indent,source:`
`},delete i.items,Object.assign(i,{type:a,source:r,end:[m]});break;default:var c,m="indent"in i?i.indent:-1,S="end"in i&&Array.isArray(i.end)?i.end.filter(x=>x.type==="space"||x.type==="comment"||x.type==="newline"):[];for(c of Object.keys(i))c!=="type"&&c!=="offset"&&delete i[c];Object.assign(i,{type:a,indent:m,source:r,end:S})}}function Pn(i){switch(i.type){case"block-scalar":{let x="";for(var r of i.props)x+=Pn(r);return x+i.source}case"block-map":case"block-seq":{let x="";for(var a of i.items)x+=Gt(a);return x}case"flow-collection":{let x=i.start.source;for(var o of i.items)x+=Gt(o);for(var c of i.end)x+=c.source;return x}case"document":{let x=Gt(i);if(i.end)for(var m of i.end)x+=m.source;return x}default:{let x=i.source;if("end"in i&&i.end)for(var S of i.end)x+=S.source;return x}}}function Gt({start:i,key:r,sep:a,value:o}){let c="";for(var m of i)c+=m.source;if(r&&(c+=Pn(r)),a)for(var S of a)c+=S.source;return o&&(c+=Pn(o)),c}let oi=Symbol("break visit");kt=Symbol("skip children");let li=Symbol("remove item");function Zr(i,r){"type"in i&&i.type==="document"&&(i={start:i.start,value:i.value}),function a(o,c,m){let S=m(c,o);if(typeof S=="symbol")return S;for(var x of["key","value"]){let _=c[x];if(_&&"items"in _){for(let f=0;f<_.items.length;++f){let b=a(Object.freeze(o.concat([[x,f]])),_.items[f],m);if(typeof b=="number")f=b-1;else{if(b===oi)return oi;b===li&&(_.items.splice(f,1),--f)}}typeof S=="function"&&x==="key"&&(S=S(c,o))}}return typeof S=="function"?S(c,o):S}(Object.freeze([]),i,r)}Zr.BREAK=oi,Zr.SKIP=kt,Zr.REMOVE=li,Zr.itemAtPath=(i,r)=>{let a=i;for(var[o,c]of r){if(o=a==null?void 0:a[o],!(o&&"items"in o))return;a=o.items[c]}return a},Zr.parentCollection=(i,r)=>{if(i=Zr.itemAtPath(i,r.slice(0,-1)),r=r[r.length-1][0],i=i==null?void 0:i[r],i&&"items"in i)return i;throw new Error("Parent collection not found")};let zs="\uFEFF";function mt(i){switch(i){case zs:return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(i[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}qt=Object.freeze({__proto__:null,BOM:zs,DOCUMENT:"",FLOW_END:"",SCALAR:"",createScalarToken:function(i,r){var{implicitKey:a=!1,indent:o,inFlow:c=!1,offset:m=-1,type:S="PLAIN"}=r,x=qs({type:S,value:i},{implicitKey:a,indent:0<o?" ".repeat(o):"",inFlow:c,options:{blockQuote:!0,lineWidth:-1}}),_=r.end??[{type:"newline",offset:-1,indent:o,source:`
`}];switch(x[0]){case"|":case">":var f=x.indexOf(`
`),b=x.substring(0,f),f=x.substring(f+1)+`
`,b=[{type:"block-scalar-header",offset:m,indent:o,source:b}];return Pa(b,_)||b.push({type:"newline",offset:-1,indent:o,source:`
`}),{type:"block-scalar",offset:m,indent:o,props:b,source:f};case'"':return{type:"double-quoted-scalar",offset:m,indent:o,source:x,end:_};case"'":return{type:"single-quoted-scalar",offset:m,indent:o,source:x,end:_};default:return{type:"scalar",offset:m,indent:o,source:x,end:_}}},isCollection:i=>!!i&&"items"in i,isScalar:i=>!!i&&(i.type==="scalar"||i.type==="single-quoted-scalar"||i.type==="double-quoted-scalar"||i.type==="block-scalar"),prettyToken:function(i){switch(i){case zs:return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(i)}},resolveAsScalar:function(i,r=!0,a){if(i){var o=(c,m,S)=>{if(c=typeof c=="number"?c:Array.isArray(c)?c[0]:c.offset,!a)throw new kr([c,c+1],m,S);a(c,m,S)};switch(i.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return kn(i,r,o);case"block-scalar":return $n({options:{strict:r}},i,o)}}return null},setScalarValue:function(i,r,a={}){let{afterKey:o=!1,implicitKey:c=!1,inFlow:m=!1,type:S}=a,x="indent"in i?i.indent:null;if(o&&typeof x=="number"&&(x+=2),!S)switch(i.type){case"single-quoted-scalar":S="QUOTE_SINGLE";break;case"double-quoted-scalar":S="QUOTE_DOUBLE";break;case"block-scalar":var _=i.props[0];if(_.type!=="block-scalar-header")throw new Error("Invalid block scalar header");S=_.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break;default:S="PLAIN"}var f=qs({type:S,value:r},{implicitKey:c||x===null,indent:x!==null&&0<x?" ".repeat(x):"",inFlow:m,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":var b=i,N=(w=f).indexOf(`
`),k=w.substring(0,N),w=w.substring(N+1)+`
`;if(b.type==="block-scalar"){if(N=b.props[0],N.type!=="block-scalar-header")throw new Error("Invalid block scalar header");N.source=k,b.source=w}else{var d,N=b.offset,A="indent"in b?b.indent:-1,N=[{type:"block-scalar-header",offset:N,indent:A,source:k}];Pa(N,"end"in b?b.end:void 0)||N.push({type:"newline",offset:-1,indent:A,source:`
`});for(d of Object.keys(b))d!=="type"&&d!=="offset"&&delete b[d];Object.assign(b,{type:"block-scalar",indent:A,props:N,source:w})}break;case'"':Qr(i,f,"double-quoted-scalar");break;case"'":Qr(i,f,"single-quoted-scalar");break;default:Qr(i,f,"scalar")}},stringify:i=>("type"in i?Pn:Gt)(i),tokenType:mt,visit:Zr});function Jt(i){switch(i){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}let Eo=new Set("0123456789ABCDEFabcdef"),al=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),$s=new Set(",[]{}"),ks=new Set(` ,[]{}
\r	`),St=i=>!i||ks.has(i);class Xr{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(r,a=!1){if(r){if(typeof r!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+r:r,this.lineEndPos=null}this.atEnd=!a;let o=this.next??"stream";for(;o&&(a||this.hasChars(1));)o=yield*this.parseNext(o)}atLineEnd(){let r=this.pos,a=this.buffer[r];for(;a===" "||a==="	";)a=this.buffer[++r];return!a||a==="#"||a===`
`||a==="\r"&&this.buffer[r+1]===`
`}charAt(r){return this.buffer[this.pos+r]}continueScalar(r){let a=this.buffer[r];if(0<this.indentNext){let c=0;for(;a===" ";)a=this.buffer[++c+r];if(a==="\r"){var o=this.buffer[c+r+1];if(o===`
`||!o&&!this.atEnd)return r+c+1}return a===`
`||c>=this.indentNext||!a&&!this.atEnd?r+c:-1}return(a==="-"||a===".")&&(o=this.buffer.substr(r,3),(o==="---"||o==="...")&&Jt(this.buffer[r+3]))?-1:r}getLine(){let r=this.lineEndPos;return(typeof r!="number"||r!==-1&&r<this.pos)&&(r=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=r),r===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[r-1]==="\r"&&--r,this.buffer.substring(this.pos,r))}hasChars(r){return this.pos+r<=this.buffer.length}setNext(r){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=r,null}peek(r){return this.buffer.substr(this.pos,r)}*parseNext(r){switch(r){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let r=this.getLine();if(r===null)return this.setNext("stream");if(r[0]===zs&&(yield*this.pushCount(1),r=r.substring(1)),r[0]==="%"){let m=r.length,S=r.indexOf("#");for(;S!==-1;){var a=r[S-1];if(a===" "||a==="	"){m=S-1;break}S=r.indexOf("#",S+1)}for(;;){var o=r[m-1];if(o!==" "&&o!=="	")break;--m}var c=(yield*this.pushCount(m))+(yield*this.pushSpaces(!0));return yield*this.pushCount(r.length-c),this.pushNewline(),"stream"}return this.atLineEnd()?(c=yield*this.pushSpaces(!0),yield*this.pushCount(r.length-c),yield*this.pushNewline(),"stream"):(yield"",yield*this.parseLineStart())}*parseLineStart(){var r=this.charAt(0);if(!r&&!this.atEnd)return this.setNext("line-start");if(r==="-"||r==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");if(r=this.peek(3),(r==="---"||r==="...")&&Jt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Jt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){var[r,a]=this.peek(2);return a||this.atEnd?r!=="-"&&r!=="?"&&r!==":"||!Jt(a)?"doc":(r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()):this.setNext("block-start")}*parseDocument(){yield*this.pushSpaces(!0);var r=this.getLine();if(r===null)return this.setNext("doc");var a=yield*this.pushIndicators();switch(r[a]){case"#":yield*this.pushCount(r.length-a);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(St),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return a=(a+=yield*this.parseBlockScalarHeader())+(yield*this.pushSpaces(!0)),yield*this.pushCount(r.length-a),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let r,a,o=-1;for(;0<(r=yield*this.pushNewline())?(a=yield*this.pushSpaces(!1),this.indentValue=o=a):a=0,0<r+(a+=yield*this.pushSpaces(!0)););var c=this.getLine();if(c===null)return this.setNext("flow");if((o!==-1&&o<this.indentNext&&c[0]!=="#"||o===0&&(c.startsWith("---")||c.startsWith("..."))&&Jt(c[3]))&&!(o===this.indentNext-1&&this.flowLevel===1&&(c[0]==="]"||c[0]==="}")))return this.flowLevel=0,yield"",yield*this.parseLineStart();let m=0;for(;c[m]===",";)m=(m+=yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(c[m+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(c.length-m),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,--this.flowLevel,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(St),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":var S=this.charAt(1);if(this.flowKey||Jt(S)||S===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow";default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){var r=this.charAt(0);let a=this.buffer.indexOf(r,this.pos+1);if(r==="'")for(;a!==-1&&this.buffer[a+1]==="'";)a=this.buffer.indexOf("'",a+2);else for(;a!==-1;){let S=0;for(;this.buffer[a-1-S]==="\\";)S+=1;if(S%2==0)break;a=this.buffer.indexOf('"',a+1)}var o=this.buffer.substring(0,a);let c=o.indexOf(`
`,this.pos);if(c!==-1){for(;c!==-1;){var m=this.continueScalar(c+1);if(m===-1)break;c=o.indexOf(`
`,m)}c!==-1&&(a=c-(o[c-1]==="\r"?2:1))}if(a===-1){if(!this.atEnd)return this.setNext("quoted-scalar");a=this.buffer.length}return yield*this.pushToIndex(a+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let r=this.pos;for(;;){var a=this.buffer[++r];if(a==="+")this.blockScalarKeep=!0;else if("0"<a&&a<="9")this.blockScalarIndent=Number(a)-1;else if(a!=="-")break}return yield*this.pushUntil(o=>Jt(o)||o==="#")}*parseBlockScalar(){let r=this.pos-1,a=0,o;e:for(let _=this.pos;o=this.buffer[_];++_)switch(o){case" ":a+=1;break;case`
`:r=_,a=0;break;case"\r":var c=this.buffer[_+1];if(!c&&!this.atEnd)return this.setNext("block-scalar");if(c===`
`)break;default:break e}if(!o&&!this.atEnd)return this.setNext("block-scalar");if(a>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=a:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{var m=this.continueScalar(r+1);if(m===-1)break;r=this.buffer.indexOf(`
`,m)}while(r!==-1);if(r===-1){if(!this.atEnd)return this.setNext("block-scalar");r=this.buffer.length}}let S=r+1;for(o=this.buffer[S];o===" ";)o=this.buffer[++S];if(o==="	"){for(;o==="	"||o===" "||o==="\r"||o===`
`;)o=this.buffer[++S];r=S-1}else if(!this.blockScalarKeep)for(;;){let _=r-1,f=this.buffer[_];f==="\r"&&(f=this.buffer[--_]);for(var x=_;f===" ";)f=this.buffer[--_];if(!(f===`
`&&_>=this.pos&&_+1+a>x))break;r=_}return yield"",yield*this.pushToIndex(r+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){var r=0<this.flowLevel;let a=this.pos-1,o=this.pos-1,c;for(;c=this.buffer[++o];)if(c===":"){var m=this.buffer[o+1];if(Jt(m)||r&&$s.has(m))break;a=o}else if(Jt(c)){let S=this.buffer[o+1];if(c==="\r"&&(S===`
`?(o+=1,c=`
`,S=this.buffer[o+1]):a=o),S==="#"||r&&$s.has(S))break;if(c===`
`){if(m=this.continueScalar(o+1),m===-1)break;o=Math.max(o,m-2)}}else{if(r&&$s.has(c))break;a=o}return c||this.atEnd?(yield"",yield*this.pushToIndex(a+1,!0),r?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(r){return 0<r?(yield this.buffer.substr(this.pos,r),this.pos+=r,r):0}*pushToIndex(r,a){return r=this.buffer.slice(this.pos,r),r?(yield r,this.pos+=r.length,r.length):(a&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(St))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":var r=0<this.flowLevel,a=this.charAt(1);if(Jt(a)||r&&$s.has(a))return r?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let r=this.pos+2,a=this.buffer[r];for(;!Jt(a)&&a!==">";)a=this.buffer[++r];return yield*this.pushToIndex(a===">"?r+1:r,!1)}{let r=this.pos+1,a=this.buffer[r];for(;a;)if(al.has(a))a=this.buffer[++r];else{if(a!=="%"||!Eo.has(this.buffer[r+1])||!Eo.has(this.buffer[r+2]))break;a=this.buffer[r+=3]}return yield*this.pushToIndex(r,!1)}}*pushNewline(){var r=this.buffer[this.pos];return r===`
`?yield*this.pushCount(1):r==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(r){let a=this.pos-1;for(var o;(o=this.buffer[++a])===" "||r&&o==="	";);var c=a-this.pos;return 0<c&&(yield this.buffer.substr(this.pos,c),this.pos=a),c}*pushUntil(r){let a=this.pos,o=this.buffer[a];for(;!r(o);)o=this.buffer[++a];return yield*this.pushToIndex(a,!1)}}class sr{constructor(){this.lineStarts=[],this.addNewLine=r=>this.lineStarts.push(r),this.linePos=r=>{let a=0,o=this.lineStarts.length;for(;a<o;){var c=a+o>>1;this.lineStarts[c]<r?a=1+c:o=c}var m;return this.lineStarts[a]===r?{line:a+1,col:1}:a===0?{line:0,col:r}:(m=this.lineStarts[a-1],{line:a,col:r-m+1})}}}function hr(i,r){for(let a=0;a<i.length;++a)if(i[a].type===r)return 1}function Es(i){for(let r=0;r<i.length;++r)switch(i[r].type){case"space":case"comment":case"newline":break;default:return r}return-1}function On(i){switch(i==null?void 0:i.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return 1;default:return}}function Ss(i){switch(i.type){case"document":return i.start;case"block-map":var r=i.items[i.items.length-1];return r.sep??r.start;case"block-seq":return i.items[i.items.length-1].start;default:return[]}}function es(i){var a;if(i.length===0)return[];let r=i.length;e:for(;0<=--r;)switch(i[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((a=i[++r])==null?void 0:a.type)==="space";);return i.splice(r,i.length)}function Ht(i){if(i.start.type==="flow-seq-start")for(var r of i.items)!r.sep||r.value||hr(r.start,"explicit-key-ind")||hr(r.sep,"map-value-ind")||(r.key&&(r.value=r.key),delete r.key,On(r.value)?r.value.end?Array.prototype.push.apply(r.value.end,r.sep):r.value.end=r.sep:Array.prototype.push.apply(r.start,r.sep),delete r.sep)}class Ps{constructor(r){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Xr,this.onNewLine=r}*parse(r,a=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(var o of this.lexer.lex(r,a))yield*this.next(o);a||(yield*this.end())}*next(r){if(this.source=r,this.atScalar)this.atScalar=!1,yield*this.step(),this.offset+=r.length;else{var a=mt(r);if(a)if(a==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=a,yield*this.step(),a){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+r.length);break;case"space":this.atNewLine&&r[0]===" "&&(this.indent+=r.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=r.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=r.length}else yield*this.pop({type:"error",offset:this.offset,message:"Not a YAML token: "+r,source:r}),this.offset+=r.length}}*end(){for(;0<this.stack.length;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){var r=this.peek(1);if(this.type!=="doc-end"||r&&r.type==="doc-end"){if(!r)return yield*this.stream();switch(r.type){case"document":return yield*this.document(r);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(r);case"block-scalar":return yield*this.blockScalar(r);case"block-map":return yield*this.blockMap(r);case"block-seq":return yield*this.blockSequence(r);case"flow-collection":return yield*this.flowCollection(r);case"doc-end":return yield*this.documentEnd(r)}yield*this.pop()}else{for(;0<this.stack.length;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(r){return this.stack[this.stack.length-r]}*pop(r){let a=r??this.stack.pop();if(a)if(this.stack.length===0)yield a;else{var o=this.peek(1);switch(a.type==="block-scalar"?a.indent="indent"in o?o.indent:0:a.type==="flow-collection"&&o.type==="document"&&(a.indent=0),a.type==="flow-collection"&&Ht(a),o.type){case"document":o.value=a;break;case"block-scalar":o.props.push(a);break;case"block-map":var c=o.items[o.items.length-1];if(c.value)return o.items.push({start:[],key:a,sep:[]}),void(this.onKeyLine=!0);if(!c.sep)return Object.assign(c,{key:a,sep:[]}),void(this.onKeyLine=!c.explicitKey);c.value=a;break;case"block-seq":c=o.items[o.items.length-1],c.value?o.items.push({start:[],value:a}):c.value=a;break;case"flow-collection":return c=o.items[o.items.length-1],void(!c||c.value?o.items.push({start:[],key:a,sep:[]}):c.sep?c.value=a:Object.assign(c,{key:a,sep:[]}));default:yield*this.pop(),yield*this.pop(a)}o.type!=="document"&&o.type!=="block-map"&&o.type!=="block-seq"||a.type!=="block-map"&&a.type!=="block-seq"||(r=a.items[a.items.length-1])&&!r.sep&&!r.value&&0<r.start.length&&Es(r.start)===-1&&(a.indent===0||r.start.every(m=>m.type!=="comment"||m.indent<a.indent))&&(o.type==="document"?o.end=r.start:o.items.push({start:r.start}),a.items.splice(-1,1))}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":var r={type:"document",offset:this.offset,start:[]};return this.type==="doc-start"&&r.start.push(this.sourceToken),void this.stack.push(r)}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(r){if(r.value)return yield*this.lineEnd(r);switch(this.type){case"doc-start":return void(Es(r.start)!==-1?(yield*this.pop(),yield*this.step()):r.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void r.start.push(this.sourceToken)}var a=this.startBlockValue(r);a?this.stack.push(a):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(r){if(this.type==="map-value-ind"){var a=es(Ss(this.peek(2)));let o;r.end?((o=r.end).push(this.sourceToken),delete r.end):o=[this.sourceToken],a={type:"block-map",offset:r.offset,indent:r.indent,items:[{start:a,key:r,sep:o}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(r)}*blockScalar(r){switch(this.type){case"space":case"comment":case"newline":return void r.props.push(this.sourceToken);case"scalar":if(r.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let a=this.source.indexOf(`
`)+1;for(;a!==0;)this.onNewLine(this.offset+a),a=this.source.indexOf(`
`,a)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(r){var N,k,w;var a=r.items[r.items.length-1];switch(this.type){case"newline":return this.onKeyLine=!1,void(a.value?(o="end"in a.value?a.value.end:void 0,((N=Array.isArray(o)?o[o.length-1]:void 0)==null?void 0:N.type)==="comment"?o==null?void 0:o.push(this.sourceToken):r.items.push({start:[this.sourceToken]})):(a.sep||a.start).push(this.sourceToken));case"space":case"comment":if(a.value)r.items.push({start:[this.sourceToken]});else if(a.sep)a.sep.push(this.sourceToken);else{if(this.atIndentedComment(a.start,r.indent)){var o=(w=(k=r.items[r.items.length-2])==null?void 0:k.value)==null?void 0:w.end;if(Array.isArray(o))return Array.prototype.push.apply(o,a.start),o.push(this.sourceToken),void r.items.pop()}a.start.push(this.sourceToken)}return}if(this.indent>=r.indent){var c,m=!this.onKeyLine&&this.indent===r.indent,S=m&&(a.sep||a.explicitKey)&&this.type!=="seq-item-ind";let d=[];if(S&&a.sep&&!a.value){var x=[];for(let A=0;A<a.sep.length;++A){var _=a.sep[A];switch(_.type){case"newline":x.push(A);break;case"space":break;case"comment":_.indent>r.indent&&(x.length=0);break;default:x.length=0}}2<=x.length&&(d=a.sep.splice(x[1]))}switch(this.type){case"anchor":case"tag":return void(S||a.value?(d.push(this.sourceToken),r.items.push({start:d}),this.onKeyLine=!0):(a.sep||a.start).push(this.sourceToken));case"explicit-key-ind":return a.sep||a.explicitKey?S||a.value?(d.push(this.sourceToken),r.items.push({start:d,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(a.start.push(this.sourceToken),a.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":return a.explicitKey?a.sep?a.value?r.items.push({start:[],key:null,sep:[this.sourceToken]}):hr(a.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:d,key:null,sep:[this.sourceToken]}]}):On(a.key)&&!hr(a.sep,"newline")?(c=es(a.start),f=a.key,(b=a.sep).push(this.sourceToken),delete a.key,delete a.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:f,sep:b}]})):0<d.length?a.sep=a.sep.concat(d,this.sourceToken):a.sep.push(this.sourceToken):hr(a.start,"newline")?Object.assign(a,{key:null,sep:[this.sourceToken]}):(c=es(a.start),this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:null,sep:[this.sourceToken]}]})):a.sep?a.value||S?r.items.push({start:d,key:null,sep:[this.sourceToken]}):hr(a.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):a.sep.push(this.sourceToken):Object.assign(a,{key:null,sep:[this.sourceToken]}),void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var f=this.flowScalar(this.type);return void(S||a.value?(r.items.push({start:d,key:f,sep:[]}),this.onKeyLine=!0):a.sep?this.stack.push(f):(Object.assign(a,{key:f,sep:[]}),this.onKeyLine=!0));default:var b=this.startBlockValue(r);if(b)return m&&b.type!=="block-seq"&&r.items.push({start:d}),void this.stack.push(b)}}yield*this.pop(),yield*this.step()}*blockSequence(r){var m,S,x;var a=r.items[r.items.length-1];switch(this.type){case"newline":return void(a.value?(o="end"in a.value?a.value.end:void 0,((m=Array.isArray(o)?o[o.length-1]:void 0)==null?void 0:m.type)==="comment"?o==null?void 0:o.push(this.sourceToken):r.items.push({start:[this.sourceToken]})):a.start.push(this.sourceToken));case"space":case"comment":if(a.value)r.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(a.start,r.indent)){var o=(x=(S=r.items[r.items.length-2])==null?void 0:S.value)==null?void 0:x.end;if(Array.isArray(o))return Array.prototype.push.apply(o,a.start),o.push(this.sourceToken),void r.items.pop()}a.start.push(this.sourceToken)}return;case"anchor":case"tag":if(a.value||this.indent<=r.indent)break;return void a.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==r.indent)break;return void(a.value||hr(a.start,"seq-item-ind")?r.items.push({start:[this.sourceToken]}):a.start.push(this.sourceToken))}if(this.indent>r.indent){var c=this.startBlockValue(r);if(c)return void this.stack.push(c)}yield*this.pop(),yield*this.step()}*flowCollection(r){var a,o=r.items[r.items.length-1];if(this.type==="flow-error-end")for(;yield*this.pop(),(a=this.peek(1))&&a.type==="flow-collection";);else if(r.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":return void(!o||o.sep?r.items.push({start:[this.sourceToken]}):o.start.push(this.sourceToken));case"map-value-ind":return void(!o||o.value?r.items.push({start:[],key:null,sep:[this.sourceToken]}):o.sep?o.sep.push(this.sourceToken):Object.assign(o,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!o||o.value?r.items.push({start:[this.sourceToken]}):(o.sep||o.start).push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var c=this.flowScalar(this.type);return void(!o||o.value?r.items.push({start:[],key:c,sep:[]}):o.sep?this.stack.push(c):Object.assign(o,{key:c,sep:[]}));case"flow-map-end":case"flow-seq-end":return void r.end.push(this.sourceToken)}var m=this.startBlockValue(r);m?this.stack.push(m):(yield*this.pop(),yield*this.step())}else{var S,m=this.peek(2);m.type==="block-map"&&(this.type==="map-value-ind"&&m.indent===r.indent||this.type==="newline"&&!m.items[m.items.length-1].sep)?(yield*this.pop(),yield*this.step()):this.type==="map-value-ind"&&m.type!=="flow-collection"?(m=es(Ss(m)),Ht(r),(S=r.end.splice(1,r.end.length)).push(this.sourceToken),m={type:"block-map",offset:r.offset,indent:r.indent,items:[{start:m,key:r,sep:S}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=m):yield*this.lineEnd(r)}}flowScalar(r){if(this.onNewLine){let a=this.source.indexOf(`
`)+1;for(;a!==0;)this.onNewLine(this.offset+a),a=this.source.indexOf(`
`,a)+1}return{type:r,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(r){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":this.onKeyLine=!0;var a=es(Ss(r));return a.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,explicitKey:!0}]};case"map-value-ind":return this.onKeyLine=!0,a=es(Ss(r)),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]}}return null}atIndentedComment(r,a){return this.type==="comment"&&!(this.indent<=a)&&r.every(o=>o.type==="newline"||o.type==="space")}*documentEnd(r){this.type!=="doc-mode"&&(r.end?r.end.push(this.sourceToken):r.end=[this.sourceToken],this.type==="newline")&&(yield*this.pop())}*lineEnd(r){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:r.end?r.end.push(this.sourceToken):r.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ci(i){var r=i.prettyErrors!==!1;return{lineCounter:i.lineCounter||r&&new sr||null,prettyErrors:r}}function Oa(i,c={}){var{lineCounter:a,prettyErrors:o}=ci(c),m=new Ps(a==null?void 0:a.addNewLine),c=new Yr(c),m=Array.from(c.compose(m.parse(i)));if(o&&a)for(var S of m)S.errors.forEach(ni(i,a)),S.warnings.forEach(ni(i,a));return 0<m.length?m:Object.assign([],{empty:!0},c.streamInfo())}function ts(i,r={}){var a,{lineCounter:o,prettyErrors:c}=ci(r),m=new Ps(o==null?void 0:o.addNewLine);let S=null;for(a of new Yr(r).compose(m.parse(i),!0,i.length))if(S){if(S.options.logLevel!=="silent"){S.errors.push(new kr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else S=a;return c&&o&&(S.errors.forEach(ni(i,o)),S.warnings.forEach(ni(i,o))),S}function rs(i,r,a){let o,c=(typeof r=="function"?o=r:a===void 0&&r&&typeof r=="object"&&(a=r),ts(i,a));if(!c)return null;if(c.warnings.forEach(m=>da(c.options.logLevel,m)),0<c.errors.length){if(c.options.logLevel!=="silent")throw c.errors[0];c.errors=[]}return c.toJS(Object.assign({reviver:o},a))}function ss(i,r,a){let o=null;if(typeof r=="function"||Array.isArray(r)?o=r:a===void 0&&r&&(a=r),typeof(a=typeof a=="string"?a.length:a)=="number"&&(a=(c=Math.round(a))<1?void 0:8<c?{indent:8}:{indent:c}),i===void 0){var c=(a??r??{}).keepUndefined;if(!c)return}return(_t(i)&&!o?i:new ht(i,o,a)).toString(a)}var So,ui=Object.freeze({__proto__:null,Alias:Ms,CST:qt,Composer:Yr,Document:ht,Lexer:Xr,LineCounter:sr,Pair:ct,Parser:Ps,Scalar:Re,Schema:dr,YAMLError:Jr,YAMLMap:Nt,YAMLParseError:kr,YAMLSeq:ur,YAMLWarning:Me,isAlias:It,isCollection:at,isDocument:_t,isMap:Ut,isNode:Qe,isPair:tt,isScalar:rt,isSeq:Lr,parse:rs,parseAllDocuments:Oa,parseDocument:ts,stringify:ss,visit:Tt,visitAsync:un}),mr=ut(Object.freeze({__proto__:null,Alias:Ms,CST:qt,Composer:Yr,Document:ht,Lexer:Xr,LineCounter:sr,Pair:ct,Parser:Ps,Scalar:Re,Schema:dr,YAMLError:Jr,YAMLMap:Nt,YAMLParseError:kr,YAMLSeq:ur,YAMLWarning:Me,default:ui,isAlias:It,isCollection:at,isDocument:_t,isMap:Ut,isNode:Qe,isPair:tt,isScalar:rt,isSeq:Lr,parse:rs,parseAllDocuments:Oa,parseDocument:ts,stringify:ss,visit:Tt,visitAsync:un})),Nn={exports:{}},Na={},Sr={},ns={},Os={},pi={},ja={};function Gs(){if(!So){So=1;{let c=function(f,...b){var N=[f[0]];let k=0;for(;k<b.length;)x(N,b[k]),N.push(f[++k]);return new o(N)},S=function(f,...b){var N=[_(f[0])];let k=0;for(;k<b.length;)N.push(m),x(N,b[k]),N.push(m,_(f[++k]));{var w=N;let A=1;for(;A<w.length-1;){if(w[A]===m){var d=((L,R)=>R==='""'?L:L==='""'?R:typeof L!="string"?typeof R!="string"||R[0]!=='"'||L instanceof a?void 0:'"'+L+R.slice(1):R instanceof a||L[L.length-1]!=='"'?void 0:typeof R!="string"?""+L.slice(0,-1)+R+'"':R[0]==='"'?L.slice(0,-1)+R.slice(1):void 0)(w[A-1],w[A+1]);if(d!==void 0){w.splice(A-1,3,d);continue}w[A++]="+"}A++}}return new o(N)},x=function(f,b){b instanceof o?f.push(...b._items):b instanceof a?f.push(b):f.push(typeof(f=b)=="number"||typeof f=="boolean"||f===null?f:_(Array.isArray(f)?f.join(","):f))},_=function(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};var i=ja;Object.defineProperty(i,"__esModule",{value:!0}),i.regexpCode=i.getEsmExportName=i.getProperty=i.safeStringify=i.stringify=i.strConcat=i.addCodeArg=i.str=i._=i.nil=i._Code=i.Name=i.IDENTIFIER=i._CodeOrName=void 0;class r{}i._CodeOrName=r,i.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class a extends r{constructor(b){if(super(),!i.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}i.Name=a;class o extends r{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){var b;return!(1<this._items.length||(b=this._items[0])!==""&&b!=='""')}get str(){var b;return(b=this._str)!=null?b:this._str=this._items.reduce((N,k)=>""+N+k,"")}get names(){var b;return(b=this._names)!=null?b:this._names=this._items.reduce((N,k)=>(k instanceof a&&(N[k.str]=(N[k.str]||0)+1),N),{})}}i._Code=o,i.nil=new o(""),i._=c;let m=new o("+");i.str=S,i.addCodeArg=x,i.strConcat=function(f,b){return b.emptyStr()?f:f.emptyStr()?b:S`${f}${b}`},i.stringify=function(f){return new o(_(f))},i.safeStringify=_,i.getProperty=function(f){return typeof f=="string"&&i.IDENTIFIER.test(f)?new o("."+f):c`[${f}]`},i.getEsmExportName=function(f){if(typeof f=="string"&&i.IDENTIFIER.test(f))return new o(""+f);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)},i.regexpCode=function(f){return new o(f.toString())}}}return ja}var xa,Rt,Js={};function jn(){if(!xa){xa=1;{var i=Js;Object.defineProperty(i,"__esModule",{value:!0}),i.ValueScope=i.ValueScopeName=i.Scope=i.varKinds=i.UsedValueState=void 0;let o=Gs();class c extends Error{constructor(b){super(`CodeGen: "code" for ${b} not defined`),this.value=b.value}}var r,a;(a=r||(i.UsedValueState=r={}))[a.Started=0]="Started",a[a.Completed=1]="Completed",i.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};class m{constructor({prefixes:b,parent:N}={}){this._names={},this._prefixes=b,this._parent=N}toName(b){return b instanceof o.Name?b:this.name(b)}name(b){return new o.Name(this._newName(b))}_newName(b){return""+b+(this._names[b]||this._nameGroup(b)).index++}_nameGroup(b){var N;if((N=(N=this._parent)==null?void 0:N._prefixes)!=null&&N.has(b)||this._prefixes&&!this._prefixes.has(b))throw new Error(`CodeGen: prefix "${b}" is not allowed in this scope`);return this._names[b]={prefix:b,index:0}}}i.Scope=m;class S extends o.Name{constructor(b,N){super(N),this.prefix=b}setValue(b,{property:N,itemIndex:k}){this.value=b,this.scopePath=(0,o._)`.${new o.Name(N)}[${k}]`}}i.ValueScopeName=S;let x=(0,o._)`\n`;class _ extends m{constructor(b){super(b),this._values={},this._scope=b.scope,this.opts={...b,_n:b.lines?x:o.nil}}get(){return this._scope}name(b){return new S(b,this._newName(b))}value(k,N){if(N.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var k=this.toName(k),w=k.prefix,d=(d=N.key)!=null?d:N.ref;let A=this._values[w];if(A){var L=A.get(d);if(L)return L}else A=this._values[w]=new Map;return A.set(d,k),L=this._scope[w]||(this._scope[w]=[]),d=L.length,L[d]=N.ref,k.setValue(N,{property:w,itemIndex:d}),k}getValue(b,N){if(b=this._values[b],b)return b.get(N)}scopeRefs(b,N=this._values){return this._reduceValues(N,k=>{if(k.scopePath===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return(0,o._)`${b}${k.scopePath}`})}scopeCode(b=this._values,N,k){return this._reduceValues(b,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},N,k)}_reduceValues(b,N,k={},w){let d=o.nil;for(var A in b){var L=b[A];if(L){let R=k[A]=k[A]||new Map;L.forEach(C=>{if(!R.has(C)){R.set(C,r.Started);var q=N(C);if(q){var H=this.opts.es5?i.varKinds.var:i.varKinds.const;d=(0,o._)`${d}${H} ${C} = ${q};${this.opts._n}`}else{if(!(q=w==null?void 0:w(C)))throw new c(C);d=(0,o._)`${d}${q}${this.opts._n}`}R.set(C,r.Completed)}})}}return d}}i.ValueScope=_}}return Js}function qe(){if(!Rt){Rt=1;{let de=function(F,U){for(var re in U)F[re]=(F[re]||0)+(U[re]||0);return F},me=function(F,U){return U instanceof o._CodeOrName?de(F,U.names):F},V=function(F,U,re){var ye;return F instanceof o.Name?Pe(F):(ye=F)instanceof o._Code&&ye._items.some(Ce=>Ce instanceof o.Name&&U[Ce.str]===1&&re[Ce.str]!==void 0)?new o._Code(F._items.reduce((Ce,Ge)=>((Ge=Ge instanceof o.Name?Pe(Ge):Ge)instanceof o._Code?Ce.push(...Ge._items):Ce.push(Ge),Ce),[])):F;function Pe(Ce){var Ge=re[Ce.str];return Ge===void 0||U[Ce.str]!==1?Ce:(delete U[Ce.str],Ge)}},J=function(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,o._)`!${we(F)}`},ae=function(F){return(U,re)=>U===o.nil?re:re===o.nil?U:(0,o._)`${we(U)} ${F} ${we(re)}`},we=function(F){return F instanceof o.Name?F:(0,o._)`(${F})`};var i=pi;Object.defineProperty(i,"__esModule",{value:!0}),i.or=i.and=i.not=i.CodeGen=i.operators=i.varKinds=i.ValueScopeName=i.ValueScope=i.Scope=i.Name=i.regexpCode=i.stringify=i.getProperty=i.nil=i.strConcat=i.str=i._=void 0;let o=Gs(),c=jn();var r=Gs(),a=(Object.defineProperty(i,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(i,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(i,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(i,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(i,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(i,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(i,"Name",{enumerable:!0,get:function(){return r.Name}}),jn());Object.defineProperty(i,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(i,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(i,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(i,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),i.operators={GT:new o._Code(">"),GTE:new o._Code(">="),LT:new o._Code("<"),LTE:new o._Code("<="),EQ:new o._Code("==="),NEQ:new o._Code("!=="),NOT:new o._Code("!"),OR:new o._Code("||"),AND:new o._Code("&&"),ADD:new o._Code("+")};class m{optimizeNodes(){return this}optimizeNames(U,re){return this}}class S extends m{constructor(U,re,ye){super(),this.varKind=U,this.name=re,this.rhs=ye}render({es5:ye,_n:re}){var ye=ye?c.varKinds.var:this.varKind,Pe=this.rhs===void 0?"":" = "+this.rhs;return`${ye} ${this.name}${Pe};`+re}optimizeNames(U,re){if(U[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,U,re)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class x extends m{constructor(U,re,ye){super(),this.lhs=U,this.rhs=re,this.sideEffects=ye}render({_n:U}){return`${this.lhs} = ${this.rhs};`+U}optimizeNames(U,re){if(!(this.lhs instanceof o.Name)||U[this.lhs.str]||this.sideEffects)return this.rhs=V(this.rhs,U,re),this}get names(){return me(this.lhs instanceof o.Name?{}:{...this.lhs.names},this.rhs)}}class _ extends x{constructor(U,re,ye,Pe){super(U,ye,Pe),this.op=re}render({_n:U}){return`${this.lhs} ${this.op}= ${this.rhs};`+U}}class f extends m{constructor(U){super(),this.label=U,this.names={}}render({_n:U}){return this.label+":"+U}}class b extends m{constructor(U){super(),this.label=U,this.names={}}render({_n:U}){return`break${this.label?" "+this.label:""};`+U}}class N extends m{constructor(U){super(),this.error=U}render({_n:U}){return`throw ${this.error};`+U}get names(){return this.error.names}}class k extends m{constructor(U){super(),this.code=U}render({_n:U}){return this.code+";"+U}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(U,re){return this.code=V(this.code,U,re),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class w extends m{constructor(U=[]){super(),this.nodes=U}render(U){return this.nodes.reduce((re,ye)=>re+ye.render(U),"")}optimizeNodes(){var U=this.nodes;let re=U.length;for(;re--;){var ye=U[re].optimizeNodes();Array.isArray(ye)?U.splice(re,1,...ye):ye?U[re]=ye:U.splice(re,1)}return 0<U.length?this:void 0}optimizeNames(U,re){var ye=this.nodes;let Pe=ye.length;for(;Pe--;){var Ce=ye[Pe];if(!Ce.optimizeNames(U,re)){Ge=gt=it=void 0;var Ge,it=U,gt=Ce.names;for(Ge in gt)it[Ge]=(it[Ge]||0)-(gt[Ge]||0);ye.splice(Pe,1)}}return 0<ye.length?this:void 0}get names(){return this.nodes.reduce((U,re)=>de(U,re.names),{})}}class d extends w{render(U){return"{"+U._n+super.render(U)+"}"+U._n}}class A extends w{}class L extends d{}L.kind="else";class R extends d{constructor(U,re){super(re),this.condition=U}render(U){let re=`if(${this.condition})`+super.render(U);return this.else&&(re+="else "+this.else.render(U)),re}optimizeNodes(){super.optimizeNodes();var U,re=this.condition;if(re===!0)return this.nodes;let ye=this.else;return ye&&(U=ye.optimizeNodes(),ye=this.else=Array.isArray(U)?new L(U):U),ye?re===!1?ye instanceof R?ye:ye.nodes:this.nodes.length?this:new R(J(re),ye instanceof R?[ye]:ye.nodes):re!==!1&&this.nodes.length?this:void 0}optimizeNames(U,re){var ye;if(this.else=(ye=this.else)==null?void 0:ye.optimizeNames(U,re),super.optimizeNames(U,re)||this.else)return this.condition=V(this.condition,U,re),this}get names(){var U=super.names;return me(U,this.condition),this.else&&de(U,this.else.names),U}}R.kind="if";class C extends d{}C.kind="for";class q extends C{constructor(U){super(),this.iteration=U}render(U){return`for(${this.iteration})`+super.render(U)}optimizeNames(U,re){if(super.optimizeNames(U,re))return this.iteration=V(this.iteration,U,re),this}get names(){return de(super.names,this.iteration.names)}}class H extends C{constructor(U,re,ye,Pe){super(),this.varKind=U,this.name=re,this.from=ye,this.to=Pe}render(U){var{name:re,from:ye,to:Pe}=this;return`for(${U.es5?c.varKinds.var:this.varKind} ${re}=${ye}; ${re}<${Pe}; ${re}++)`+super.render(U)}get names(){var U=me(super.names,this.from);return me(U,this.to)}}class Z extends C{constructor(U,re,ye,Pe){super(),this.loop=U,this.varKind=re,this.name=ye,this.iterable=Pe}render(U){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(U)}optimizeNames(U,re){if(super.optimizeNames(U,re))return this.iterable=V(this.iterable,U,re),this}get names(){return de(super.names,this.iterable.names)}}class ee extends d{constructor(U,re,ye){super(),this.name=U,this.args=re,this.async=ye}render(U){return(this.async?"async ":"")+`function ${this.name}(${this.args})`+super.render(U)}}ee.kind="func";class $e extends w{render(U){return"return "+super.render(U)}}$e.kind="return";class xe extends d{render(U){let re="try"+super.render(U);return this.catch&&(re+=this.catch.render(U)),this.finally&&(re+=this.finally.render(U)),re}optimizeNodes(){var U;return super.optimizeNodes(),(U=this.catch)!=null&&U.optimizeNodes(),(U=this.finally)!=null&&U.optimizeNodes(),this}optimizeNames(U,re){var ye;return super.optimizeNames(U,re),(ye=this.catch)!=null&&ye.optimizeNames(U,re),(ye=this.finally)!=null&&ye.optimizeNames(U,re),this}get names(){var U=super.names;return this.catch&&de(U,this.catch.names),this.finally&&de(U,this.finally.names),U}}class ce extends d{constructor(U){super(),this.error=U}render(U){return`catch(${this.error})`+super.render(U)}}ce.kind="catch";class ve extends d{render(U){return"finally"+super.render(U)}}ve.kind="finally",i.CodeGen=class{constructor(F,U={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...U,_n:U.lines?`
`:""},this._extScope=F,this._scope=new c.Scope({parent:F}),this._nodes=[new A]}toString(){return this._root.render(this.opts)}name(F){return this._scope.name(F)}scopeName(F){return this._extScope.name(F)}scopeValue(F,U){return F=this._extScope.value(F,U),(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(F,U){return this._extScope.getValue(F,U)}scopeRefs(F){return this._extScope.scopeRefs(F,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(F,U,re,ye){return U=this._scope.toName(U),re!==void 0&&ye&&(this._constants[U.str]=re),this._leafNode(new S(F,U,re)),U}const(F,U,re){return this._def(c.varKinds.const,F,U,re)}let(F,U,re){return this._def(c.varKinds.let,F,U,re)}var(F,U,re){return this._def(c.varKinds.var,F,U,re)}assign(F,U,re){return this._leafNode(new x(F,U,re))}add(F,U){return this._leafNode(new _(F,i.operators.ADD,U))}code(F){return typeof F=="function"?F():F!==o.nil&&this._leafNode(new k(F)),this}object(...F){var U,re,ye=["{"];for([U,re]of F)1<ye.length&&ye.push(","),ye.push(U),U===re&&!this.opts.es5||(ye.push(":"),(0,o.addCodeArg)(ye,re));return ye.push("}"),new o._Code(ye)}if(F,U,re){if(this._blockNode(new R(F)),U&&re)this.code(U).else().code(re).endIf();else if(U)this.code(U).endIf();else if(re)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(F){return this._elseNode(new R(F))}else(){return this._elseNode(new L)}endIf(){return this._endBlockNode(R,L)}_for(F,U){return this._blockNode(F),U&&this.code(U).endFor(),this}for(F,U){return this._for(new q(F),U)}forRange(F,U,re,ye,Pe=this.opts.es5?c.varKinds.var:c.varKinds.let){let Ce=this._scope.toName(F);return this._for(new H(Pe,Ce,U,re),()=>ye(Ce))}forOf(F,U,re,ye=c.varKinds.const){let Pe=this._scope.toName(F);if(this.opts.es5){let Ce=U instanceof o.Name?U:this.var("_arr",U);return this.forRange("_i",0,(0,o._)`${Ce}.length`,Ge=>{this.var(Pe,(0,o._)`${Ce}[${Ge}]`),re(Pe)})}return this._for(new Z("of",ye,Pe,U),()=>re(Pe))}forIn(F,U,re,ye=this.opts.es5?c.varKinds.var:c.varKinds.const){if(this.opts.ownProperties)return this.forOf(F,(0,o._)`Object.keys(${U})`,re);let Pe=this._scope.toName(F);return this._for(new Z("in",ye,Pe,U),()=>re(Pe))}endFor(){return this._endBlockNode(C)}label(F){return this._leafNode(new f(F))}break(F){return this._leafNode(new b(F))}return(F){var U=new $e;if(this._blockNode(U),this.code(F),U.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($e)}try(F,U,re){var ye;if(U||re)return ye=new xe,this._blockNode(ye),this.code(F),U&&(F=this.name("e"),this._currNode=ye.catch=new ce(F),U(F)),re&&(this._currNode=ye.finally=new ve,this.code(re)),this._endBlockNode(ce,ve);throw new Error('CodeGen: "try" without "catch" and "finally"')}throw(F){return this._leafNode(new N(F))}block(F,U){return this._blockStarts.push(this._nodes.length),F&&this.code(F).endBlock(U),this}endBlock(F){var U=this._blockStarts.pop();if(U===void 0)throw new Error("CodeGen: not in self-balancing block");var re=this._nodes.length-U;if(re<0||F!==void 0&&re!==F)throw new Error(`CodeGen: wrong number of nodes: ${re} vs ${F} expected`);return this._nodes.length=U,this}func(F,U=o.nil,re,ye){return this._blockNode(new ee(F,U,re)),ye&&this.code(ye).endFunc(),this}endFunc(){return this._endBlockNode(ee)}optimize(F=1){for(;0<F--;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(F){return this._currNode.nodes.push(F),this}_blockNode(F){this._currNode.nodes.push(F),this._nodes.push(F)}_endBlockNode(F,U){var re=this._currNode;if(re instanceof F||U&&re instanceof U)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${U?F.kind+"/"+U.kind:F.kind}"`)}_elseNode(F){var U=this._currNode;if(U instanceof R)return this._currNode=U.else=F,this;throw new Error('CodeGen: "else" without "if"')}get _root(){return this._nodes[0]}get _currNode(){var F=this._nodes;return F[F.length-1]}set _currNode(F){var U=this._nodes;U[U.length-1]=F}},i.not=J;let Q=ae(i.operators.AND),le=(i.and=function(...F){return F.reduce(Q)},ae(i.operators.OR));i.or=function(...F){return F.reduce(le)}}}return pi}var xn,Ke={};function Je(){if(!xn){let m=function(w,d=w.schema){var{opts:A,self:L}=w;if(A.strictSchema&&typeof d!="boolean"){var R,C=L.RULES.keywords;for(R in d)C[R]||k(w,`unknown keyword: "${R}"`)}},S=function(w,d){if(typeof w=="boolean")return!w;for(var A in w)if(d[A])return!0;return!1},x=function(w){return typeof w=="number"?""+w:w.replace(/~/g,"~0").replace(/\//g,"~1")},_=function(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")},f=function({mergeNames:w,mergeToName:d,mergeValues:A,resultToName:L}){return(R,C,q,H)=>(C=q===void 0?C:q instanceof a.Name?((C instanceof a.Name?w:d)(R,C,q),q):C instanceof a.Name?(d(R,q,C),C):A(C,q),H!==a.Name||C instanceof a.Name?C:L(R,C))},b=function(w,d){var A;return d===!0?w.var("props",!0):(A=w.var("props",(0,a._)`{}`),d!==void 0&&N(w,A,d),A)},N=function(w,d,A){Object.keys(A).forEach(L=>w.assign((0,a._)`${d}${(0,a.getProperty)(L)}`,!0))},k=function(w,d,A=w.opts.strictSchema){if(A){if(d="strict mode: "+d,A===!0)throw new Error(d);w.self.logger.warn(d)}};xn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.checkStrictMode=Ke.getErrorPath=Ke.Type=Ke.useFunc=Ke.setEvaluated=Ke.evaluatedPropsToName=Ke.mergeEvaluated=Ke.eachItem=Ke.unescapeJsonPointer=Ke.escapeJsonPointer=Ke.escapeFragment=Ke.unescapeFragment=Ke.schemaRefOrVal=Ke.schemaHasRulesButRef=Ke.schemaHasRules=Ke.checkUnknownRules=Ke.alwaysValidSchema=Ke.toHash=void 0;let a=qe(),o=Gs(),c=(Ke.toHash=function(w){var d,A={};for(d of w)A[d]=!0;return A},Ke.alwaysValidSchema=function(w,d){return typeof d=="boolean"?d:Object.keys(d).length===0||(m(w,d),!S(d,w.self.RULES.all))},Ke.checkUnknownRules=m,Ke.schemaHasRules=S,Ke.schemaHasRulesButRef=function(w,d){if(typeof w=="boolean")return!w;for(var A in w)if(A!=="$ref"&&d.all[A])return!0;return!1},Ke.schemaRefOrVal=function({topSchemaRef:w,schemaPath:d},A,L,R){if(!R){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,a._)`${A}`}return(0,a._)`${w}${d}${(0,a.getProperty)(L)}`},Ke.unescapeFragment=function(w){return _(decodeURIComponent(w))},Ke.escapeFragment=function(w){return encodeURIComponent(x(w))},Ke.escapeJsonPointer=x,Ke.unescapeJsonPointer=_,Ke.eachItem=function(w,d){if(Array.isArray(w))for(var A of w)d(A);else d(w)},Ke.mergeEvaluated={props:f({mergeNames:(w,d,A)=>w.if((0,a._)`${A} !== true && ${d} !== undefined`,()=>{w.if((0,a._)`${d} === true`,()=>w.assign(A,!0),()=>w.assign(A,(0,a._)`${A} || {}`).code((0,a._)`Object.assign(${A}, ${d})`))}),mergeToName:(w,d,A)=>w.if((0,a._)`${A} !== true`,()=>{d===!0?w.assign(A,!0):(w.assign(A,(0,a._)`${A} || {}`),N(w,A,d))}),mergeValues:(w,d)=>w===!0||{...w,...d},resultToName:b}),items:f({mergeNames:(w,d,A)=>w.if((0,a._)`${A} !== true && ${d} !== undefined`,()=>w.assign(A,(0,a._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(w,d,A)=>w.if((0,a._)`${A} !== true`,()=>w.assign(A,d===!0||(0,a._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(w,d)=>w===!0||Math.max(w,d),resultToName:(w,d)=>w.var("items",d)})},Ke.evaluatedPropsToName=b,Ke.setEvaluated=N,{});var i,r;Ke.useFunc=function(w,d){return w.scopeValue("func",{ref:d,code:c[d.code]||(c[d.code]=new o._Code(d.code))})},(r=i||(Ke.Type=i={}))[r.Num=0]="Num",r[r.Str=1]="Str",Ke.getErrorPath=function(w,d,A){return w instanceof a.Name?(d=d===i.Num,A?d?(0,a._)`"[" + ${w} + "]"`:(0,a._)`"['" + ${w} + "']"`:d?(0,a._)`"/" + ${w}`:(0,a._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`):A?(0,a.getProperty)(w).toString():"/"+x(w)},Ke.checkStrictMode=k}return Ke}var Ns,di,fi,hi={};function yr(){var i;return Ns||(Ns=1,Object.defineProperty(hi,"__esModule",{value:!0}),i={data:new(i=qe()).Name("data"),valCxt:new i.Name("valCxt"),instancePath:new i.Name("instancePath"),parentData:new i.Name("parentData"),parentDataProperty:new i.Name("parentDataProperty"),rootData:new i.Name("rootData"),dynamicAnchors:new i.Name("dynamicAnchors"),vErrors:new i.Name("vErrors"),errors:new i.Name("errors"),this:new i.Name("this"),self:new i.Name("self"),scope:new i.Name("scope"),json:new i.Name("json"),jsonPos:new i.Name("jsonPos"),jsonLen:new i.Name("jsonLen"),jsonPart:new i.Name("jsonPart")},hi.default=i),hi}function Hs(){if(!di){di=1;{let c=function(_,f){let b=_.const("err",f);_.if((0,r._)`${o.default.vErrors} === null`,()=>_.assign(o.default.vErrors,(0,r._)`[${b}]`),(0,r._)`${o.default.vErrors}.push(${b})`),_.code((0,r._)`${o.default.errors}++`)},m=function(_,f){var{gen:b,validateName:N,schemaEnv:k}=_;k.$async?b.throw((0,r._)`new ${_.ValidationError}(${f})`):(b.assign((0,r._)`${N}.errors`,f),b.return(!1))},x=function(_,f,b){var N,k,w,d,A,L,R,C,q,H=_.it.createErrors;return H===!1?(0,r._)`{}`:([H,_,f={}]=[_,f,b],{gen:b,it:N}=H,N=[(({errorPath:Z},{instancePath:ee})=>(ee=ee?(0,r.str)`${Z}${(0,a.getErrorPath)(ee,a.Type.Str)}`:Z,[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,ee)]))(N,f),(({keyword:Z,it:{errSchemaPath:ee}},{schemaPath:$e,parentSchema:xe})=>{let ce=xe?ee:(0,r.str)`${ee}/${Z}`;return $e&&(ce=(0,r.str)`${ce}${(0,a.getErrorPath)($e,a.Type.Str)}`),[S.schemaPath,ce]})(H,f)],[f,{params:H,message:_},k]=[H,_,N],{keyword:w,data:d,schemaValue:A,it:L}=f,{opts:L,propertyName:R,topSchemaRef:C,schemaPath:q}=L,k.push([S.keyword,w],[S.params,typeof H=="function"?H(f):H||(0,r._)`{}`]),L.messages&&k.push([S.message,typeof _=="function"?_(f):_]),L.verbose&&k.push([S.schema,A],[S.parentSchema,(0,r._)`${C}${q}`],[o.default.data,d]),R&&k.push([S.propertyName,R]),b.object(...N))};var i=Os;Object.defineProperty(i,"__esModule",{value:!0}),i.extendErrors=i.resetErrorsCount=i.reportExtraError=i.reportError=i.keyword$DataError=i.keywordError=void 0;let r=qe(),a=Je(),o=yr();i.keywordError={message:({keyword:_})=>(0,r.str)`must pass "${_}" keyword validation`},i.keyword$DataError={message:({keyword:_,schemaType:f})=>f?(0,r.str)`"${_}" keyword must be ${f} ($data)`:(0,r.str)`"${_}" keyword is invalid ($data)`},i.reportError=function(L,f=i.keywordError,b,N){var k=L.it,{gen:w,compositeRule:d,allErrors:A}=k,L=x(L,f,b);N??(d||A)?c(w,L):m(k,(0,r._)`[${L}]`)},i.reportExtraError=function(_,f=i.keywordError,b){var N=_.it,{gen:k,compositeRule:w,allErrors:d}=N;c(k,x(_,f,b)),w||d||m(N,o.default.vErrors)},i.resetErrorsCount=function(_,f){_.assign(o.default.errors,f),_.if((0,r._)`${o.default.vErrors} !== null`,()=>_.if(f,()=>_.assign((0,r._)`${o.default.vErrors}.length`,f),()=>_.assign(o.default.vErrors,null)))},i.extendErrors=function({gen:_,keyword:f,schemaValue:b,data:N,errsCount:k,it:w}){if(k===void 0)throw new Error("ajv implementation error");let d=_.name("err");_.forRange("i",k,o.default.errors,A=>{_.const(d,(0,r._)`${o.default.vErrors}[${A}]`),_.if((0,r._)`${d}.instancePath === undefined`,()=>_.assign((0,r._)`${d}.instancePath`,(0,r.strConcat)(o.default.instancePath,w.errorPath))),_.assign((0,r._)`${d}.schemaPath`,(0,r.str)`${w.errSchemaPath}/${f}`),w.opts.verbose&&(_.assign((0,r._)`${d}.schema`,b),_.assign((0,r._)`${d}.data`,N))})};let S={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")}}}return Os}function mi(){if(!fi){let c=function(m,S){var{gen:_,data:x}=m,_={gen:_,keyword:"false schema",data:x,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:m};(0,i.reportError)(_,o,void 0,S)};fi=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.boolOrEmptySchema=ns.topBoolOrEmptySchema=void 0;let i=Hs(),r=qe(),a=yr(),o={message:"boolean schema is false"};ns.topBoolOrEmptySchema=function(m){var{gen:S,schema:x,validateName:_}=m;x===!1?c(m,!1):typeof x=="object"&&x.$async===!0?S.return(a.default.data):(S.assign((0,r._)`${_}.errors`,null),S.return(!0))},ns.boolOrEmptySchema=function(m,S){var{gen:x,schema:_}=m;_===!1?(x.var(S,!1),c(m)):x.var(S,!0)}}return ns}var Aa,bt={},Ws={};function yi(){if(!Aa){Aa=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.getRules=Ws.isJSONType=void 0;let i=new Set(["string","number","integer","boolean","null","object","array"]);Ws.isJSONType=function(r){return typeof r=="string"&&i.has(r)},Ws.getRules=function(){var r={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...r,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},r.number,r.string,r.array,r.object],post:{rules:[]},all:{},keywords:{}}}}return Ws}var Po,Ys,Dt={};function js(){return Po||(Po=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.shouldUseRule=Dt.shouldUseGroup=Dt.schemaHasRulesForType=void 0,Dt.schemaHasRulesForType=function({schema:a,self:o},c){return(o=o.RULES.types[c])&&o!==!0&&i(a,o)},Dt.shouldUseGroup=i,Dt.shouldUseRule=r),Dt;function i(a,o){return o.rules.some(c=>r(a,c))}function r(a,o){return a[o.keyword]!==void 0||((o=o.definition.implements)==null?void 0:o.some(c=>a[c]!==void 0))}}function xs(){if(!Ys){let f=function(w){if(w=Array.isArray(w)?w:w?[w]:[],w.every(a.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))},b=function(w,d,A,L=i.Correct){var R=L===i.Correct?m.operators.EQ:m.operators.NEQ;let C;switch(w){case"null":return(0,m._)`${d} ${R} null`;case"array":C=(0,m._)`Array.isArray(${d})`;break;case"object":C=(0,m._)`${d} && typeof ${d} == "object" && !Array.isArray(${d})`;break;case"integer":C=q((0,m._)`!(${d} % 1) && !isNaN(${d})`);break;case"number":C=q();break;default:return(0,m._)`typeof ${d} ${R} ${w}`}return L===i.Correct?C:(0,m.not)(C);function q(H=m.nil){return(0,m.and)((0,m._)`typeof ${d} == "number"`,H,A?(0,m._)`isFinite(${d})`:m.nil)}},N=function(H,d,A,L){if(H.length===1)return b(H[0],d,A,L);let R;var C,q,H=(0,S.toHash)(H);for(q in H.array&&H.object?(C=(0,m._)`typeof ${d} != "object"`,R=H.null?C:(0,m._)`!${d} || ${C}`,delete H.null,delete H.array,delete H.object):R=m.nil,H.number&&delete H.integer,H)R=(0,m.and)(R,b(q,d,A,L));return R},k=function(w){w=(d=>{var{gen:A,data:L,schema:R}=d,C=(0,S.schemaRefOrVal)(d,R,"type");return{gen:A,keyword:"type",data:L,schema:R.type,schemaCode:C,schemaValue:C,parentSchema:R,params:{},it:d}})(w),(0,c.reportError)(w,_)};Ys=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.reportTypeError=bt.checkDataTypes=bt.checkDataType=bt.coerceAndCheckDataType=bt.getJSONTypes=bt.getSchemaTypes=bt.DataType=void 0;let a=yi(),o=js(),c=Hs(),m=qe(),S=Je();var i,r;(r=i||(bt.DataType=i={}))[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong",bt.getSchemaTypes=function(w){var d=f(w.type);if(d.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!d.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&d.push("null")}return d},bt.getJSONTypes=f,bt.coerceAndCheckDataType=function(w,d){var A,{gen:L,data:R,opts:C}=w;H=d;let q=(A=C.coerceTypes)?H.filter(Z=>x.has(Z)||A==="array"&&Z==="array"):[];var H=0<d.length&&!(q.length===0&&d.length===1&&(0,o.schemaHasRulesForType)(w,d[0]));return H&&(R=N(d,R,C.strictNumbers,i.Wrong),L.if(R,()=>{if(q.length){var Z,ee=w,$e=d,xe=q;let{gen:ce,data:ve,opts:de}=ee,me=ce.let("dataType",(0,m._)`typeof ${ve}`),V=ce.let("coerced",(0,m._)`undefined`);de.coerceTypes==="array"&&ce.if((0,m._)`${me} == 'object' && Array.isArray(${ve}) && ${ve}.length == 1`,()=>ce.assign(ve,(0,m._)`${ve}[0]`).assign(me,(0,m._)`typeof ${ve}`).if(N($e,ve,de.strictNumbers),()=>ce.assign(V,ve))),ce.if((0,m._)`${V} !== undefined`);for(Z of xe)(x.has(Z)||Z==="array"&&de.coerceTypes==="array")&&(J=>{switch(J){case"string":return ce.elseIf((0,m._)`${me} == "number" || ${me} == "boolean"`).assign(V,(0,m._)`"" + ${ve}`).elseIf((0,m._)`${ve} === null`).assign(V,(0,m._)`""`);case"number":return ce.elseIf((0,m._)`${me} == "boolean" || ${ve} === null
              || (${me} == "string" && ${ve} && ${ve} == +${ve})`).assign(V,(0,m._)`+${ve}`);case"integer":return ce.elseIf((0,m._)`${me} === "boolean" || ${ve} === null
              || (${me} === "string" && ${ve} && ${ve} == +${ve} && !(${ve} % 1))`).assign(V,(0,m._)`+${ve}`);case"boolean":return ce.elseIf((0,m._)`${ve} === "false" || ${ve} === 0 || ${ve} === null`).assign(V,!1).elseIf((0,m._)`${ve} === "true" || ${ve} === 1`).assign(V,!0);case"null":return ce.elseIf((0,m._)`${ve} === "" || ${ve} === 0 || ${ve} === false`),ce.assign(V,null);case"array":ce.elseIf((0,m._)`${me} === "string" || ${me} === "number"
              || ${me} === "boolean" || ${ve} === null`).assign(V,(0,m._)`[${ve}]`)}})(Z);ce.else(),k(ee),ce.endIf(),ce.if((0,m._)`${V} !== undefined`,()=>{var J,Q,le,ae;ce.assign(ve,V),[{gen:J,parentData:Q,parentDataProperty:le},ae]=[ee,V],J.if((0,m._)`${Q} !== undefined`,()=>J.assign((0,m._)`${Q}[${le}]`,ae))})}else k(w)})),H};let x=new Set(["string","number","integer","boolean","null"]),_=(bt.checkDataType=b,bt.checkDataTypes=N,{message:({schema:w})=>"must be "+w,params:({schema:w,schemaValue:d})=>typeof w=="string"?(0,m._)`{type: ${w}}`:(0,m._)`{type: ${d}}`});bt.reportTypeError=k}return bt}var Pr,Qs={};function gi(){if(!Pr){let a=function(o,c,m){var{gen:S,compositeRule:x,data:_,opts:f}=o;if(m!==void 0)if(_=(0,i._)`${_}${(0,i.getProperty)(c)}`,x)(0,r.checkStrictMode)(o,"default is ignored for: "+_);else{let b=(0,i._)`${_} === undefined`;f.useDefaults==="empty"&&(b=(0,i._)`${b} || ${_} === null || ${_} === ""`),S.if(b,(0,i._)`${_} = ${(0,i.stringify)(m)}`)}};Pr=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.assignDefaults=void 0;let i=qe(),r=Je();Qs.assignDefaults=function(o,c){var{properties:m,items:S}=o.schema;if(c==="object"&&m)for(var x in m)a(o,x,m[x].default);else c==="array"&&Array.isArray(S)&&S.forEach((_,f)=>a(o,f,_.default))}}return Qs}var As,Zs,Wt={},Xe={};function Yt(){if(!As){let m=function(f){return f.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,i._)`Object.prototype.hasOwnProperty`})},S=function(f,b,N){return(0,i._)`${m(f)}.call(${b}, ${N})`},x=function(f,b,N,k){var w=(0,i._)`${b}${(0,i.getProperty)(N)} === undefined`;return k?(0,i.or)(w,(0,i.not)(S(f,b,N))):w},_=function(f){return f?Object.keys(f).filter(b=>b!=="__proto__"):[]};As=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.validateUnion=Xe.validateArray=Xe.usePattern=Xe.callValidateCode=Xe.schemaProperties=Xe.allSchemaProperties=Xe.noPropertyInData=Xe.propertyInData=Xe.isOwnProperty=Xe.hasPropFunc=Xe.reportMissingProp=Xe.checkMissingProp=Xe.checkReportMissingProp=void 0;let i=qe(),r=Je(),a=yr(),o=Je(),c=(Xe.checkReportMissingProp=function(f,b){var{gen:N,data:k,it:w}=f;N.if(x(N,k,b,w.opts.ownProperties),()=>{f.setParams({missingProperty:(0,i._)`${b}`},!0),f.error()})},Xe.checkMissingProp=function({gen:f,data:b,it:{opts:N}},k,w){return(0,i.or)(...k.map(d=>(0,i.and)(x(f,b,d,N.ownProperties),(0,i._)`${w} = ${d}`)))},Xe.reportMissingProp=function(f,b){f.setParams({missingProperty:b},!0),f.error()},Xe.hasPropFunc=m,Xe.isOwnProperty=S,Xe.propertyInData=function(f,b,N,k){var w=(0,i._)`${b}${(0,i.getProperty)(N)} !== undefined`;return k?(0,i._)`${w} && ${S(f,b,N)}`:w},Xe.noPropertyInData=x,Xe.allSchemaProperties=_,Xe.schemaProperties=function(f,b){return _(b).filter(N=>!(0,r.alwaysValidSchema)(f,b[N]))},Xe.callValidateCode=function({schemaCode:f,data:b,it:{gen:N,topSchemaRef:k,schemaPath:w,errorPath:d},it:A},L,R,C){return C=C?(0,i._)`${f}, ${b}, ${k}${w}`:b,f=[[a.default.instancePath,(0,i.strConcat)(a.default.instancePath,d)],[a.default.parentData,A.parentData],[a.default.parentDataProperty,A.parentDataProperty],[a.default.rootData,a.default.rootData]],A.opts.dynamicRef&&f.push([a.default.dynamicAnchors,a.default.dynamicAnchors]),k=(0,i._)`${C}, ${N.object(...f)}`,R!==i.nil?(0,i._)`${L}.call(${R}, ${k})`:(0,i._)`${L}(${k})`},(0,i._)`new RegExp`);Xe.usePattern=function({gen:f,it:{opts:b}},N){var k=b.unicodeRegExp?"u":"",w=(b=b.code.regExp)(N,k);return f.scopeValue("pattern",{key:w.toString(),ref:w,code:(0,i._)`${b.code==="new RegExp"?c:(0,o.useFunc)(f,b)}(${N}, ${k})`})},Xe.validateArray=function(f){let{gen:b,data:N,keyword:k,it:w}=f,d=b.name("valid");if(w.allErrors){let L=b.let("valid",!0);return A(()=>b.assign(L,!1)),L}return b.var(d,!0),A(()=>b.break()),d;function A(L){var R=b.const("len",(0,i._)`${N}.length`);b.forRange("i",0,R,C=>{f.subschema({keyword:k,dataProp:C,dataPropType:r.Type.Num},d),b.if((0,i.not)(d),L)})}},Xe.validateUnion=function(f){let{gen:b,schema:N,keyword:k,it:w}=f;if(!Array.isArray(N))throw new Error("ajv implementation error");var d=N.some(A=>(0,r.alwaysValidSchema)(w,A));if(!d||w.opts.unevaluated){let A=b.let("valid",!1),L=b.name("_valid");b.block(()=>N.forEach((R,C)=>{C=f.subschema({keyword:k,schemaProp:C,compositeRule:!0},L),b.assign(A,(0,i._)`${A} || ${L}`),C=f.mergeValidEvaluated(C,L),C||b.if((0,i.not)(A))})),f.result(A,()=>f.reset(),()=>f.error(!0))}}}return Xe}function An(){if(!Zs){let c=function(S){let{gen:x,data:_,it:f}=S;x.if(f.parentData,()=>x.assign(_,(0,i._)`${f.parentData}[${f.parentDataProperty}]`))},m=function(S,x,_){if(_===void 0)throw new Error(`keyword "${x}" failed to compile`);return S.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,i.stringify)(_)})};Zs=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.validateKeywordUsage=Wt.validSchemaType=Wt.funcKeywordCode=Wt.macroKeywordCode=void 0;let i=qe(),r=yr(),a=Yt(),o=Hs();Wt.macroKeywordCode=function(S,N){var{gen:_,keyword:f,schema:k,parentSchema:w,it:b}=S,N=N.macro.call(b.self,k,w,b),k=m(_,f,N),w=(b.opts.validateSchema!==!1&&b.self.validateSchema(N,!0),_.name("valid"));S.subschema({schema:N,schemaPath:i.nil,errSchemaPath:b.errSchemaPath+"/"+f,topSchemaRef:k,compositeRule:!0},w),S.pass(w,()=>S.error(!0))},Wt.funcKeywordCode=function(S,x){let _,{gen:f,keyword:b,schema:N,parentSchema:k,$data:w,it:d}=S;var[A,L]=[d.schemaEnv,x];if(L.async&&!A.$async)throw new Error("async keyword in sync schema");L=!w&&x.compile?x.compile.call(d.self,N,k,d):x.validate;let R=m(f,b,L),C=f.let("valid");function q(Z=x.async?(0,i._)`await `:i.nil){var ee=d.opts.passContext?r.default.this:r.default.self,$e=!("compile"in x&&!w||x.schema===!1);f.assign(C,(0,i._)`${Z}${(0,a.callValidateCode)(S,R,ee,$e)}`,x.modifying)}function H(Z){var ee;f.if((0,i.not)((ee=x.valid)!=null?ee:C),Z)}S.block$data(C,function(){if(x.errors===!1)q(),x.modifying&&c(S),H(()=>S.error());else{let Z=(x.async?()=>{let ee=f.let("ruleErrs",null);return f.try(()=>q((0,i._)`await `),$e=>f.assign(C,!1).if((0,i._)`${$e} instanceof ${d.ValidationError}`,()=>f.assign(ee,(0,i._)`${$e}.errors`),()=>f.throw($e))),ee}:()=>{var ee=(0,i._)`${R}.errors`;return f.assign(ee,null),q(i.nil),ee})();x.modifying&&c(S),H(()=>{{var ee=S,$e=Z;let xe=ee.gen;xe.if((0,i._)`Array.isArray(${$e})`,()=>{xe.assign(r.default.vErrors,(0,i._)`${r.default.vErrors} === null ? ${$e} : ${r.default.vErrors}.concat(${$e})`).assign(r.default.errors,(0,i._)`${r.default.vErrors}.length`),(0,o.extendErrors)(ee)},()=>ee.error())}})}}),S.ok((_=x.valid)!=null?_:C)},Wt.validSchemaType=function(S,x,_=!1){return!x.length||x.some(f=>f==="array"?Array.isArray(S):f==="object"?S&&typeof S=="object"&&!Array.isArray(S):typeof S==f||_&&S===void 0)},Wt.validateKeywordUsage=function({schema:S,opts:x,self:_,errSchemaPath:f},b,N){if(Array.isArray(b.keyword)?!b.keyword.includes(N):b.keyword!==N)throw new Error("ajv implementation error");var k=b.dependencies;if(k!=null&&k.some(w=>!Object.prototype.hasOwnProperty.call(S,w)))throw new Error(`parent schema must have dependencies of ${N}: `+k.join(","));if(b.validateSchema&&!b.validateSchema(S[N])){if(k=`keyword "${N}" value is invalid at path "${f}": `+_.errorsText(b.validateSchema.errors),x.validateSchema!=="log")throw new Error(k);_.logger.error(k)}}}return Wt}var vi,gr={};function Ia(){if(!vi){vi=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.extendSubschemaMode=gr.extendSubschemaData=gr.getSubschema=void 0;let i=qe(),r=Je();gr.getSubschema=function(a,{keyword:o,schemaProp:c,schema:m,schemaPath:S,errSchemaPath:x,topSchemaRef:_}){if(o!==void 0&&m!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');var f;if(o!==void 0)return f=a.schema[o],c===void 0?{schema:f,schemaPath:(0,i._)`${a.schemaPath}${(0,i.getProperty)(o)}`,errSchemaPath:a.errSchemaPath+"/"+o}:{schema:f[c],schemaPath:(0,i._)`${a.schemaPath}${(0,i.getProperty)(o)}${(0,i.getProperty)(c)}`,errSchemaPath:a.errSchemaPath+`/${o}/`+(0,r.escapeFragment)(c)};if(m===void 0)throw new Error('either "keyword" or "schema" must be passed');if(S===void 0||x===void 0||_===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:m,schemaPath:S,topSchemaRef:_,errSchemaPath:x}},gr.extendSubschemaData=function(a,o,{dataProp:c,dataPropType:m,data:S,dataTypes:x,propertyName:_}){if(S!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var f,b,N,k=o.gen;function w(d){a.data=d,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,d]}c!==void 0&&({errorPath:f,dataPathArr:b,opts:N}=o,w(k.let("data",(0,i._)`${o.data}${(0,i.getProperty)(c)}`,!0)),a.errorPath=(0,i.str)`${f}${(0,r.getErrorPath)(c,m,N.jsPropertySyntax)}`,a.parentDataProperty=(0,i._)`${c}`,a.dataPathArr=[...b,a.parentDataProperty]),S!==void 0&&(w(S instanceof i.Name?S:k.let("data",S,!0)),_!==void 0)&&(a.propertyName=_),x&&(a.dataTypes=x)},gr.extendSubschemaMode=function(a,{jtdDiscriminator:o,jtdMetadata:c,compositeRule:m,createErrors:S,allErrors:x}){m!==void 0&&(a.compositeRule=m),S!==void 0&&(a.createErrors=S),x!==void 0&&(a.allErrors=x),a.jtdDiscriminator=o,a.jtdMetadata=c}}return gr}var Ta,Ca,jt={};function Oo(){return Ca||(Ca=1,Ta=function i(r,a){if(r===a)return!0;if(r&&a&&typeof r=="object"&&typeof a=="object"){if(r.constructor!==a.constructor)return!1;var o,c,m;if(Array.isArray(r)){if((o=r.length)!=a.length)return!1;for(c=o;c--!=0;)if(!i(r[c],a[c]))return!1}else{if(r.constructor===RegExp)return r.source===a.source&&r.flags===a.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===a.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===a.toString();if((o=(m=Object.keys(r)).length)!==Object.keys(a).length)return!1;for(c=o;c--!=0;)if(!Object.prototype.hasOwnProperty.call(a,m[c]))return!1;for(c=o;c--!=0;){var S=m[c];if(!i(r[S],a[S]))return!1}}return!0}return r!=r&&a!=a}),Ta}var La,No,Ma,bi={exports:{}};function In(){var i;return La||(La=1,(i=bi.exports=function(a,o,c){typeof o=="function"&&(c=o,o={}),function m(S,x,_,f,b,N,k,w,d,A){if(f&&typeof f=="object"&&!Array.isArray(f)){for(var L in x(f,b,N,k,w,d,A),f){var R=f[L];if(Array.isArray(R)){if(L in i.arrayKeywords)for(var C=0;C<R.length;C++)m(S,x,_,R[C],b+"/"+L+"/"+C,N,b,L,f,C)}else if(L in i.propsKeywords){if(R&&typeof R=="object")for(var q in R)m(S,x,_,R[q],b+"/"+L+"/"+r(q),N,b,L,f,q)}else(L in i.keywords||S.allKeys&&!(L in i.skipKeywords))&&m(S,x,_,R,b+"/"+L,N,b,L,f)}_(f,b,N,k,w,d,A)}}(o,typeof(c=o.cb||c)=="function"?c:c.pre||function(){},c.post||function(){},a,"",a)}).keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}),bi.exports;function r(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}}function Tn(){if(!No){let x=function(N){for(var k in N)if(c.has(k)||(k=N[k],Array.isArray(k)&&k.some(x))||typeof k=="object"&&x(k))return!0;return!1},_=function(N,k="",w){return w!==!1&&(k=b(k)),w=N.parse(k),f(N,w)},f=function(N,k){return N.serialize(k).split("#")[0]+"#"},b=function(N){return N?N.replace(m,""):""};No=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.getSchemaRefs=jt.resolveUrl=jt.normalizeId=jt._getFullPath=jt.getFullPath=jt.inlineRef=void 0;let i=Je(),r=Oo(),a=In(),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]),c=(jt.inlineRef=function(N,k=!0){return typeof N=="boolean"||(k===!0?!x(N):!!k&&function w(d){let A=0;for(var L in d)if(L==="$ref"||(A++,!o.has(L)&&(typeof d[L]=="object"&&(0,i.eachItem)(d[L],R=>A+=w(R)),A===1/0)))return 1/0;return A}(N)<=k)},new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"])),m=(jt.getFullPath=_,jt._getFullPath=f,/#\/?$/),S=(jt.normalizeId=b,jt.resolveUrl=function(N,k,w){return w=b(w),N.resolve(k,w)},/^[a-z_][-a-z0-9._]*$/i);jt.getSchemaRefs=function(N,k){if(typeof N=="boolean")return{};let{schemaId:w,uriResolver:d}=this.opts,A={"":k=b(N[w]||k)},L=_(d,k,!1),R={},C=new Set;return a(N,{allKeys:!0},(Z,ee,$e,xe)=>{if(xe!==void 0){let de=function(V){var J=this.opts.uriResolver.resolve;if(V=b(ve?J(ve,V):V),C.has(V))throw H(V);C.add(V);let Q=this.refs[V];return typeof(Q=typeof Q=="string"?this.refs[Q]:Q)=="object"?q(Z,Q.schema,V):V!==b(ce)&&(V[0]==="#"?(q(Z,R[V],V),R[V]=Z):this.refs[V]=ce),V},me=function(V){if(typeof V=="string"){if(!S.test(V))throw new Error(`invalid anchor "${V}"`);de.call(this,"#"+V)}},ce=L+ee,ve=A[xe];typeof Z[w]=="string"&&(ve=de.call(this,Z[w])),me.call(this,Z.$anchor),me.call(this,Z.$dynamicAnchor),A[ee]=ve}}),R;function q(Z,ee,$e){if(ee!==void 0&&!r(Z,ee))throw H($e)}function H(Z){return new Error(`reference "${Z}" resolves to more than one schema`)}}}return jt}function is(){if(!Ma){let A=function({gen:V,validateName:J,schema:Q,schemaEnv:le,opts:ae},we){ae.code.es5?V.func(J,(0,x._)`${_.default.data}, ${_.default.valCxt}`,le.$async,()=>{var F,U;V.code((0,x._)`"use strict"; ${L(Q,ae)}`),U=ae,(F=V).if(_.default.valCxt,()=>{F.var(_.default.instancePath,(0,x._)`${_.default.valCxt}.${_.default.instancePath}`),F.var(_.default.parentData,(0,x._)`${_.default.valCxt}.${_.default.parentData}`),F.var(_.default.parentDataProperty,(0,x._)`${_.default.valCxt}.${_.default.parentDataProperty}`),F.var(_.default.rootData,(0,x._)`${_.default.valCxt}.${_.default.rootData}`),U.dynamicRef&&F.var(_.default.dynamicAnchors,(0,x._)`${_.default.valCxt}.${_.default.dynamicAnchors}`)},()=>{F.var(_.default.instancePath,(0,x._)`""`),F.var(_.default.parentData,(0,x._)`undefined`),F.var(_.default.parentDataProperty,(0,x._)`undefined`),F.var(_.default.rootData,_.default.data),U.dynamicRef&&F.var(_.default.dynamicAnchors,(0,x._)`{}`)}),V.code(we)}):V.func(J,(0,x._)`${_.default.data}, ${J=ae,(0,x._)`{${_.default.instancePath}="", ${_.default.parentData}, ${_.default.parentDataProperty}, ${_.default.rootData}=${_.default.data}${J.dynamicRef?(0,x._)`, ${_.default.dynamicAnchors}={}`:x.nil}}={}`}`,le.$async,()=>V.code(L(Q,ae)).code(we))},L=function(V,J){return V=typeof V=="object"&&V[J.schemaId],V&&(J.code.source||J.code.process)?(0,x._)`/*# sourceURL=${V} */`:x.nil},R=function(V,J){if(q(V)&&(H(V),C(V))){var Q=V,le=J,{schema:ae,gen:we,opts:F}=Q;F.$comment&&ae.$comment&&ee(Q);var U=(ae=Q).schema[ae.opts.schemaId];if(U&&(ae.baseId=(0,f.resolveUrl)(ae.opts.uriResolver,ae.baseId,U)),(ae=Q).schema.$async&&!ae.schemaEnv.$async)throw new Error("async schema in sync schema");F=we.const("_errs",_.default.errors),Z(Q,F),we.var(le,(0,x._)`${F} === ${_.default.errors}`)}else(0,i.boolOrEmptySchema)(V,J)},C=function({schema:V,self:J}){if(typeof V=="boolean")return!V;for(var Q in V)if(J.RULES.all[Q])return 1},q=function(V){return typeof V.schema!="boolean"},H=function(J){(0,b.checkUnknownRules)(J);var{schema:J,errSchemaPath:Q,opts:le,self:ae}=J;J.$ref&&le.ignoreKeywordsWithRef&&(0,b.schemaHasRulesButRef)(J,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${Q}"`)},Z=function(V,J){if(V.opts.jtd)return $e(V,[],!1,J);var Q=(0,r.getSchemaTypes)(V.schema);$e(V,Q,!(0,r.coerceAndCheckDataType)(V,Q),J)},ee=function({gen:V,schemaEnv:J,schema:Q,errSchemaPath:le,opts:ae}){Q=Q.$comment,ae.$comment===!0?V.code((0,x._)`${_.default.self}.logger.log(${Q})`):typeof ae.$comment=="function"&&(ae=(0,x.str)`${le}/$comment`,le=V.scopeValue("root",{ref:J.root}),V.code((0,x._)`${_.default.self}.opts.$comment(${Q}, ${ae}, ${le}.schema)`))},$e=function(V,J,Q,le){let{gen:ae,schema:we,data:F,allErrors:U,opts:re,self:ye}=V,Pe=ye.RULES;if(!we.$ref||!re.ignoreKeywordsWithRef&&(0,b.schemaHasRulesButRef)(we,Pe)){if(!re.jtd){var Ce=V,Ge=J;if(!Ce.schemaEnv.meta&&Ce.opts.strictTypes){var it=Ce,gt=Ge;if(gt.length)if(it.dataTypes.length){gt.forEach(wt=>{ce(it.dataTypes,wt)||ve(it,`type "${wt}" not allowed by context "${it.dataTypes.join(",")}"`)});var or,xr=it,ta=gt,uo=[];for(or of xr.dataTypes)ce(ta,or)?uo.push(or):ta.includes("integer")&&or==="number"&&uo.push("integer");xr.dataTypes=uo}else it.dataTypes=gt;Ce.opts.allowUnionTypes||(xr=Ce,1<(gt=Ge).length&&(gt.length!==2||!gt.includes("null"))&&ve(xr,"use allowUnionTypes to allow union type keyword"));var ra,zn=Ce,el=Ce.dataTypes,sa=zn.self.RULES.all;for(ra in sa){var ps=sa[ra];typeof ps=="object"&&(0,a.shouldUseRule)(zn.schema,ps)&&(ps=ps.definition.type,ps.length)&&!ps.some(wt=>{return wt=wt,(ia=el).includes(wt)||wt==="number"&&ia.includes("integer");var ia})&&ve(zn,`missing type "${ps.join(",")}" for keyword "${ra}"`)}}}ae.block(()=>{for(var wt of Pe.rules)na(wt);na(Pe.post)})}else ae.block(()=>de(V,"$ref",Pe.all.$ref.definition));function na(wt){(0,a.shouldUseGroup)(we,wt)&&(wt.type?(ae.if((0,o.checkDataType)(wt.type,F,re.strictNumbers)),xe(V,wt),J.length===1&&J[0]===wt.type&&Q&&(ae.else(),(0,o.reportTypeError)(V)),ae.endIf()):xe(V,wt),U||ae.if((0,x._)`${_.default.errors} === ${le||0}`))}},xe=function(V,J){let{gen:Q,schema:le,opts:{useDefaults:ae}}=V;ae&&(0,c.assignDefaults)(V,J.type),Q.block(()=>{for(var we of J.rules)(0,a.shouldUseRule)(le,we)&&de(V,we.keyword,we.definition,J.type)})},ce=function(V,J){return V.includes(J)||J==="integer"&&V.includes("number")},ve=function(V,J){J+=` at "${V.schemaEnv.baseId+V.errSchemaPath}" (strictTypes)`,(0,b.checkStrictMode)(V,J,V.opts.strictTypes)},de=function(V,J,Q,le){V=new k(V,Q,J),"code"in Q?Q.code(V,le):V.$data&&Q.validate?(0,m.funcKeywordCode)(V,Q):"macro"in Q?(0,m.macroKeywordCode)(V,Q):(Q.compile||Q.validate)&&(0,m.funcKeywordCode)(V,Q)},me=function(V,{dataLevel:J,dataNames:Q,dataPathArr:le}){let ae,we;if(V==="")return _.default.rootData;if(V[0]==="/"){if(!w.test(V))throw new Error("Invalid JSON-pointer: "+V);ae=V,we=_.default.rootData}else{var F=d.exec(V);if(!F)throw new Error("Invalid JSON-pointer: "+V);if(V=+F[1],(ae=F[2])==="#"){if(J<=V)throw new Error(ye("property/index",V));return le[J-V]}if(J<V)throw new Error(ye("data",V));if(we=Q[J-V],!ae)return we}let U=we;var re;for(re of ae.split("/"))re&&(we=(0,x._)`${we}${(0,x.getProperty)((0,b.unescapeJsonPointer)(re))}`,U=(0,x._)`${U} && ${we}`);return U;function ye(Pe,Ce){return`Cannot access ${Pe} ${Ce} levels up, current level is `+J}};Ma=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.getData=Sr.KeywordCxt=Sr.validateFunctionCode=void 0;let i=mi(),r=xs(),a=js(),o=xs(),c=gi(),m=An(),S=Ia(),x=qe(),_=yr(),f=Tn(),b=Je(),N=Hs();Sr.validateFunctionCode=function(V){if(q(V)&&(H(V),C(V))){var J=V;let{schema:Q,opts:le,gen:ae}=J;A(J,()=>{le.$comment&&Q.$comment&&ee(J);var we,F=J,{schema:U,opts:re}=F;if(U.default!==void 0&&re.useDefaults&&re.strictSchema&&(0,b.checkStrictMode)(F,"default is ignored in the schema root"),ae.let(_.default.vErrors,null),ae.let(_.default.errors,0),le.unevaluated){var ye=J;let{gen:Pe,validateName:Ce}=ye;ye.evaluated=Pe.const("evaluated",(0,x._)`${Ce}.evaluated`),Pe.if((0,x._)`${ye.evaluated}.dynamicProps`,()=>Pe.assign((0,x._)`${ye.evaluated}.props`,(0,x._)`undefined`)),Pe.if((0,x._)`${ye.evaluated}.dynamicItems`,()=>Pe.assign((0,x._)`${ye.evaluated}.items`,(0,x._)`undefined`))}Z(J);{let{gen:Pe,schemaEnv:Ce,validateName:Ge,ValidationError:it,opts:gt}=U=J;Ce.$async?Pe.if((0,x._)`${_.default.errors} === 0`,()=>Pe.return(_.default.data),()=>Pe.throw((0,x._)`new ${it}(${_.default.vErrors})`)):(Pe.assign((0,x._)`${Ge}.errors`,_.default.vErrors),gt.unevaluated&&({gen:U,evaluated:re,props:F,items:we}=[U][0],F instanceof x.Name&&U.assign((0,x._)`${re}.props`,F),we instanceof x.Name)&&U.assign((0,x._)`${re}.items`,we),Pe.return((0,x._)`${_.default.errors} === 0`))}})}else A(V,()=>(0,i.topBoolOrEmptySchema)(V))};class k{constructor(J,Q,le){if((0,m.validateKeywordUsage)(J,Q,le),this.gen=J.gen,this.allErrors=J.allErrors,this.keyword=le,this.data=J.data,this.schema=J.schema[le],this.$data=Q.$data&&J.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,b.schemaRefOrVal)(J,this.schema,le,this.$data),this.schemaType=Q.schemaType,this.parentSchema=J.schema,this.params={},this.it=J,this.def=Q,this.$data)this.schemaCode=J.gen.const("vSchema",me(this.$data,J));else if(this.schemaCode=this.schemaValue,!(0,m.validSchemaType)(this.schema,Q.schemaType,Q.allowUndefined))throw new Error(le+" value must be "+JSON.stringify(Q.schemaType));("code"in Q?Q.trackErrors:Q.errors!==!1)&&(this.errsCount=J.gen.const("_errs",_.default.errors))}result(J,Q,le){this.failResult((0,x.not)(J),Q,le)}failResult(J,Q,le){this.gen.if(J),le?le():this.error(),Q?(this.gen.else(),Q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(J,Q){this.failResult((0,x.not)(J),void 0,Q)}fail(J){J===void 0?(this.error(),this.allErrors||this.gen.if(!1)):(this.gen.if(J),this.error(),this.allErrors?this.gen.endIf():this.gen.else())}fail$data(J){if(!this.$data)return this.fail(J);var Q=this.schemaCode;this.fail((0,x._)`${Q} !== undefined && (${(0,x.or)(this.invalid$data(),J)})`)}error(J,Q,le){Q?(this.setParams(Q),this._error(J,le),this.setParams({})):this._error(J,le)}_error(J,Q){(J?N.reportExtraError:N.reportError)(this,this.def.error,Q)}$dataError(){(0,N.reportError)(this,this.def.$dataError||N.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,N.resetErrorsCount)(this.gen,this.errsCount)}ok(J){this.allErrors||this.gen.if(J)}setParams(J,Q){Q?Object.assign(this.params,J):this.params=J}block$data(J,Q,le=x.nil){this.gen.block(()=>{this.check$data(J,le),Q()})}check$data(J=x.nil,Q=x.nil){var le,ae,we,F;this.$data&&({gen:le,schemaCode:ae,schemaType:we,def:F}=this,le.if((0,x.or)((0,x._)`${ae} === undefined`,Q)),J!==x.nil&&le.assign(J,!0),(we.length||F.validateSchema)&&(le.elseIf(this.invalid$data()),this.$dataError(),J!==x.nil)&&le.assign(J,!1),le.else())}invalid$data(){let{gen:J,schemaCode:Q,schemaType:le,def:ae,it:we}=this;return(0,x.or)((()=>{if(le.length){var F;if(Q instanceof x.Name)return F=Array.isArray(le)?le:[le],(0,x._)`${(0,o.checkDataTypes)(F,Q,we.opts.strictNumbers,o.DataType.Wrong)}`;throw new Error("ajv implementation error")}return x.nil})(),(()=>{var F;return ae.validateSchema?(F=J.scopeValue("validate$data",{ref:ae.validateSchema}),(0,x._)`!${F}(${Q})`):x.nil})())}subschema(ae,Q){var le=(0,S.getSubschema)(this.it,ae),ae=((0,S.extendSubschemaData)(le,this.it,ae),(0,S.extendSubschemaMode)(le,ae),{...this.it,...le,items:void 0,props:void 0});return R(ae,Q),ae}mergeEvaluated(J,Q){var{it:le,gen:ae}=this;le.opts.unevaluated&&(le.props!==!0&&J.props!==void 0&&(le.props=b.mergeEvaluated.props(ae,J.props,le.props,Q)),le.items!==!0)&&J.items!==void 0&&(le.items=b.mergeEvaluated.items(ae,J.items,le.items,Q))}mergeValidEvaluated(J,Q){var{it:le,gen:ae}=this;if(le.opts.unevaluated&&(le.props!==!0||le.items!==!0))return ae.if(Q,()=>this.mergeEvaluated(J,x.Name)),!0}}Sr.KeywordCxt=k;let w=/^\/(?:[^~]|~0|~1)*$/,d=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;Sr.getData=me}return Sr}var Ra,Cn={};function Xs(){if(!Ra){Ra=1,Object.defineProperty(Cn,"__esModule",{value:!0});class i extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}Cn.default=i}return Cn}var Ln,Mn={};function Rn(){if(!Ln){Ln=1,Object.defineProperty(Mn,"__esModule",{value:!0});let i=Tn();class r extends Error{constructor(o,c,m,S){super(S||`can't resolve reference ${m} from id `+c),this.missingRef=(0,i.resolveUrl)(o,c,m),this.missingSchema=(0,i.normalizeId)((0,i.getFullPath)(o,this.missingRef))}}Mn.default=r}return Mn}var as,xt={};function wi(){if(!as){let _=function(k){var w=f.call(this,k);if(w)return w;var w=(0,o.getFullPath)(this.opts.uriResolver,k.root.baseId),{es5:L,lines:d}=this.opts.code,A=this.opts.ownProperties,L=new i.CodeGen(this.scope,{es5:L,lines:d,ownProperties:A});let R;k.$async&&(R=L.scopeValue("Error",{ref:r.default,code:(0,i._)`require("ajv/dist/runtime/validation_error").default`})),d=L.scopeName("validate"),k.validateName=d,A={gen:L,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:L.scopeValue("schema",this.opts.code.source===!0?{ref:k.schema,code:(0,i.stringify)(k.schema)}:{ref:k.schema}),validateName:d,ValidationError:R,schema:k.schema,schemaEnv:k,rootId:w,baseId:k.baseId||w,schemaPath:i.nil,errSchemaPath:k.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,i._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(k),(0,m.validateFunctionCode)(A),L.optimize(this.opts.code.optimize);var q=L.toString();C=L.scopeRefs(a.default.scope)+"return "+q,this.opts.code.process&&(C=this.opts.code.process(C,k));var H,Z,ee=new Function(""+a.default.self,""+a.default.scope,C)(this,this.scope.get());return this.scope.value(d,{ref:ee}),ee.errors=null,ee.schema=k.schema,(ee.schemaEnv=k).$async&&(ee.$async=!0),this.opts.code.source===!0&&(ee.source={validateName:d,validateCode:q,scopeValues:L._values}),this.opts.unevaluated&&({props:H,items:Z}=A,ee.evaluated={props:H instanceof i.Name?void 0:H,items:Z instanceof i.Name?void 0:Z,dynamicProps:H instanceof i.Name,dynamicItems:Z instanceof i.Name},ee.source)&&(ee.source.evaluated=(0,i.stringify)(ee.evaluated)),k.validate=ee,k}catch($e){throw delete k.validate,delete k.validateName,C&&this.logger.error("Error compiling schema, function code:",C),$e}finally{this._compilations.delete(k)}},f=function(k){for(var w of this._compilations)if(d=w,A=k,d.schema===A.schema&&d.root===A.root&&d.baseId===A.baseId)return w;var d,A},b=function(k,w){var d,A,L=this.opts.uriResolver.parse(w),R=(0,o._getFullPath)(this.opts.uriResolver,L);let C=(0,o.getFullPath)(this.opts.uriResolver,k.baseId,void 0);return 0<Object.keys(k.schema).length&&R===C?N.call(this,L,k):(R=(0,o.normalizeId)(R),typeof(d=this.refs[R]||this.schemas[R])=="string"?typeof((A=b.call(this,k,d))==null?void 0:A.schema)!="object"?void 0:N.call(this,L,A):typeof(d==null?void 0:d.schema)=="object"?(d.validate||_.call(this,d),R===(0,o.normalizeId)(w)?(A=d.schema,R=this.opts.schemaId,(w=A[R])&&(C=(0,o.resolveUrl)(this.opts.uriResolver,C,w)),new S({schema:A,schemaId:R,root:k,baseId:C})):N.call(this,L,d)):void 0)},N=function(k,{baseId:w,schema:d,root:A}){if(((C=k.fragment)==null?void 0:C[0])==="/"){for(var L of k.fragment.slice(1).split("/")){if(typeof d=="boolean")return;var R=d[(0,c.unescapeFragment)(L)];if(R===void 0)return;R=typeof(d=R)=="object"&&d[this.opts.schemaId],!x.has(L)&&R&&(w=(0,o.resolveUrl)(this.opts.uriResolver,w,R))}let q;var C,k=(typeof d!="boolean"&&d.$ref&&!(0,c.schemaHasRulesButRef)(d,this.RULES)&&(C=(0,o.resolveUrl)(this.opts.uriResolver,w,d.$ref),q=b.call(this,A,C)),this.opts).schemaId;return(q=q||new S({schema:d,schemaId:k,root:A,baseId:w})).schema!==q.root.schema?q:void 0}};as=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.resolveSchema=xt.getCompilingSchema=xt.resolveRef=xt.compileSchema=xt.SchemaEnv=void 0;let i=qe(),r=Xs(),a=yr(),o=Tn(),c=Je(),m=is();class S{constructor(w){var d;this.refs={},this.dynamicAnchors={};let A;typeof w.schema=="object"&&(A=w.schema),this.schema=w.schema,this.schemaId=w.schemaId,this.root=w.root||this,this.baseId=(d=w.baseId)!=null?d:(0,o.normalizeId)(A==null?void 0:A[w.schemaId||"$id"]),this.schemaPath=w.schemaPath,this.localRefs=w.localRefs,this.meta=w.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}xt.SchemaEnv=S,xt.compileSchema=_,xt.resolveRef=function(k,w,d){d=(0,o.resolveUrl)(this.opts.uriResolver,w,d);var A,L=k.refs[d];if(L)return L;let R=(function(C,q){let H;for(;typeof(H=this.refs[q])=="string";)q=H;return H||this.schemas[q]||b.call(this,C,q)}).call(this,k,d);return(R=R===void 0&&(L=(L=k.localRefs)==null?void 0:L[d],A=this.opts.schemaId,L)?new S({schema:L,schemaId:A,root:k,baseId:w}):R)!==void 0?k.refs[d]=(function(C){return(0,o.inlineRef)(C.schema,this.opts.inlineRefs)?C.schema:C.validate?C:_.call(this,C)}).call(this,R):void 0},xt.getCompilingSchema=f,xt.resolveSchema=b;let x=new Set(["properties","patternProperties","enum","dependencies","definitions"])}return xt}var Qt,Da,jo,Dn,xo,_i,$i,ki,os,Ao={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Ei={},Is={exports:{}};function en(){if(!Dn){let m=function(f){var b;return!(_(f,".")<3)&&([b]=f.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],b)?{host:((N,k)=>{let w="",d=!0,A=N.length;for(let R=0;R<A;R++){var L=N[R];L==="0"&&d?(R+1<=A&&N[R+1]===k||R+1===A)&&(w+=L,d=!1):(d=L===k,w+=L)}return w})(b,"."),isIPV4:!0}:{host:f,isIPV4:!1}},S=function(f,b=!1){let N="",k=!0;for(var w of f){if(i[w]===void 0)return;(k=w!=="0"&&k===!0?!1:k)||(N+=w)}return N=b&&N.length===0?"0":N},x=function(f,b=0){if(_(f,":")<2)return{host:f,isIPV6:!1};var N=(k=>{let w=0,d={error:!1,address:"",zone:""},A=[],L=[],R=!1,C=!1,q=!1;function H(){if(L.length){if(R===!1){var ee=S(L);if(ee===void 0)return void(d.error=!0);A.push(ee)}L.length=0}return 1}for(let ee=0;ee<k.length;ee++){var Z=k[ee];if(Z!=="["&&Z!=="]")if(Z===":"){if(C===!0&&(q=!0),!H())break;if(w++,A.push(":"),7<w){d.error=!0;break}0<=ee-1&&k[ee-1]===":"&&(C=!0)}else if(Z!=="%")L.push(Z);else{if(!H())break;R=!0}}return L.length&&(R?d.zone=L.join(""):q?A.push(L.join("")):A.push(S(L))),d.address=A.join(""),d})(f);if(N.error)return{host:f,isIPV6:!1};{let k=N.address,w=N.address;return N.zone&&(k+="%"+N.zone,w+="%25"+N.zone),{host:k,escapedHost:w,isIPV6:!0}}},_=function(f,b){let N=0;for(let k=0;k<f.length;k++)f[k]===b&&N++;return N};Dn=1;let i=(Qt=Da?Qt:{HEX:{0:0,1:Da=1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}).HEX,r=/^\.\.?\//u,a=/^\/\.(?:\/|$)/u,o=/^\/\.\.(?:\/|$)/u,c=/^\/?(?:.|\n)*?(?=\/|$)/u;jo={recomposeAuthority:function(f,b){var N=[];if(f.userinfo!==void 0&&(N.push(f.userinfo),N.push("@")),f.host!==void 0){let w=unescape(f.host);var k=m(w);w=k.isIPV4?k.host:(k=x(k.host,{isIPV4:!1})).isIPV6===!0?`[${k.escapedHost}]`:f.host,N.push(w)}return typeof f.port!="number"&&typeof f.port!="string"||(N.push(":"),N.push(String(f.port))),N.length?N.join(""):void 0},normalizeComponentEncoding:function(f,b){return b=b!==!0?escape:unescape,f.scheme!==void 0&&(f.scheme=b(f.scheme)),f.userinfo!==void 0&&(f.userinfo=b(f.userinfo)),f.host!==void 0&&(f.host=b(f.host)),f.path!==void 0&&(f.path=b(f.path)),f.query!==void 0&&(f.query=b(f.query)),f.fragment!==void 0&&(f.fragment=b(f.fragment)),f},removeDotSegments:function(f){for(var b=[];f.length;)if(f.match(r))f=f.replace(r,"");else if(f.match(a))f=f.replace(a,"/");else if(f.match(o))f=f.replace(o,"/"),b.pop();else if(f==="."||f==="..")f="";else{var N=f.match(c);if(!N)throw new Error("Unexpected dot segment condition");N=N[0],f=f.slice(N.length),b.push(N)}return b.join("")},normalizeIPv4:m,normalizeIPv6:x,stringArrayToHexStripped:S}}return jo}function Io(){if(_i)return xo;_i=1;let i=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function a(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}function o(_){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_}function c(_){var f=String(_.scheme).toLowerCase()==="https";return _.port!==(f?443:80)&&_.port!==""||(_.port=void 0),_.path||(_.path="/"),_}var m={scheme:"http",domainHost:!0,parse:o,serialize:c},S={scheme:"ws",domainHost:!0,parse:function(_){return _.secure=a(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_},serialize:function(_){var f,b;return _.port!==(a(_)?443:80)&&_.port!==""||(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName&&([f,b]=_.resourceName.split("?"),_.path=f&&f!=="/"?f:void 0,_.query=b,_.resourceName=void 0),_.fragment=void 0,_}};let x={http:m,https:{scheme:"https",domainHost:m.domainHost,parse:o,serialize:c},ws:S,wss:{scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},urn:{scheme:"urn",parse:function(_,f){var b,N;return _.path?(b=_.path.match(r))?(N=f.scheme||_.scheme||"urn",_.nid=b[1].toLowerCase(),_.nss=b[2],b=N+":"+(f.nid||_.nid),N=x[b],_.path=void 0,N&&(_=N.parse(_,f))):_.error=_.error||"URN can not be parsed.":_.error="URN can not be parsed",_},serialize:function(k,f){var N=f.scheme||k.scheme||"urn",b=k.nid.toLowerCase(),N=N+":"+(f.nid||b),N=x[N],N=k=N?N.serialize(k,f):k,k=k.nss;return N.path=`${b||f.nid}:`+k,f.skipEscape=!0,N},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(_,f){return _.uuid=_.nss,_.nss=void 0,f.tolerant||_.uuid&&i.test(_.uuid)||(_.error=_.error||"UUID is not valid."),_},serialize:function(_){var f=_;return f.nss=(_.uuid||"").toLowerCase(),f},skipNormalize:!0}};return xo=x}function Si(){if(!$i){let f=function(k,w,d,A){var L={};return A||(k=N(b(k,d),d),w=N(b(w,d),d)),!(d=d||{}).tolerant&&w.scheme?(L.scheme=w.scheme,L.userinfo=w.userinfo,L.host=w.host,L.port=w.port,L.path=o(w.path||""),L.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(L.userinfo=w.userinfo,L.host=w.host,L.port=w.port,L.path=o(w.path||""),L.query=w.query):(w.path?(w.path.charAt(0)==="/"?L.path=o(w.path):(k.userinfo===void 0&&k.host===void 0&&k.port===void 0||k.path?k.path?L.path=k.path.slice(0,k.path.lastIndexOf("/")+1)+w.path:L.path=w.path:L.path="/"+w.path,L.path=o(L.path)),L.query=w.query):(L.path=k.path,w.query!==void 0?L.query=w.query:L.query=k.query),L.userinfo=k.userinfo,L.host=k.host,L.port=k.port),L.scheme=k.scheme),L.fragment=w.fragment,L},b=function(d,A){var d={host:d.host,scheme:d.scheme,userinfo:d.userinfo,port:d.port,path:d.path,query:d.query,nid:d.nid,nss:d.nss,uuid:d.uuid,fragment:d.fragment,reference:d.reference,resourceName:d.resourceName,secure:d.secure,error:""},A=Object.assign({},A),L=[],R=S[(A.scheme||d.scheme||"").toLowerCase()],C=(R&&R.serialize&&R.serialize(d,A),d.path!==void 0&&(A.skipEscape?d.path=unescape(d.path):(d.path=escape(d.path),d.scheme!==void 0&&(d.path=d.path.split("%3A").join(":")))),A.reference!=="suffix"&&d.scheme&&L.push(d.scheme,":"),c(d,A));if(C!==void 0&&(A.reference!=="suffix"&&L.push("//"),L.push(C),d.path)&&d.path.charAt(0)!=="/"&&L.push("/"),d.path!==void 0){let q=d.path;A.absolutePath||R&&R.absolutePath||(q=o(q)),C===void 0&&(q=q.replace(/^\/\//u,"/%2F")),L.push(q)}return d.query!==void 0&&L.push("?",d.query),d.fragment!==void 0&&L.push("#",d.fragment),L.join("")},N=function(k,d){var d=Object.assign({},d),A={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},L=k.indexOf("%")!==-1;let R=!1;if(k=(k=d.reference==="suffix"?(d.scheme?d.scheme+":":"")+"//"+k:k).match(_),k){A.scheme=k[1],A.userinfo=k[3],A.host=k[4],A.port=parseInt(k[5],10),A.path=k[6]||"",A.query=k[7],A.fragment=k[8],isNaN(A.port)&&(A.port=k[5]),A.host&&(k=a(A.host),R=k.isIPV4===!1?(C=r(k.host,{isIPV4:!1}),A.host=C.host.toLowerCase(),C.isIPV6):(A.host=k.host,!0)),A.reference=A.scheme!==void 0||A.userinfo!==void 0||A.host!==void 0||A.port!==void 0||A.path||A.query!==void 0?A.scheme===void 0?"relative":A.fragment===void 0?"absolute":"uri":"same-document",d.reference&&d.reference!=="suffix"&&d.reference!==A.reference&&(A.error=A.error||"URI is not a "+d.reference+" reference.");var C=S[(d.scheme||A.scheme||"").toLowerCase()];if(!(d.unicodeSupport||C&&C.unicodeSupport)&&A.host&&(d.domainHost||C&&C.domainHost)&&R===!1&&(q=>{var H;for(let Z=0,ee=q.length;Z<ee;++Z)if(126<(H=q.charCodeAt(Z))||x[H])return 1})(A.host))try{A.host=URL.domainToASCII(A.host.toLowerCase())}catch(q){A.error=A.error||"Host's domain name can not be converted to ASCII: "+q}C&&C.skipNormalize||(L&&A.scheme!==void 0&&(A.scheme=unescape(A.scheme)),L&&A.host!==void 0&&(A.host=unescape(A.host)),A.path!==void 0&&A.path.length&&(A.path=escape(unescape(A.path))),A.fragment!==void 0&&A.fragment.length&&(A.fragment=encodeURI(decodeURIComponent(A.fragment)))),C&&C.parse&&C.parse(A,d)}else A.error=A.error||"URI can not be parsed.";return A};$i=1;let{normalizeIPv6:r,normalizeIPv4:a,removeDotSegments:o,recomposeAuthority:c,normalizeComponentEncoding:m}=en(),S=Io(),x=Array.from({length:127},(k,w)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(w))),_=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;var i={SCHEMES:S,normalize:function(k,w){return typeof k=="string"?k=b(N(k,w),w):typeof k=="object"&&(k=N(b(k,w),w)),k},resolve:function(k,w,d){return d=Object.assign({scheme:"null"},d),b(f(N(k,d),N(w,d),d,!0),{...d,skipEscape:!0})},resolveComponents:f,equal:function(k,w,d){return typeof k=="string"?(k=unescape(k),k=b(m(N(k,d),!0),{...d,skipEscape:!0})):typeof k=="object"&&(k=b(m(k,!0),{...d,skipEscape:!0})),typeof w=="string"?(w=unescape(w),w=b(m(N(w,d),!0),{...d,skipEscape:!0})):typeof w=="object"&&(w=b(m(w,!0),{...d,skipEscape:!0})),k.toLowerCase()===w.toLowerCase()},serialize:b,parse:N};Is.exports=i,Is.exports.default=i,Is.exports.fastUri=i}return Is.exports}function To(){if(!os){os=1;{let Z=function(me,V,J,Q="error"){for(var le in me){var ae=le;ae in V&&this.logger[Q](`${J}: option ${le}. `+me[ae])}},ee=function(me){return me=(0,f.normalizeId)(me),this.schemas[me]||this.refs[me]},ce=function(me,V,J){var Q=V==null?void 0:V.post;if(J&&Q)throw new Error('keyword with "post" flag cannot have "type"');var le=this.RULES;let ae=Q?le.post:le.rules.find(({type:we})=>we===J);ae||(ae={type:J,rules:[]},le.rules.push(ae)),le.keywords[me]=!0,V&&(Q={keyword:me,definition:{...V,type:(0,b.getJSONTypes)(V.type),schemaType:(0,b.getJSONTypes)(V.schemaType)}},V.before?(function(we,F,U){var re=we.rules.findIndex(ye=>ye.keyword===U);0<=re?we.rules.splice(re,0,F):(we.rules.push(F),this.logger.warn(`rule ${U} is not defined`))}).call(this,ae,Q,V.before):ae.rules.push(Q),le.all[me]=Q,(le=V.implements)!=null)&&le.forEach(we=>this.addKeyword(we))},de=function(me){return{anyOf:[me,ve]}};var i=Na;Object.defineProperty(i,"__esModule",{value:!0}),i.CodeGen=i.Name=i.nil=i.stringify=i.str=i._=i.KeywordCxt=void 0;var r,a=is(),o=(Object.defineProperty(i,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}}),qe()),c=(Object.defineProperty(i,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(i,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(i,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(i,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(i,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}}),Xs());let m=Rn(),S=yi(),x=wi(),_=qe(),f=Tn(),b=xs(),N=Je(),k=Ao,w=(ki||(ki=1,Object.defineProperty(Ei,"__esModule",{value:!0}),(r=Si()).code='require("ajv/dist/runtime/uri").default',Ei.default=r),Ei),d=(me,V)=>new RegExp(me,V),A=(d.code="new RegExp",["removeAdditional","useDefaults","coerceTypes"]),L=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),R={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},C={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},q=200;class H{constructor(V={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,V=this.opts={...V,...(J=V,we=J.strict,Q=(Q=(Q=J.code)==null?void 0:Q.optimize)===!0||Q===void 0?1:Q||0,ae=(ae=(ae=J.code)==null?void 0:ae.regExp)!=null?ae:d,le=(le=J.uriResolver)!=null?le:w.default,{strictSchema:(F=(F=J.strictSchema)!=null?F:we)==null||F,strictNumbers:(F=(F=J.strictNumbers)!=null?F:we)==null||F,strictTypes:(F=(F=J.strictTypes)!=null?F:we)!=null?F:"log",strictTuples:(F=(F=J.strictTuples)!=null?F:we)!=null?F:"log",strictRequired:(F=(F=J.strictRequired)!=null?F:we)!=null&&F,code:J.code?{...J.code,optimize:Q,regExp:ae}:{optimize:Q,regExp:ae},loopRequired:(we=J.loopRequired)!=null?we:q,loopEnum:(F=J.loopEnum)!=null?F:q,meta:(Q=J.meta)==null||Q,messages:(ae=J.messages)==null||ae,inlineRefs:(we=J.inlineRefs)==null||we,schemaId:(F=J.schemaId)!=null?F:"$id",addUsedSchema:(Q=J.addUsedSchema)==null||Q,validateSchema:(ae=J.validateSchema)==null||ae,validateFormats:(we=J.validateFormats)==null||we,unicodeRegExp:(F=J.unicodeRegExp)==null||F,int32range:(Q=J.int32range)==null||Q,uriResolver:le})};var J,Q,le,{es5:ae,lines:we}=this.opts.code,F=(this.scope=new _.ValueScope({scope:{},prefixes:L,es5:ae,lines:we}),this.logger=(U=>{if(U===!1)return $e;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")})(V.logger),V.validateFormats);V.validateFormats=!1,this.RULES=(0,S.getRules)(),Z.call(this,R,V,"NOT SUPPORTED"),Z.call(this,C,V,"DEPRECATED","warn"),this._metaOpts=(function(){var U={...this.opts};for(var re of A)delete U[re];return U}).call(this),V.formats&&(function(){for(var U in this.opts.formats){var re=this.opts.formats[U];re&&this.addFormat(U,re)}}).call(this),this._addVocabularies(),this._addDefaultMetaSchema(),V.keywords&&(function(U){if(Array.isArray(U))this.addVocabulary(U);else for(var re in this.logger.warn("keywords option as map is deprecated, pass array"),U){var ye=U[re];ye.keyword||(ye.keyword=re),this.addKeyword(ye)}}).call(this,V.keywords),typeof V.meta=="object"&&this.addMetaSchema(V.meta),(function(){var U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(var re in U)this.addSchema(U[re],re)}).call(this),V.validateFormats=F}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){var{$data:V,meta:J,schemaId:Q}=this.opts;let le=k;Q==="id"&&((le={...k}).id=le.$id,delete le.$id),J&&V&&this.addMetaSchema(le,le[Q],!1)}defaultMeta(){var{meta:V,schemaId:J}=this.opts;return this.opts.defaultMeta=typeof V=="object"?V[J]||V:void 0}validate(V,J){let Q;if(typeof V=="string"){if(!(Q=this.getSchema(V)))throw new Error(`no schema with key or ref "${V}"`)}else Q=this.compile(V);return V=Q(J),"$async"in Q||(this.errors=Q.errors),V}compile(V,J){return V=this._addSchema(V,J),V.validate||this._compileSchemaEnv(V)}compileAsync(V,J){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let Q=this.opts.loadSchema;return le.call(this,V,J);async function le(F,U){return await ae.call(this,F.$schema),F=this._addSchema(F,U),F.validate||we.call(this,F)}async function ae(F){F&&!this.getSchema(F)&&await le.call(this,{$ref:F},!0)}async function we(F){try{return this._compileSchemaEnv(F)}catch(U){if(U instanceof m.default)return(function({missingSchema:re,missingRef:ye}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${ye} cannot be resolved`)}).call(this,U),await(async function(re){var ye=await(async function(Pe){var Ce=this._loading[Pe];if(Ce)return Ce;try{return await(this._loading[Pe]=Q(Pe))}finally{delete this._loading[Pe]}}).call(this,re);this.refs[re]||await ae.call(this,ye.$schema),this.refs[re]||this.addSchema(ye,re,J)}).call(this,U.missingSchema),we.call(this,F);throw U}}}addSchema(V,J,Q,le=this.opts.validateSchema){if(Array.isArray(V))for(var ae of V)this.addSchema(ae,void 0,Q,le);else{let F;if(typeof V=="object"){var we=this.opts.schemaId;if((F=V[we])!==void 0&&typeof F!="string")throw new Error(`schema ${we} must be string`)}J=(0,f.normalizeId)(J||F),this._checkUnique(J),this.schemas[J]=this._addSchema(V,Q,J,le,!0)}return this}addMetaSchema(V,J,Q=this.opts.validateSchema){return this.addSchema(V,J,!0,Q),this}validateSchema(V,J){if(typeof V=="boolean")return!0;var Q=V.$schema;if(Q!==void 0&&typeof Q!="string")throw new Error("$schema must be a string");if(!(Q=Q||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(Q=this.validate(Q,V),!Q&&J){if(V="schema is invalid: "+this.errorsText(),this.opts.validateSchema!=="log")throw new Error(V);this.logger.error(V)}return Q}getSchema(V){let J;for(;typeof(J=ee.call(this,V))=="string";)V=J;if(J===void 0){var Q=this.opts.schemaId,Q=new x.SchemaEnv({schema:{},schemaId:Q});if(!(J=x.resolveSchema.call(this,Q,V)))return;this.refs[V]=J}return J.validate||this._compileSchemaEnv(J)}removeSchema(V){if(V instanceof RegExp)return this._removeAllSchemas(this.schemas,V),this._removeAllSchemas(this.refs,V),this;switch(typeof V){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var J=ee.call(this,V);return typeof J=="object"&&this._cache.delete(J.schema),delete this.schemas[V],delete this.refs[V],this;case"object":return this._cache.delete(V),J=V[this.opts.schemaId],J&&(J=(0,f.normalizeId)(J),delete this.schemas[J],delete this.refs[J]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(V){for(var J of V)this.addKeyword(J);return this}addKeyword(V,J){let Q;if(typeof V=="string")Q=V,typeof J=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),J.keyword=Q);else{if(typeof V!="object"||J!==void 0)throw new Error("invalid addKeywords parameters");if(J=V,Q=J.keyword,Array.isArray(Q)&&!Q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if((function(le,ae){let we=this.RULES;if((0,N.eachItem)(le,F=>{if(we.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!xe.test(F))throw new Error(`Keyword ${F} has invalid name`)}),ae&&ae.$data&&!("code"in ae||"validate"in ae))throw new Error('$data keyword must have "code" or "validate" function')}).call(this,Q,J),J){(function(ae){let we=ae.metaSchema;we!==void 0&&(ae.$data&&this.opts.$data&&(we=de(we)),ae.validateSchema=this.compile(we,!0))}).call(this,J);let le={...J,type:(0,b.getJSONTypes)(J.type),schemaType:(0,b.getJSONTypes)(J.schemaType)};(0,N.eachItem)(Q,le.type.length===0?ae=>ce.call(this,ae,le):ae=>le.type.forEach(we=>ce.call(this,ae,le,we)))}else(0,N.eachItem)(Q,le=>ce.call(this,le));return this}getKeyword(V){return V=this.RULES.all[V],typeof V=="object"?V.definition:!!V}removeKeyword(V){var J,Q=this.RULES;delete Q.keywords[V],delete Q.all[V];for(J of Q.rules){var le=J.rules.findIndex(ae=>ae.keyword===V);0<=le&&J.rules.splice(le,1)}return this}addFormat(V,J){return typeof J=="string"&&(J=new RegExp(J)),this.formats[V]=J,this}errorsText(V=this.errors,{separator:J=", ",dataVar:Q="data"}={}){return V&&V.length!==0?V.map(le=>""+Q+le.instancePath+" "+le.message).reduce((le,ae)=>le+J+ae):"No errors"}$dataMetaSchema(V,J){var Q,le,ae,we=this.RULES.all;V=JSON.parse(JSON.stringify(V));for(Q of J){let re=V;for(le of Q.split("/").slice(1))re=re[le];for(ae in we){var F,U=we[ae];typeof U=="object"&&(U=U.definition.$data,F=re[ae],U&&F)&&(re[ae]=de(F))}}return V}_removeAllSchemas(V,J){for(var Q in V){var le=V[Q];J&&!J.test(Q)||(typeof le=="string"?delete V[Q]:le&&!le.meta&&(this._cache.delete(le.schema),delete V[Q]))}}_addSchema(V,J,Q,le=this.opts.validateSchema,ae=this.opts.addUsedSchema){let we;var F=this.opts.schemaId;if(typeof V=="object")we=V[F];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof V!="boolean")throw new Error("schema must be object or boolean")}var U,re=this._cache.get(V);return re===void 0&&(Q=(0,f.normalizeId)(we||Q),U=f.getSchemaRefs.call(this,V,Q),re=new x.SchemaEnv({schema:V,schemaId:F,meta:J,baseId:Q,localRefs:U}),this._cache.set(re.schema,re),ae&&!Q.startsWith("#")&&(Q&&this._checkUnique(Q),this.refs[Q]=re),le)&&this.validateSchema(V,!0),re}_checkUnique(V){if(this.schemas[V]||this.refs[V])throw new Error(`schema with key or id "${V}" already exists`)}_compileSchemaEnv(V){if(V.meta?this._compileMetaSchema(V):x.compileSchema.call(this,V),V.validate)return V.validate;throw new Error("ajv implementation error")}_compileMetaSchema(V){var J=this.opts;this.opts=this._metaOpts;try{x.compileSchema.call(this,V)}finally{this.opts=J}}}H.ValidationError=c.default,H.MissingRefError=m.default,i.default=H;let $e={log(){},warn(){},error(){}},xe=/^[a-z_$][a-z0-9_$:-]*$/i,ve={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}}}return Na}var Va,Vn={},Pi={},Oi={},qa,Ni,nr={};function Ka(){if(!qa){let x=function(f,b){return f=f.gen,b.validate?f.scopeValue("validate",{ref:b.validate}):(0,o._)`${f.scopeValue("wrapper",{ref:b})}.validate`},_=function(f,b,N,k){let{gen:w,it:d}=f,{allErrors:A,schemaEnv:L,opts:R}=d,C=R.passContext?c.default.this:o.nil;if(k){if(!L.$async)throw new Error("async schema referenced by sync schema");let Z=w.let("valid");w.try(()=>{w.code((0,o._)`await ${(0,a.callValidateCode)(f,b,C)}`),H(b),A||w.assign(Z,!0)},ee=>{w.if((0,o._)`!(${ee} instanceof ${d.ValidationError})`,()=>w.throw(ee)),q(ee),A||w.assign(Z,!1)}),f.ok(Z)}else f.result((0,a.callValidateCode)(f,b,C),()=>H(b),()=>q(b));function q(Z){Z=(0,o._)`${Z}.errors`,w.assign(c.default.vErrors,(0,o._)`${c.default.vErrors} === null ? ${Z} : ${c.default.vErrors}.concat(${Z})`),w.assign(c.default.errors,(0,o._)`${c.default.vErrors}.length`)}function H(Z){var ee,$e;d.opts.unevaluated&&(ee=(ee=N==null?void 0:N.validate)==null?void 0:ee.evaluated,d.props!==!0&&(ee&&!ee.dynamicProps?ee.props!==void 0&&(d.props=S.mergeEvaluated.props(w,ee.props,d.props)):($e=w.var("props",(0,o._)`${Z}.evaluated.props`),d.props=S.mergeEvaluated.props(w,$e,d.props,o.Name))),d.items!==!0)&&(ee&&!ee.dynamicItems?ee.items!==void 0&&(d.items=S.mergeEvaluated.items(w,ee.items,d.items)):($e=w.var("items",(0,o._)`${Z}.evaluated.items`),d.items=S.mergeEvaluated.items(w,$e,d.items,o.Name)))}};qa=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.callRef=nr.getValidate=void 0;let r=Rn(),a=Yt(),o=qe(),c=yr(),m=wi(),S=Je();var i={keyword:"$ref",schemaType:"string",code(f){let{gen:b,schema:N,it:k}=f,{baseId:w,schemaEnv:d,validateName:A,opts:L,self:R}=k,C=d.root;if((N==="#"||N==="#/")&&w===C.baseId)return d===C?_(f,A,d,d.$async):(ee=b.scopeValue("root",{ref:C}),_(f,(0,o._)`${ee}.validate`,C,C.$async));var q,H,Z,ee=m.resolveRef.call(R,C,w,N);if(ee===void 0)throw new r.default(k.opts.uriResolver,w,N);if(!(ee instanceof m.SchemaEnv))return q=ee,H=b.scopeValue("schema",L.code.source===!0?{ref:q,code:(0,o.stringify)(q)}:{ref:q}),Z=b.name("valid"),q=f.subschema({schema:q,dataTypes:[],schemaPath:o.nil,topSchemaRef:H,errSchemaPath:N},Z),f.mergeEvaluated(q),void f.ok(Z);q=x(f,H=ee),_(f,q,H,H.$async)}};nr.getValidate=x,nr.callRef=_,nr.default=i}return nr}function Co(){var i,r;return Ni||(Ni=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Va||(Va=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}),r=Oi,i=Ka(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default],Pi.default=r),Pi}var Or,ls={},ji={},Ba,xi={},tn,Ua,Ai={},Ii={};function Lo(){if(!Ua){let o=function(c){var m,S=c.length;let x=0,_=0;for(;_<S;)x++,55296<=(m=c.charCodeAt(_++))&&m<=56319&&_<S&&(64512&c.charCodeAt(_))==56320&&_++;return x};Ua=1,Object.defineProperty(Ai,"__esModule",{value:!0});let i=qe(),r=Je(),a=(tn||(tn=1,Object.defineProperty(Ii,"__esModule",{value:!0}),(Ii.default=o).code='require("ajv/dist/runtime/ucs2length").default'),Ii);Ai.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:m}){return c=c==="maxLength"?"more":"fewer",(0,i.str)`must NOT have ${c} than ${m} characters`},params:({schemaCode:c})=>(0,i._)`{limit: ${c}}`},code(c){var{keyword:x,data:m,schemaCode:S,it:_}=c,x=x==="maxLength"?i.operators.GT:i.operators.LT,_=_.opts.unicode===!1?(0,i._)`${m}.length`:(0,i._)`${(0,r.useFunc)(c.gen,a.default)}(${m})`;c.fail$data((0,i._)`${_} ${x} ${S}`)}}}return Ai}var Ue,Ti={},Fe,He={},Fa,Ci={};function Mo(){if(!Fa){Fa=1,Object.defineProperty(Ci,"__esModule",{value:!0});let i=Yt(),r=qe(),a=Je();Ci.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,r.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,r._)`{missingProperty: ${o}}`},code(o){let{gen:c,schema:m,schemaCode:S,data:x,$data:_,it:f}=o,b=f.opts;if(_||m.length!==0){let R=function(){c.forOf("prop",S,C=>{o.setParams({missingProperty:C}),c.if((0,i.noPropertyInData)(c,x,C,b.ownProperties),()=>o.error())})},L=m.length>=b.loopRequired;if(f.allErrors)if(L||_)o.block$data(r.nil,R);else for(var N of m)(0,i.checkReportMissingProp)(o,N);else{let C=c.let("missing");if(L||_){let q=c.let("valid",!0);o.block$data(q,()=>{return H=C,Z=q,o.setParams({missingProperty:H}),void c.forOf(H,S,()=>{c.assign(Z,(0,i.propertyInData)(c,x,H,b.ownProperties)),c.if((0,r.not)(Z),()=>{o.error(),c.break()})},r.nil);var H,Z}),o.ok(q)}else c.if((0,i.checkMissingProp)(o,m,C)),(0,i.reportMissingProp)(o,C),c.else()}if(b.strictRequired){var k,w,d=o.parentSchema.properties,A=o.it.definedProperties;for(k of m)(d==null?void 0:d[k])!==void 0||A.has(k)||(w=f.schemaEnv.baseId+f.errSchemaPath,w=`required property "${k}" is not defined at "${w}" (strictRequired)`,(0,a.checkStrictMode)(f,w,f.opts.strictRequired))}}}}}return Ci}var Li,ir={},rn,Ro,Mi={},yt={};function cs(){var i;return rn||(rn=1,Object.defineProperty(yt,"__esModule",{value:!0}),(i=Oo()).code='require("ajv/dist/runtime/equal").default',yt.default=i),yt}function Do(){if(!Ro){Ro=1,Object.defineProperty(Mi,"__esModule",{value:!0});let i=xs(),r=qe(),a=Je(),o=cs();Mi.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:c,j:m}})=>(0,r.str)`must NOT have duplicate items (items ## ${m} and ${c} are identical)`,params:({params:{i:c,j:m}})=>(0,r._)`{i: ${c}, j: ${m}}`},code(c){let{gen:m,data:S,$data:x,schema:_,parentSchema:f,schemaCode:b,it:N}=c;if(x||_){let k=m.let("valid"),w=f.items?(0,i.getSchemaTypes)(f.items):[];c.block$data(k,function(){let d=m.let("i",(0,r._)`${S}.length`),A=m.let("j");c.setParams({i:d,j:A}),m.assign(k,!0),m.if((0,r._)`${d} > 1`,()=>(0<w.length&&!w.some(L=>L==="object"||L==="array")?function(L,R){let C=m.name("item"),q=(0,i.checkDataTypes)(w,C,N.opts.strictNumbers,i.DataType.Wrong),H=m.const("indices",(0,r._)`{}`);m.for((0,r._)`;${L}--;`,()=>{m.let(C,(0,r._)`${S}[${L}]`),m.if(q,(0,r._)`continue`),1<w.length&&m.if((0,r._)`typeof ${C} == "string"`,(0,r._)`${C} += "_"`),m.if((0,r._)`typeof ${H}[${C}] == "number"`,()=>{m.assign(R,(0,r._)`${H}[${C}]`),c.error(),m.assign(k,!1).break()}).code((0,r._)`${H}[${C}] = ${L}`)})}:function(L,R){let C=(0,a.useFunc)(m,o.default),q=m.name("outer");m.label(q).for((0,r._)`;${L}--;`,()=>m.for((0,r._)`${R} = ${L}; ${R}--;`,()=>m.if((0,r._)`${C}(${S}[${L}], ${S}[${R}])`,()=>{c.error(),m.assign(k,!1).break(q)})))})(d,A))},(0,r._)`${b} === false`),c.ok(k)}}}}return Mi}var za,Ri={},Nr,Ga,sn={};function Vo(){if(!Nr){Nr=1,Object.defineProperty(sn,"__esModule",{value:!0});let i=qe(),r=Je(),a=cs();sn.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,i._)`{allowedValues: ${o}}`},code(o){let{gen:c,data:m,$data:S,schema:x,schemaCode:_,it:f}=o;if(!S&&x.length===0)throw new Error("enum must have non-empty array");var b=x.length>=f.opts.loopEnum;let N,k=()=>N??(N=(0,r.useFunc)(c,a.default)),w;if(b||S)w=c.let("valid"),o.block$data(w,function(){c.assign(w,!1),c.forOf("v",_,d=>c.if((0,i._)`${k()}(${m}, ${d})`,()=>c.assign(w,!0).break()))});else{if(!Array.isArray(x))throw new Error("ajv implementation error");let d=c.const("vSchema",_);w=(0,i.or)(...x.map((A,L)=>{return R=d,L=L,typeof(C=x[L])=="object"&&C!==null?(0,i._)`${k()}(${m}, ${R}[${L}])`:(0,i._)`${m} === ${C}`;var R,C}))}o.pass(w)}}}return sn}function Di(){var i,r,a,o,c,m,S,x,_,f;return Ga||(Ga=1,Object.defineProperty(ls,"__esModule",{value:!0}),f=(()=>{if(!Or){Or=1,Object.defineProperty(ji,"__esModule",{value:!0});let N=qe();var b=N.operators;let k={maximum:{okStr:"<=",ok:b.LTE,fail:b.GT},minimum:{okStr:">=",ok:b.GTE,fail:b.LT},exclusiveMaximum:{okStr:"<",ok:b.LT,fail:b.GTE},exclusiveMinimum:{okStr:">",ok:b.GT,fail:b.LTE}};b={message:({keyword:w,schemaCode:d})=>(0,N.str)`must be ${k[w].okStr} ${d}`,params:({keyword:w,schemaCode:d})=>(0,N._)`{comparison: ${k[w].okStr}, limit: ${d}}`},b={keyword:Object.keys(k),type:"number",schemaType:"number",$data:!0,error:b,code(w){var{keyword:d,data:A,schemaCode:L}=w;w.fail$data((0,N._)`${A} ${k[d].fail} ${L} || isNaN(${A})`)}},ji.default=b}return ji})(),i=(()=>{if(!Ba){Ba=1,Object.defineProperty(xi,"__esModule",{value:!0});let b=qe();xi.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:N})=>(0,b.str)`must be multiple of ${N}`,params:({schemaCode:N})=>(0,b._)`{multipleOf: ${N}}`},code(N){var{gen:d,data:k,schemaCode:w,it:A}=N,A=A.opts.multipleOfPrecision,d=d.let("res"),A=A?(0,b._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${A}`:(0,b._)`${d} !== parseInt(${d})`;N.fail$data((0,b._)`(${w} === 0 || (${d} = ${k}/${w}, ${A}))`)}}}return xi})(),r=Lo(),a=(()=>{if(!Ue){Ue=1,Object.defineProperty(Ti,"__esModule",{value:!0});let b=Yt(),N=qe();Ti.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:k})=>(0,N.str)`must match pattern "${k}"`,params:({schemaCode:k})=>(0,N._)`{pattern: ${k}}`},code(k){var{data:w,$data:R,schema:d,schemaCode:A,it:L}=k,L=L.opts.unicodeRegExp?"u":"",R=R?(0,N._)`(new RegExp(${A}, ${L}))`:(0,b.usePattern)(k,d);k.fail$data((0,N._)`!${R}.test(${w})`)}}}return Ti})(),o=(()=>{if(!Fe){Fe=1,Object.defineProperty(He,"__esModule",{value:!0});let b=qe();He.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:N,schemaCode:k}){return N=N==="maxProperties"?"more":"fewer",(0,b.str)`must NOT have ${N} than ${k} properties`},params:({schemaCode:N})=>(0,b._)`{limit: ${N}}`},code(N){var{keyword:d,data:k,schemaCode:w}=N,d=d==="maxProperties"?b.operators.GT:b.operators.LT;N.fail$data((0,b._)`Object.keys(${k}).length ${d} ${w}`)}}}return He})(),c=Mo(),m=(()=>{if(!Li){Li=1,Object.defineProperty(ir,"__esModule",{value:!0});let b=qe();ir.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:N,schemaCode:k}){return N=N==="maxItems"?"more":"fewer",(0,b.str)`must NOT have ${N} than ${k} items`},params:({schemaCode:N})=>(0,b._)`{limit: ${N}}`},code(N){var{keyword:d,data:k,schemaCode:w}=N,d=d==="maxItems"?b.operators.GT:b.operators.LT;N.fail$data((0,b._)`${k}.length ${d} ${w}`)}}}return ir})(),S=Do(),x=(()=>{if(!za){za=1,Object.defineProperty(Ri,"__esModule",{value:!0});let b=qe(),N=Je(),k=cs();Ri.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:w})=>(0,b._)`{allowedValue: ${w}}`},code(w){var{gen:d,data:A,$data:L,schemaCode:R,schema:C}=w;L||C&&typeof C=="object"?w.fail$data((0,b._)`!${(0,N.useFunc)(d,k.default)}(${A}, ${R})`):w.fail((0,b._)`${C} !== ${A}`)}}}return Ri})(),_=Vo(),f=[f.default,i.default,r.default,a.default,o.default,c.default,m.default,S.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},x.default,_.default],ls.default=f),ls}var qo,Vi={},nn={};function ar(){if(!qo){let o=function(c,m){let{gen:S,schema:x,data:_,keyword:f,it:b}=c,N=(b.items=!0,S.const("len",(0,r._)`${_}.length`));if(x===!1)c.setParams({len:m.length}),c.pass((0,r._)`${N} <= ${m.length}`);else if(typeof x=="object"&&!(0,a.alwaysValidSchema)(b,x)){let k=S.var("valid",(0,r._)`${N} <= ${m.length}`);S.if((0,r.not)(k),()=>{var w;w=k,S.forRange("i",m.length,N,d=>{c.subschema({keyword:f,dataProp:d,dataPropType:a.Type.Num},w),b.allErrors||S.if((0,r.not)(w),()=>S.break())})}),c.ok(k)}};qo=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.validateAdditionalItems=void 0;let r=qe(),a=Je();var i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>(0,r.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,r._)`{limit: ${c}}`},code(c){var{parentSchema:S,it:m}=c,S=S.items;Array.isArray(S)?o(c,S):(0,a.checkStrictMode)(m,'"additionalItems" is ignored when "items" is not an array of schemas')}};nn.validateAdditionalItems=o,nn.default=i}return nn}var et,Zt,Ja={},an={};function jr(){if(!et){let c=function(m,S,x=m.schema){let{gen:_,parentSchema:f,data:b,keyword:N,it:k}=m;var L=f,{opts:w,errSchemaPath:d}=k,A=x.length,L=A===L.minItems&&(A===L.maxItems||L[S]===!1);w.strictTuples&&!L&&(L=`"${N}" is ${A}-tuple, but minItems or maxItems/${S} are not specified or different at path "${d}"`,(0,a.checkStrictMode)(k,L,w.strictTuples)),k.opts.unevaluated&&x.length&&k.items!==!0&&(k.items=a.mergeEvaluated.items(_,x.length,k.items));let R=_.name("valid"),C=_.const("len",(0,r._)`${b}.length`);x.forEach((q,H)=>{(0,a.alwaysValidSchema)(k,q)||(_.if((0,r._)`${C} > ${H}`,()=>m.subschema({keyword:N,schemaProp:H,dataProp:H},R)),m.ok(R))})};et=1,Object.defineProperty(an,"__esModule",{value:!0}),an.validateTuple=void 0;let r=qe(),a=Je(),o=Yt();var i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(m){var{schema:S,it:x}=m;if(Array.isArray(S))return c(m,"additionalItems",S);x.items=!0,(0,a.alwaysValidSchema)(x,S)||m.ok((0,o.validateArray)(m))}};an.validateTuple=c,an.default=i}return an}var Ko,qi={},Ha,Pt={};function Bo(){if(!Ha){Ha=1,Object.defineProperty(Pt,"__esModule",{value:!0});let i=qe(),r=Je();Pt.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:o}})=>o===void 0?(0,i.str)`must contain at least ${a} valid item(s)`:(0,i.str)`must contain at least ${a} and no more than ${o} valid item(s)`,params:({params:{min:a,max:o}})=>o===void 0?(0,i._)`{minContains: ${a}}`:(0,i._)`{minContains: ${a}, maxContains: ${o}}`},code(a){let{gen:o,schema:c,parentSchema:m,data:S,it:x}=a,_,f;var{minContains:b,maxContains:N}=m;x.opts.next?(_=b===void 0?1:b,f=N):_=1;let k=o.const("len",(0,i._)`${S}.length`);if(a.setParams({min:_,max:f}),f===void 0&&_===0)(0,r.checkStrictMode)(x,'"minContains" == 0 without "maxContains": "contains" keyword ignored');else if(f!==void 0&&_>f)(0,r.checkStrictMode)(x,'"minContains" > "maxContains" is always invalid'),a.fail();else if((0,r.alwaysValidSchema)(x,c)){let w=(0,i._)`${k} >= ${_}`;f!==void 0&&(w=(0,i._)`${w} && ${k} <= ${f}`),a.pass(w)}else{let d=function(){let L=o.name("_valid"),R=o.let("count",0);A(L,()=>o.if(L,()=>{return C=R,o.code((0,i._)`${C}++`),void(f===void 0?o.if((0,i._)`${C} >= ${_}`,()=>o.assign(w,!0).break()):(o.if((0,i._)`${C} > ${f}`,()=>o.assign(w,!1).break()),_===1?o.assign(w,!0):o.if((0,i._)`${C} >= ${_}`,()=>o.assign(w,!0))));var C}))},A=function(L,R){o.forRange("i",0,k,C=>{a.subschema({keyword:"contains",dataProp:C,dataPropType:r.Type.Num,compositeRule:!0},L),R()})};x.items=!0;let w=o.name("valid");f===void 0&&_===1?A(w,()=>o.if(w,()=>o.break())):_===0?(o.let(w,!0),f!==void 0&&o.if((0,i._)`${S}.length > 0`,d)):(o.let(w,!1),d()),a.result(w,()=>a.reset())}}}}return Pt}var Wa,Ya={};function Uo(){if(!Wa){Wa=1;{let m=function(x,_=x.schema){var{gen:f,data:b,it:N}=x;if(Object.keys(_).length!==0){var k,w,d=f.let("missing");for(k in _){let A=_[k];A.length!==0&&(w=(0,c.propertyInData)(f,b,k,N.opts.ownProperties),x.setParams({property:k,depsCount:A.length,deps:A.join(", ")}),N.allErrors?f.if(w,()=>{for(var L of A)(0,c.checkReportMissingProp)(x,L)}):(f.if((0,a._)`${w} && (${(0,c.checkMissingProp)(x,A,d)})`),(0,c.reportMissingProp)(x,d),f.else()))}}},S=function(x,_=x.schema){let{gen:f,data:b,keyword:N,it:k}=x,w=f.name("valid");for(let d in _)(0,o.alwaysValidSchema)(k,_[d])||(f.if((0,c.propertyInData)(f,b,d,k.opts.ownProperties),()=>{var A=x.subschema({keyword:N,schemaProp:d},w);x.mergeValidEvaluated(A,w)},()=>f.var(w,!0)),x.ok(w))};var i=Ya;Object.defineProperty(i,"__esModule",{value:!0}),i.validateSchemaDeps=i.validatePropertyDeps=i.error=void 0;let a=qe(),o=Je(),c=Yt();i.error={message:({params:{property:x,depsCount:_,deps:f}})=>(_=_===1?"property":"properties",(0,a.str)`must have ${_} ${f} when property ${x} is present`),params:({params:{property:x,depsCount:_,deps:f,missingProperty:b}})=>(0,a._)`{property: ${x},
    missingProperty: ${b},
    depsCount: ${_},
    deps: ${f}}`};var r={keyword:"dependencies",type:"object",schemaType:"object",error:i.error,code(x){var[_,f]=(({schema:b})=>{var N,k={},w={};for(N in b)N!=="__proto__"&&((Array.isArray(b[N])?k:w)[N]=b[N]);return[k,w]})(x);m(x,_),S(x,f)}};i.validatePropertyDeps=m,i.validateSchemaDeps=S,i.default=r}}return Ya}var Qa,Za={},qn,Ts={};function Xa(){if(!qn){qn=1,Object.defineProperty(Ts,"__esModule",{value:!0});let i=Yt(),r=qe(),a=yr(),o=Je();Ts.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:c})=>(0,r._)`{additionalProperty: ${c.additionalProperty}}`},code(c){let{gen:m,schema:S,parentSchema:x,data:_,errsCount:f,it:b}=c;if(!f)throw new Error("ajv implementation error");let{allErrors:N,opts:k}=b;if(b.props=!0,k.removeAdditional==="all"||!(0,o.alwaysValidSchema)(b,S)){let A=function(C){m.code((0,r._)`delete ${_}[${C}]`)},L=function(C){var q;k.removeAdditional==="all"||k.removeAdditional&&S===!1?A(C):S===!1?(c.setParams({additionalProperty:C}),c.error(),N||m.break()):typeof S!="object"||(0,o.alwaysValidSchema)(b,S)||(q=m.name("valid"),k.removeAdditional==="failing"?(R(C,q,!1),m.if((0,r.not)(q),()=>{c.reset(),A(C)})):(R(C,q),N||m.if((0,r.not)(q),()=>m.break())))},R=function(C,q,H){C={keyword:"additionalProperties",dataProp:C,dataPropType:o.Type.Str},H===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),c.subschema(C,q)},w=(0,i.allSchemaProperties)(x.properties),d=(0,i.allSchemaProperties)(x.patternProperties);m.forIn("key",_,C=>{w.length||d.length?m.if((q=>{let H;var Z;return H=8<w.length?(Z=(0,o.schemaRefOrVal)(b,x.properties,"properties"),(0,i.isOwnProperty)(m,Z,q)):w.length?(0,r.or)(...w.map(ee=>(0,r._)`${q} === ${ee}`)):r.nil,d.length&&(H=(0,r.or)(H,...d.map(ee=>(0,r._)`${(0,i.usePattern)(c,ee)}.test(${q})`))),(0,r.not)(H)})(C),()=>L(C)):L(C)}),c.ok((0,r._)`${f} === ${a.default.errors}`)}}}}return Ts}var Ki,Kn={};function Fo(){if(!Ki){Ki=1,Object.defineProperty(Kn,"__esModule",{value:!0});let i=is(),r=Yt(),a=Je(),o=Xa();Kn.default={keyword:"properties",type:"object",schemaType:"object",code(c){let{gen:m,schema:S,parentSchema:x,data:_,it:f}=c;f.opts.removeAdditional==="all"&&x.additionalProperties===void 0&&o.default.code(new i.KeywordCxt(f,o.default,"additionalProperties"));var b,k=(0,r.allSchemaProperties)(S);for(b of k)f.definedProperties.add(b);f.opts.unevaluated&&k.length&&f.props!==!0&&(f.props=a.mergeEvaluated.props(m,(0,a.toHash)(k),f.props));var N,k=k.filter(d=>!(0,a.alwaysValidSchema)(f,S[d]));if(k.length!==0){let A=function(L){c.subschema({keyword:"properties",schemaProp:L,dataProp:L},d)},d=m.name("valid");for(var w of k)N=w,f.opts.useDefaults&&!f.compositeRule&&S[N].default!==void 0?A(w):(m.if((0,r.propertyInData)(m,_,w,f.opts.ownProperties)),A(w),f.allErrors||m.else().var(d,!0),m.endIf()),c.it.definedProperties.add(w),c.ok(d)}}}}return Kn}var Bi,on={};function zo(){if(!Bi){Bi=1,Object.defineProperty(on,"__esModule",{value:!0});let i=Yt(),r=qe(),a=Je(),o=Je();on.default={keyword:"patternProperties",type:"object",schemaType:"object",code(c){let{gen:m,schema:S,data:x,parentSchema:_,it:f}=c;var b=f.opts;let N=(0,i.allSchemaProperties)(S),k=N.filter(L=>(0,a.alwaysValidSchema)(f,S[L]));if(N.length!==0&&(k.length!==N.length||f.opts.unevaluated&&f.props!==!0)){let q=function(H){m.forIn("key",x,Z=>{m.if((0,r._)`${(0,i.usePattern)(c,H)}.test(${Z})`,()=>{var ee=k.includes(H);ee||c.subschema({keyword:"patternProperties",schemaProp:H,dataProp:Z,dataPropType:o.Type.Str},R),f.opts.unevaluated&&C!==!0?m.assign((0,r._)`${C}[${Z}]`,!0):ee||f.allErrors||m.if((0,r.not)(R),()=>m.break())})})},L=b.strictSchema&&!b.allowMatchingProperties&&_.properties,R=m.name("valid"),C=(f.props===!0||f.props instanceof r.Name||(f.props=(0,o.evaluatedPropsToName)(m,f.props)),f).props;for(var w of N){if(L){d=void 0,A=void 0;var d=w;for(var A in L)new RegExp(d).test(A)&&(0,a.checkStrictMode)(f,`property ${A} matches pattern ${d} (use allowMatchingProperties)`)}f.allErrors?q(w):(m.var(R,!0),q(w),m.if(R))}}}}}return on}var Bt,Bn={},eo,Ui={},to,Fi={},ro,zi={},so,Gi={};function Go(){if(!so){let a=function(o,c){return c=o.schema[c],c!==void 0&&!(0,r.alwaysValidSchema)(o,c)};so=1,Object.defineProperty(Gi,"__esModule",{value:!0});let i=qe(),r=Je();Gi.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,i.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,i._)`{failingKeyword: ${o.ifClause}}`},code(o){let{gen:c,parentSchema:m,it:S}=o;m.then===void 0&&m.else===void 0&&(0,r.checkStrictMode)(S,'"if" without "then" and "else" is ignored');var x,_=a(S,"then"),f=a(S,"else");if(_||f){let k=function(w,d){return()=>{var A=o.subschema({keyword:w},N);c.assign(b,N),o.mergeValidEvaluated(A,b),d?c.assign(d,(0,i._)`${w}`):o.setParams({ifClause:w})}},b=c.let("valid",!0),N=c.name("_valid");x=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N),o.mergeEvaluated(x),o.reset(),_&&f?(x=c.let("ifClause"),o.setParams({ifClause:x}),c.if(N,k("then",x),k("else",x))):_?c.if(N,k("then")):c.if((0,i.not)(N),k("else")),o.pass(b,()=>o.error(!0))}}}}return Gi}var Jo,Ji,ln={};function ol(){if(!Ji){Ji=1,Object.defineProperty(Vi,"__esModule",{value:!0});let r=ar(),a=(()=>{if(!Zt){Zt=1,Object.defineProperty(Ja,"__esModule",{value:!0});let R=jr();Ja.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:C=>(0,R.validateTuple)(C,"items")}}return Ja})(),o=jr(),c=(()=>{if(!Ko){Ko=1,Object.defineProperty(qi,"__esModule",{value:!0});let R=qe(),C=Je(),q=Yt(),H=ar();qi.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:Z}})=>(0,R.str)`must NOT have more than ${Z} items`,params:({params:{len:Z}})=>(0,R._)`{limit: ${Z}}`},code(Z){var{schema:ee,parentSchema:xe,it:$e}=Z,xe=xe.prefixItems;$e.items=!0,(0,C.alwaysValidSchema)($e,ee)||(xe?(0,H.validateAdditionalItems)(Z,xe):Z.ok((0,q.validateArray)(Z)))}}}return qi})(),m=Bo(),S=Uo(),x=(()=>{if(!Qa){Qa=1,Object.defineProperty(Za,"__esModule",{value:!0});let R=qe(),C=Je();Za.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:q})=>(0,R._)`{propertyName: ${q.propertyName}}`},code(q){let{gen:H,schema:Z,data:ee,it:$e}=q;if(!(0,C.alwaysValidSchema)($e,Z)){let xe=H.name("valid");H.forIn("key",ee,ce=>{q.setParams({propertyName:ce}),q.subschema({keyword:"propertyNames",data:ce,dataTypes:["string"],propertyName:ce,compositeRule:!0},xe),H.if((0,R.not)(xe),()=>{q.error(!0),$e.allErrors||H.break()})}),q.ok(xe)}}}}return Za})(),_=Xa(),f=Fo(),b=zo(),N=(()=>{if(!Bt){Bt=1,Object.defineProperty(Bn,"__esModule",{value:!0});let R=Je();Bn.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(C){var{gen:q,schema:H,it:Z}=C;(0,R.alwaysValidSchema)(Z,H)?C.fail():(Z=q.name("valid"),C.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},Z),C.failResult(Z,()=>C.reset(),()=>C.error()))},error:{message:"must NOT be valid"}}}return Bn})(),k=(eo||(eo=1,Object.defineProperty(Ui,"__esModule",{value:!0}),i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Yt().validateUnion,error:{message:"must match a schema in anyOf"}},Ui.default=i),Ui);var i;let w=(()=>{if(!to){to=1,Object.defineProperty(Fi,"__esModule",{value:!0});let R=qe(),C=Je();Fi.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:q})=>(0,R._)`{passingSchemas: ${q.passing}}`},code(q){let{gen:H,schema:Z,parentSchema:ee,it:$e}=q;if(!Array.isArray(Z))throw new Error("ajv implementation error");if(!$e.opts.discriminator||!ee.discriminator){let xe=Z,ce=H.let("valid",!1),ve=H.let("passing",null),de=H.name("_valid");q.setParams({passing:ve}),H.block(function(){xe.forEach((me,V)=>{let J;(0,C.alwaysValidSchema)($e,me)?H.var(de,!0):J=q.subschema({keyword:"oneOf",schemaProp:V,compositeRule:!0},de),0<V&&H.if((0,R._)`${de} && ${ce}`).assign(ce,!1).assign(ve,(0,R._)`[${ve}, ${V}]`).else(),H.if(de,()=>{H.assign(ce,!0),H.assign(ve,V),J&&q.mergeEvaluated(J,R.Name)})})}),q.result(ce,()=>q.reset(),()=>q.error(!0))}}}}return Fi})(),d=(()=>{if(!ro){ro=1,Object.defineProperty(zi,"__esModule",{value:!0});let R=Je();zi.default={keyword:"allOf",schemaType:"array",code(C){let{gen:q,schema:H,it:Z}=C;if(!Array.isArray(H))throw new Error("ajv implementation error");let ee=q.name("valid");H.forEach(($e,xe)=>{(0,R.alwaysValidSchema)(Z,$e)||($e=C.subschema({keyword:"allOf",schemaProp:xe},ee),C.ok(ee),C.mergeEvaluated($e))})}}}return zi})(),A=Go(),L=(()=>{if(!Jo){Jo=1,Object.defineProperty(ln,"__esModule",{value:!0});let R=Je();ln.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:C,parentSchema:q,it:H}){q.if===void 0&&(0,R.checkStrictMode)(H,`"${C}" without "if" is ignored`)}}}return ln})();Vi.default=function(R=!1){var C=[N.default,k.default,w.default,d.default,A.default,L.default,x.default,_.default,S.default,f.default,b.default];return R?C.push(a.default,c.default):C.push(r.default,o.default),C.push(m.default),C}}return Vi}var Ho,Wo,no={},Hi={};function io(){if(!Ho){Ho=1,Object.defineProperty(Hi,"__esModule",{value:!0});let i=qe();Hi.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,i.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,i._)`{format: ${r}}`},code(r,a){let{gen:o,data:c,$data:m,schema:S,schemaCode:x,it:_}=r,{opts:f,errSchemaPath:b,schemaEnv:N,self:k}=_;if(f.validateFormats)if(m){let w=o.scopeValue("formats",{ref:k.formats,code:f.code.formats}),d=o.const("fDef",(0,i._)`${w}[${x}]`),A=o.let("fType"),L=o.let("format");o.if((0,i._)`typeof ${d} == "object" && !(${d} instanceof RegExp)`,()=>o.assign(A,(0,i._)`${d}.type || "string"`).assign(L,(0,i._)`${d}.validate`),()=>o.assign(A,(0,i._)`"string"`).assign(L,d)),r.fail$data((0,i.or)(f.strictSchema===!1?i.nil:(0,i._)`${x} && !${L}`,(()=>{var R=N.$async?(0,i._)`(${d}.async ? await ${L}(${c}) : ${L}(${c}))`:(0,i._)`${L}(${c})`,R=(0,i._)`(typeof ${L} == "function" ? ${R} : ${L}.test(${c}))`;return(0,i._)`${L} && ${L} !== true && ${A} === ${a} && !${R}`})()))}else{let w=k.formats[S];if(w){if(w!==!0){let[d,A,L]=(R=>{var C=R instanceof RegExp?(0,i.regexpCode)(R):f.code.formats?(0,i._)`${f.code.formats}${(0,i.getProperty)(S)}`:void 0,C=o.scopeValue("formats",{key:S,ref:R,code:C});return typeof R!="object"||R instanceof RegExp?["string",R,C]:[R.type||"string",R.validate,(0,i._)`${C}.validate`]})(w);d===a&&r.pass((()=>{if(typeof w!="object"||w instanceof RegExp||!w.async)return typeof A=="function"?(0,i._)`${L}(${c})`:(0,i._)`${L}.test(${c})`;if(N.$async)return(0,i._)`await ${L}(${c})`;throw new Error("async format in sync schema")})())}}else{let d=function(){return`unknown format "${S}" ignored in schema at path "${b}"`};if(f.strictSchema!==!1)throw new Error(d());k.logger.warn(d())}}}}}return Hi}var Wi,Yi,Cs={};function Yo(){var i,r,a,o,c;return Yi||(Yi=1,Object.defineProperty(Vn,"__esModule",{value:!0}),c=Co(),i=Di(),r=ol(),Wo||(Wo=1,Object.defineProperty(no,"__esModule",{value:!0}),a=[io().default],no.default=a),a=no,Wi||(Wi=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.contentVocabulary=Cs.metadataVocabulary=void 0,Cs.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Cs.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),o=Cs,c=[c.default,i.default,(0,r.default)(),a.default,o.metadataVocabulary,o.contentVocabulary],Vn.default=c),Vn}var us,Qo,ao={},Un={};function oo(){if(!Qo){Qo=1,Object.defineProperty(ao,"__esModule",{value:!0});let i=qe(),r=(us||(us=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.DiscrError=void 0,Un.DiscrError={Tag:"tag",Mapping:"mapping"}),Un),a=wi(),o=Rn(),c=Je();ao.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:m,tagName:S}})=>m===r.DiscrError.Tag?`tag "${S}" must be string`:`value of tag "${S}" must be in oneOf`,params:({params:{discrError:m,tag:S,tagName:x}})=>(0,i._)`{error: ${m}, tag: ${x}, tagValue: ${S}}`},code(m){let{gen:S,data:x,schema:_,parentSchema:f,it:b}=m,N=f.oneOf;if(!b.opts.discriminator)throw new Error("discriminator: requires discriminator option");let k=_.propertyName;if(typeof k!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!N)throw new Error("discriminator: requires oneOf keyword");let w=S.let("valid",!1),d=S.const("tag",(0,i._)`${x}${(0,i.getProperty)(k)}`);S.if((0,i._)`typeof ${d} == "string"`,()=>{var A,L=(()=>{let R,C={},q=ee(f),H=!0;for(let xe=0;xe<N.length;xe++){let ce=N[xe];if(ce!=null&&ce.$ref&&!(0,c.schemaHasRulesButRef)(ce,b.self.RULES)){var Z=ce.$ref;if((ce=(ce=a.resolveRef.call(b.self,b.schemaEnv.root,b.baseId,Z))instanceof a.SchemaEnv?ce.schema:ce)===void 0)throw new o.default(b.opts.uriResolver,b.baseId,Z)}if(Z=(R=ce==null?void 0:ce.properties)==null?void 0:R[k],typeof Z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${k}"`);H=H&&(q||ee(ce)),((ve,de)=>{if(ve.const)$e(ve.const,de);else{if(!ve.enum)throw new Error(`discriminator: "properties/${k}" must have "const" or "enum"`);for(var me of ve.enum)$e(me,de)}})(Z,xe)}if(H)return C;throw new Error(`discriminator: "${k}" must be required`);function ee({required:xe}){return Array.isArray(xe)&&xe.includes(k)}function $e(xe,ce){if(typeof xe!="string"||xe in C)throw new Error(`discriminator: "${k}" values must be unique strings`);C[xe]=ce}})();for(A in S.if(!1),L)S.elseIf((0,i._)`${d} === ${A}`),S.assign(w,(q=>{var C=S.name("valid"),q=m.subschema({keyword:"oneOf",schemaProp:q},C);return m.mergeEvaluated(q,i.Name),C})(L[A]));S.else(),m.error(!1,{discrError:r.DiscrError.Mapping,tag:d,tagName:k}),S.endIf()},()=>m.error(!1,{discrError:r.DiscrError.Tag,tag:d,tagName:k})),m.ok(w)}}}return ao}var Qi,Zo={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};function Zi(){if(!Qi){Qi=1;{var i=Nn,r=Nn.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;var a=To();let x=Yo(),_=oo(),f=Zo,b=["/properties"],N="http://json-schema.org/draft-07/schema";class k extends a.default{_addVocabularies(){super._addVocabularies(),x.default.forEach(d=>this.addVocabulary(d)),this.opts.discriminator&&this.addKeyword(_.default)}_addDefaultMetaSchema(){var d;super._addDefaultMetaSchema(),this.opts.meta&&(d=this.opts.$data?this.$dataMetaSchema(f,b):f,this.addMetaSchema(d,N,!1),this.refs["http://json-schema.org/schema"]=N)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(N)?N:void 0)}}r.Ajv=k,i.exports=r=k,i.exports.Ajv=k,Object.defineProperty(r,"__esModule",{value:!0}),r.default=k;var o=is(),c=(Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return o.KeywordCxt}}),qe()),m=(Object.defineProperty(r,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}}),Xs()),S=(Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return m.default}}),Rn());Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return S.default}})}}return Nn.exports}var lo,Xi={exports:{}};function co(){if(!lo){lo=1;{let A=function(L){return{keyword:f,schemaType:["string","object"],post:!0,code(R){let{gen:C,data:q,schema:H,schemaValue:Z,it:ee}=R;if(ee.createErrors!==!1){let ce=function(me,V){return c.and(o._`${me}.keyword !== ${f}`,o._`!${me}.${b}`,o._`${me}.instancePath === ${xe}`,o._`${me}.keyword in ${V}`,o._`${me}.schemaPath.indexOf(${ee.errSchemaPath}) === 0`,o._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${ee.errSchemaPath.length}))`)},ve=function(me,V){var J,Q=[];for(J in me){var le=V[J];k.test(le)&&Q.push([J,(le=le,o._`function(){return ${de(le)}}`)])}return C.object(...Q)},de=function(me){return k.test(me)?new m._Code(m.safeStringify(me).replace(w,(V,J)=>`" + JSON.stringify(${S.getData(J,ee)}) + "`).replace(d,"")):o.stringify(me)},$e=H,xe=c.strConcat(_.default.instancePath,ee.errorPath);C.if(o._`${_.default.errors} > 0`,()=>{if(typeof $e=="object"){var[me,V]=(ae=>{let we,F;for(var U in ae)if(U!=="properties"&&U!=="items"){var re=ae[U];if(typeof re=="object"){var ye,Pe=(we=we||{})[U]={};for(ye in re)Pe[ye]=[]}else(F=F||{})[U]=[]}return[we,F]})($e);if(V){let U=function(ye){C.forIn("key",ae,Pe=>C.if(o._`${ae}[${Pe}].length`,()=>ye(Pe)))},re=function(ye){return o._`${ye} in ${we} ? ${we}[${ye}]() : ${Z}[${ye}]`},ae=C.const("emErrors",o.stringify(V)),we=C.const("templates",ve(V,H)),F=(C.forOf("err",_.default.vErrors,ye=>C.if(ce(ye,ae),()=>C.code(o._`${ae}[${ye}.keyword].push(${ye})`).assign(o._`${ye}.${b}`,!0))),L).singleError;if(F){let ye=C.let("message",o._`""`),Pe=C.let("paramsErrors",o._`[]`);U(Ce=>{C.if(ye,()=>C.code(o._`${ye} += ${typeof F=="string"?F:";"}`)),C.code(o._`${ye} += ${re(Ce)}`),C.assign(Pe,o._`${Pe}.concat(${ae}[${Ce}])`)}),x.reportError(R,{message:ye,params:o._`{errors: ${Pe}}`})}else U(ye=>x.reportError(R,{message:re(ye),params:o._`{errors: ${ae}[${ye}]}`}))}if(me){var J,Q=me;let ae=C.const("emErrors",o.stringify(Q)),we=[];for(J in Q)we.push([J,ve(Q[J],H[J])]);let F=C.const("templates",C.object(...we)),U=C.scopeValue("obj",{ref:N,code:o.stringify(N)}),re=C.let("emPropParams"),ye=C.let("emParamsErrors");C.forOf("err",_.default.vErrors,Pe=>C.if(ce(Pe,ae),()=>{C.assign(re,o._`${U}[${Pe}.keyword]`),C.assign(ye,o._`${ae}[${Pe}.keyword][${Pe}.params[${re}]]`),C.if(ye,()=>C.code(o._`${ye}.push(${Pe})`).assign(o._`${Pe}.${b}`,!0))})),C.forIn("key",ae,Pe=>C.forIn("keyProp",o._`${ae}[${Pe}]`,Ce=>{C.assign(ye,o._`${ae}[${Pe}][${Ce}]`),C.if(o._`${ye}.length`,()=>{var Ge=C.const("tmpl",o._`${F}[${Pe}] && ${F}[${Pe}][${Ce}]`);x.reportError(R,{message:o._`${Ge} ? ${Ge}() : ${Z}[${Pe}][${Ce}]`,params:o._`{errors: ${ye}}`})})}))}{V=(({properties:F,items:U})=>{var re={};if(F)for(var ye in re.props={},F)re.props[ye]=[];if(U){re.items={};for(let Pe=0;Pe<U.length;Pe++)re.items[Pe]=[]}return re})($e);let{props:ae,items:we}=V;if(ae||we){let Pe=function(Ce,Ge){C.assign(F,o.stringify(Ce)),C.assign(ye,ve(Ce,Ge))};V=o._`typeof ${q} == "object"`,me=o._`Array.isArray(${q})`;let F=C.let("emErrors"),U,re,ye=C.let("templates");ae&&we?(U=C.let("emChildKwd"),C.if(V),C.if(me,()=>{Pe(we,H.items),C.assign(U,o.str`items`)},()=>{Pe(ae,H.properties),C.assign(U,o.str`properties`)}),re=o._`[${U}]`):we?(C.if(me),Pe(we,H.items),re=o._`.items`):ae&&(C.if(c.and(V,c.not(me))),Pe(ae,H.properties),re=o._`.properties`),C.forOf("err",_.default.vErrors,Ce=>{var Ge,it,gt;Ge=Ce,it=F,gt=or=>C.code(o._`${F}[${or}].push(${Ce})`).assign(o._`${Ce}.${b}`,!0),C.if(c.and(o._`${Ge}.keyword !== ${f}`,o._`!${Ge}.${b}`,o._`${Ge}.instancePath.indexOf(${xe}) === 0`),()=>{var or=C.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:o._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),or=C.const("emMatches",o._`${or}.exec(${Ge}.instancePath.slice(${xe}.length))`);let xr=C.const("emChild",o._`${or} && ${or}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);C.if(o._`${xr} !== undefined && ${xr} in ${it}`,()=>gt(xr))})}),C.forIn("key",F,Ce=>C.if(o._`${F}[${Ce}].length`,()=>{x.reportError(R,{message:o._`${Ce} in ${ye} ? ${ye}[${Ce}]() : ${Z}${re}[${Ce}]`,params:o._`{errors: ${F}[${Ce}]}`}),C.assign(o._`${_.default.vErrors}[${_.default.errors}-1].instancePath`,o._`${xe} + "/" + ${Ce}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),C.endIf()}}}if(V=typeof $e=="string"?$e:$e._,V){var le=V;let ae=C.const("emErrs",o._`[]`);C.forOf("err",_.default.vErrors,we=>{return C.if((F=we,c.and(o._`${F}.keyword !== ${f}`,o._`!${F}.${b}`,c.or(o._`${F}.instancePath === ${xe}`,c.and(o._`${F}.instancePath.indexOf(${xe}) === 0`,o._`${F}.instancePath[${xe}.length] === "/"`)),o._`${F}.schemaPath.indexOf(${ee.errSchemaPath}) === 0`,o._`${F}.schemaPath[${ee.errSchemaPath}.length] === "/"`)),()=>C.code(o._`${ae}.push(${we})`).assign(o._`${we}.${b}`,!0));var F}),C.if(o._`${ae}.length`,()=>x.reportError(R,{message:de(le),params:o._`{errors: ${ae}}`}))}if(!L.keepErrors){let ae=C.const("emErrs",o._`[]`);C.forOf("err",_.default.vErrors,we=>C.if(o._`!${we}.${b}`,()=>C.code(o._`${ae}.push(${we})`))),C.assign(_.default.vErrors,ae).assign(_.default.errors,o._`${ae}.length`)}})}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}};var i=Xi,r=Xi.exports;Object.defineProperty(r,"__esModule",{value:!0});let o=Zi(),c=qe(),m=Gs(),S=is(),x=Hs(),_=yr(),f="errorMessage",b=new o.Name("emUsed"),N={required:"missingProperty",dependencies:"property",dependentRequired:"property"},k=/\$\{[^}]+\}/,w=/\$\{([^}]+)\}/g,d=/^""\s*\+\s*|\s*\+\s*""$/g;var a=(L,R={})=>{if(!L.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(L.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return L.addKeyword(A(R))};r.default=a,i.exports=a,i.exports.default=a}}return Xi.exports}ze=Tr.exports;{let i=function(ce,ve){var de,me=Object.keys(ce);return Object.getOwnPropertySymbols&&(de=Object.getOwnPropertySymbols(ce),ve&&(de=de.filter(function(V){return Object.getOwnPropertyDescriptor(ce,V).enumerable})),me.push.apply(me,de)),me},r=function(ce,ve){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,me){return de.__proto__=me,de})(ce,ve)},a=function(){a=function(Q,le){return new de(Q,void 0,le)};var ce=RegExp.prototype,ve=new WeakMap;function de(Q,le,ae){return le=RegExp(Q,le),ve.set(le,ae||ve.get(Q)),r(le,de.prototype)}function me(Q,le){var ae=ve.get(le);return Object.keys(ae).reduce(function(we,F){var U=ae[F];if(typeof U=="number")we[F]=Q[U];else{for(var re=0;Q[U[re]]===void 0&&re+1<U.length;)re++;we[F]=Q[U[re]]}return we},Object.create(null))}var V=de,J=RegExp;if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");return V.prototype=Object.create(J&&J.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),J&&r(V,J),de.prototype.exec=function(Q){var le;return(Q=ce.exec.call(this,Q))&&(Q.groups=me(Q,this),le=Q.indices)&&(le.groups=me(le,this)),Q},de.prototype[Symbol.replace]=function(Q,le){var ae,we;return typeof le=="string"?(ae=ve.get(this),ce[Symbol.replace].call(this,Q,le.replace(/\$<([^>]+)>/g,function(F,U){return U=ae[U],"$"+(Array.isArray(U)?U.join("$"):U)}))):typeof le=="function"?(we=this,ce[Symbol.replace].call(this,Q,function(){var F=arguments;return typeof F[F.length-1]!="object"&&(F=[].slice.call(F)).push(me(F,we)),le.apply(this,F)})):ce[Symbol.replace].call(this,Q,le)},a.apply(this,arguments)},c=function(ce,ve){Object.keys(ce[ve]||[]).forEach(de=>{(de=ce[ve][de])&&de.external&&de.external.name&&(de.name=de.external.name,de.external=!0)})},xe=function(ce){let ve=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,de=k(ce);if(!de||typeof de=="string"||Object.prototype.hasOwnProperty.call(de,"services"))return ce;let me=Object.keys(de),V=[],J=F=>V.push(F),Q=(Object.keys(de).forEach(F=>{U=F,re=de[F],ye=J,(re=re.links)&&(re=re[0].split(":")[0],ye("Service ".concat(U," has links, which no longer create environment variables such as ").concat(re.toUpperCase(),"_PORT. If you are using those in your application code, you should instead connect directly to the hostname, e.g. '").concat(re,"'."))),ye=F,U=de[F],re=J,(U=U.external_links)&&re("Service ".concat(ye," has external_links: ").concat(U,`, which now work slightly differently. In particular, two containers must be connected to at least one network in common to communicate, even if explicitly linked together.

Either connect the external container to your app's default network, or connect both the external container and your service's containers to a pre-existing network. See https://docs.docker.com/compose/networking/ for more on how to do this.`));var U,re=de[F],ye=me;if(re.net){let it=re.net;it.startsWith("container:")&&(U=it.split(":")[1],ye.includes(U))&&(it="service:".concat(U)),re.network_mode=it,delete re.net}(ye=de[F]).dockerfile&&(ye.build={context:ye.build,dockerfile:ye.dockerfile},delete ye.dockerfile),(U=de[F]).log_driver&&(U.logging={driver:U.log_driver},U.log_opt&&(U.logging.options=U.log_opt,delete U.log_opt),delete U.log_driver);var Pe=de[F],Ce=me;if(Pe.volumes_from)for(let it=0;it<Pe.volumes_from.length;it+=1){var Ge=Pe.volumes_from[it];Ce.includes(Ge.split(":")[0])||(Pe.volumes_from[it]="container:".concat(Ge))}}),{});return Object.keys(de).forEach(F=>{Q[F]=de[F],delete de[F]}),de.version="2.4",de.services=Q,ce=de,le=J,0<(we=(F=>{let U=[];return Object.values(F).forEach(re=>(re.volumes||[]).forEach(ye=>U.push(ye))),F=new Set(U.map(re=>(re=S(re),x(re)?re:void 0))),Array.from(F).filter(re=>re).map(re=>({[re]:{external:!0,name:re}}))})(ce.services)).length&&(ae=we.map(F=>JSON.stringify(F)).join(","),le("Named volumes (".concat(ae,`) must be explicitly declared. Creating a 'volumes' section with declarations.

For backwards-compatibility, they've been declared as external. If you don't mind the volume names being prefixed with the project name, you can remove the 'external' option from each one.`)),ce.volumes=we),c(de,"networks"),c(de,"volumes"),V.map(F=>"# ".concat(F.replace(/\n/g,`
#`))).join(`
`)+(0<V.length?`
`:"")+L(de,ve);var le,ae,we},o=(ce,ve,de)=>{let me=ce,V=ve.split("/"),J=V.length;for(let le=0;le<J-1;le+=1){var Q=V[le];me[Q]||(me[Q]={}),me=me[Q]}me[V[J-1]]=de},m=a(/^(([A-Za-z]:\/|[A-Za-z]:\\)?.*?):(([A-Za-z]:\/|[A-Za-z]:[\\])?.*?)(?::((rw|ro|z|Z)(,(rw|ro|z|Z))*))?$/,{volume:1,container_path:3,flags:5}),S=ce=>(ce=ce.match(m))===null?"":ce.groups.volume,x=ce=>ce&&!ce.includes("/")&&!ce.includes("\\")&&!ce.includes("~")&&!ce.includes(".")&&!ce.includes("$"),_=ce=>{var ve=ce.match(m);return ve!==null&&(ce={type:x(ve.groups.volume)?"volume":"bind",source:ve.groups.volume,target:ve.groups.container_path},(ve=(ve.groups.flags||"").replace(/\s+/,"").split(",")).includes("ro")&&(ce.volume={nocopy:!0}),ve.includes("z")?ce.bind={selinux:"z"}:ve.includes("Z")&&(ce.bind={selinux:"Z"})),ce},f=mr;class b extends Error{constructor(ve,de,me){super(ve),this.lines=de,this.details=me,this.name="YamlSyntaxError"}}let N=ce=>{ce=f.parseDocument(ce,{prettyErrors:!0});let ve=[],de=[];if(ce.errors.forEach((me,V)=>{var J=me.message.split(`:
`)[0];de.push({line:me.linePos[0].line,message:J,pos:me.linePos}),Array.from({length:me.linePos?me.linePos[1].line-me.linePos[0].line:1},(Q,le)=>me.linePos[0].line+le).forEach(Q=>ve.push(Q))}),0<de.length)throw new b(de.map(me=>me.message).join(`
`),ve,de)},k=ce=>(N(ce),f.parse(ce,{intAsBigInt:!0})),w=a(/^((\[?([a-fA-F\d.:]+)\]?:)?([\d]*(-[\d]+)?):)?([\d]+(-[\d]+)?)(\/((udp|tcp|sctp)))?$/,{ip_part:2,ip:3,host:4,container:6,proto_part:8,proto:9}),d=ce=>{let ve=ce.match(w);if(ve===null)return[ce];if((ce=ve.groups.container)&&ce.includes("-")){var de=ce.split("-");let V=parseInt(de[0],10);var de=parseInt(de[1],10),me=((me=ve.groups.host)||ce).split("-");let J=parseInt(me[0],10),Q=[];return Array.from({length:de-V+1},(le,ae)=>ae).forEach(le=>{Q=[...Q,...d("".concat(ve.groups.ip_part||"").concat(J+le,":").concat(V+le).concat(ve.groups.proto_part||""))]}),Q}return me={target:parseInt(ce,10)},ve.groups.ip&&(me.host_ip=ve.groups.ip),ve.groups.host&&(me.published=ve.groups.host),ve.groups.proto&&(me.protocol=ve.groups.proto),me.mode="ingress",[me]},A=mr,L=(ce,ve)=>(R(ce,ve),A.stringify(ce,{indent:(ve||{}).indent||4,simpleKeys:!0,nullStr:""}).trim()),R=(ce,ve)=>(ve&&ve.expandVolumes&&Object.values(ce.services).forEach(de=>{if(de.volumes)for(let me=0;me<de.volumes.length;me+=1)typeof de.volumes[me]=="string"&&(de.volumes[me]=_(de.volumes[me]))}),ve&&ve.expandPorts&&Object.values(ce.services).forEach(de=>{if(de.ports){let me=[];for(let V=0;V<de.ports.length;V+=1)me=typeof de.ports[V]=="string"?[...me,...d(de.ports[V])]:[...me,de.ports[V]];de.ports=me}}),ce),C={$id:"compose_spec.json",type:"object",title:"Compose Specification",description:"The Compose file is a YAML file defining a multi-containers based application.",properties:{version:{type:"string",description:"declared for backward compatibility, ignored."},name:{type:"string",pattern:"^[a-z0-9][a-z0-9_-]*$",description:"define the Compose project name, until user defines one explicitly."},include:{type:"array",items:{type:"object",$ref:"#/definitions/include"},description:"compose sub-projects to be included."},services:{$id:"#/properties/services",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/service"}},additionalProperties:!1},networks:{$id:"#/properties/networks",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/network"}}},volumes:{$id:"#/properties/volumes",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/volume"}},additionalProperties:!1},secrets:{$id:"#/properties/secrets",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/secret"}},additionalProperties:!1},configs:{$id:"#/properties/configs",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/config"}},additionalProperties:!1}},patternProperties:{"^x-":{}},additionalProperties:!1,definitions:{service:{$id:"#/definitions/service",type:"object",properties:{develop:{$ref:"#/definitions/development"},deploy:{$ref:"#/definitions/deployment"},annotations:{$ref:"#/definitions/list_or_dict"},attach:{type:"boolean"},build:{oneOf:[{type:"string"},{type:"object",properties:{context:{type:"string"},dockerfile:{type:"string"},dockerfile_inline:{type:"string"},args:{$ref:"#/definitions/list_or_dict"},ssh:{$ref:"#/definitions/list_or_dict"},labels:{$ref:"#/definitions/list_or_dict"},cache_from:{type:"array",items:{type:"string"}},cache_to:{type:"array",items:{type:"string"}},no_cache:{type:"boolean"},additional_contexts:{$ref:"#/definitions/list_or_dict"},network:{type:"string"},pull:{type:"boolean"},target:{type:"string"},shm_size:{type:["integer","string"]},extra_hosts:{$ref:"#/definitions/list_or_dict"},isolation:{type:"string"},privileged:{type:"boolean"},secrets:{$ref:"#/definitions/service_config_or_secret"},tags:{type:"array",items:{type:"string"}},ulimits:{$ref:"#/definitions/ulimits"},platforms:{type:"array",items:{type:"string"}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},blkio_config:{type:"object",properties:{device_read_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_read_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},weight:{type:"integer"},weight_device:{type:"array",items:{$ref:"#/definitions/blkio_weight"}}},additionalProperties:!1},cap_add:{type:"array",items:{type:"string"},uniqueItems:!0},cap_drop:{type:"array",items:{type:"string"},uniqueItems:!0},cgroup:{type:"string",enum:["host","private"]},cgroup_parent:{type:"string"},command:{$ref:"#/definitions/command"},configs:{$ref:"#/definitions/service_config_or_secret"},container_name:{type:"string"},cpu_count:{type:"integer",minimum:0},cpu_percent:{type:"integer",minimum:0,maximum:100},cpu_shares:{type:["number","string"]},cpu_quota:{type:["number","string"]},cpu_period:{type:["number","string"]},cpu_rt_period:{type:["number","string"]},cpu_rt_runtime:{type:["number","string"]},cpus:{type:["number","string"]},cpuset:{type:"string"},credential_spec:{type:"object",properties:{config:{type:"string"},file:{type:"string"},registry:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},depends_on:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",additionalProperties:!1,patternProperties:{"^[a-zA-Z0-9._-]+$":{type:"object",additionalProperties:!1,properties:{restart:{type:"boolean"},required:{type:"boolean",default:!0},condition:{type:"string",enum:["service_started","service_healthy","service_completed_successfully"]}},required:["condition"]}}}]},device_cgroup_rules:{$ref:"#/definitions/list_of_strings"},devices:{type:"array",items:{type:"string"},uniqueItems:!0},dns:{$ref:"#/definitions/string_or_list"},dns_opt:{type:"array",items:{type:"string"},uniqueItems:!0},dns_search:{$ref:"#/definitions/string_or_list"},domainname:{type:"string"},entrypoint:{$ref:"#/definitions/command"},env_file:{$ref:"#/definitions/string_or_list"},environment:{$ref:"#/definitions/list_or_dict"},expose:{type:"array",items:{type:["string","number"],format:"expose"},uniqueItems:!0},extends:{oneOf:[{type:"string"},{type:"object",properties:{service:{type:"string"},file:{type:"string"}},required:["service"],additionalProperties:!1}]},external_links:{type:"array",items:{type:"string"},uniqueItems:!0},extra_hosts:{$ref:"#/definitions/list_or_dict"},group_add:{type:"array",items:{type:["string","number"]},uniqueItems:!0},healthcheck:{$ref:"#/definitions/healthcheck"},hostname:{type:"string"},image:{type:"string"},init:{type:"boolean"},ipc:{type:"string"},isolation:{type:"string"},labels:{$ref:"#/definitions/list_or_dict"},links:{type:"array",items:{type:"string"},uniqueItems:!0},logging:{type:"object",properties:{driver:{type:"string"},options:{type:"object",patternProperties:{"^.+$":{type:["string","number","null"]}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},mac_address:{type:"string"},mem_limit:{type:["number","string"]},mem_reservation:{type:["string","integer"]},mem_swappiness:{type:"integer"},memswap_limit:{type:["number","string"]},network_mode:{type:"string"},networks:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{oneOf:[{type:"object",properties:{aliases:{$ref:"#/definitions/list_of_strings"},ipv4_address:{type:"string"},ipv6_address:{type:"string"},link_local_ips:{$ref:"#/definitions/list_of_strings"},mac_address:{type:"string"},priority:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}},{type:"null"}]}},additionalProperties:!1}]},oom_kill_disable:{type:"boolean"},oom_score_adj:{type:"integer",minimum:-1e3,maximum:1e3},pid:{type:["string","null"]},pids_limit:{type:["number","string"]},platform:{type:"string"},ports:{type:"array",items:{oneOf:[{type:"number",format:"ports"},{type:"string",format:"ports"},{type:"object",properties:{mode:{type:"string"},host_ip:{type:"string"},target:{type:"integer"},published:{type:["string","integer"]},protocol:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},privileged:{type:"boolean"},profiles:{$ref:"#/definitions/list_of_strings"},pull_policy:{type:"string",enum:["always","never","if_not_present","build","missing"]},read_only:{type:"boolean"},restart:{type:"string"},runtime:{type:"string"},scale:{type:"integer"},security_opt:{type:"array",items:{type:"string"},uniqueItems:!0},shm_size:{type:["number","string"]},secrets:{$ref:"#/definitions/service_config_or_secret"},sysctls:{$ref:"#/definitions/list_or_dict"},stdin_open:{type:"boolean"},stop_grace_period:{type:"string",format:"duration"},stop_signal:{type:"string"},storage_opt:{type:"object"},tmpfs:{$ref:"#/definitions/string_or_list"},tty:{type:"boolean"},ulimits:{$ref:"#/definitions/ulimits"},user:{type:"string"},uts:{type:"string"},userns_mode:{type:"string"},volumes:{type:"array",items:{oneOf:[{type:"string",format:"volumes"},{type:"object",required:["type"],properties:{type:{type:"string"},source:{type:"string"},target:{type:"string"},read_only:{type:"boolean"},consistency:{type:"string"},bind:{type:"object",properties:{propagation:{type:"string"},create_host_path:{type:"boolean"},selinux:{type:"string",enum:["z","Z"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{type:"object",properties:{nocopy:{type:"boolean"}},additionalProperties:!1,patternProperties:{"^x-":{}}},tmpfs:{type:"object",properties:{size:{oneOf:[{type:"integer",minimum:0},{type:"string"}]},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},volumes_from:{type:"array",items:{type:"string"},uniqueItems:!0},working_dir:{type:"string"}},patternProperties:{"^x-":{}},additionalProperties:!1},healthcheck:{$id:"#/definitions/healthcheck",type:"object",properties:{disable:{type:"boolean"},interval:{type:"string",format:"duration"},retries:{type:"number"},test:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},timeout:{type:"string",format:"duration"},start_period:{type:"string",format:"duration"},start_interval:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},development:{$id:"#/definitions/development",type:["object","null"],properties:{watch:{type:"array",items:{type:"object",properties:{ignore:{type:"array",items:{type:"string"}},path:{type:"string"},action:{type:"string",enum:["rebuild","sync","sync+restart"]},target:{type:"string"}}},required:["path","action"],additionalProperties:!1,patternProperties:{"^x-":{}}}}},deployment:{$id:"#/definitions/deployment",type:["object","null"],properties:{mode:{type:"string"},endpoint_mode:{type:"string"},replicas:{type:"integer"},labels:{$ref:"#/definitions/list_or_dict"},rollback_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},update_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},resources:{type:"object",properties:{limits:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},pids:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}},reservations:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},generic_resources:{$ref:"#/definitions/generic_resources"},devices:{$ref:"#/definitions/devices"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},restart_policy:{type:"object",properties:{condition:{type:"string"},delay:{type:"string",format:"duration"},max_attempts:{type:"integer"},window:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},placement:{type:"object",properties:{constraints:{type:"array",items:{type:"string"}},preferences:{type:"array",items:{type:"object",properties:{spread:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},max_replicas_per_node:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},generic_resources:{$id:"#/definitions/generic_resources",type:"array",items:{type:"object",properties:{discrete_resource_spec:{type:"object",properties:{kind:{type:"string"},value:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},devices:{$id:"#/definitions/devices",type:"array",items:{type:"object",properties:{capabilities:{$ref:"#/definitions/list_of_strings"},count:{type:["string","integer"]},device_ids:{$ref:"#/definitions/list_of_strings"},driver:{type:"string"},options:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},include:{$id:"#/definitions/include",oneOf:[{type:"string"},{type:"object",properties:{path:{$ref:"#/definitions/string_or_list"},env_file:{$ref:"#/definitions/string_or_list"},project_directory:{type:"string"}},additionalProperties:!1}]},network:{$id:"#/definitions/network",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},ipam:{type:"object",properties:{driver:{type:"string"},config:{type:"array",items:{type:"object",properties:{subnet:{type:"string",format:"subnet_ip_address"},ip_range:{type:"string"},gateway:{type:"string"},aux_addresses:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},options:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},internal:{type:"boolean"},enable_ipv6:{type:"boolean"},attachable:{type:"boolean"},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{$id:"#/definitions/volume",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},secret:{$id:"#/definitions/secret",type:"object",properties:{name:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},config:{$id:"#/definitions/config",type:"object",properties:{name:{type:"string"},content:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},command:{oneOf:[{type:"null"},{type:"string"},{type:"array",items:{type:"string"}}]},string_or_list:{oneOf:[{type:"string"},{$ref:"#/definitions/list_of_strings"}]},list_of_strings:{type:"array",items:{type:"string"},uniqueItems:!0},list_or_dict:{oneOf:[{type:"object",patternProperties:{".+":{type:["string","number","boolean","null"]}},additionalProperties:!1},{type:"array",items:{type:"string"},uniqueItems:!0}]},blkio_limit:{type:"object",properties:{path:{type:"string"},rate:{type:["integer","string"]}},additionalProperties:!1},blkio_weight:{type:"object",properties:{path:{type:"string"},weight:{type:"integer"}},additionalProperties:!1},service_config_or_secret:{type:"array",items:{oneOf:[{type:"string"},{type:"object",properties:{source:{type:"string"},target:{type:"string"},uid:{type:"string"},gid:{type:"string"},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]}},ulimits:{type:"object",patternProperties:{"^[a-z]+$":{oneOf:[{type:"integer"},{type:"object",properties:{hard:{type:"integer"},soft:{type:"integer"}},required:["soft","hard"],additionalProperties:!1,patternProperties:{"^x-":{}}}]}}},constraints:{service:{$id:"#/definitions/constraints/service",anyOf:[{required:["build"]},{required:["image"]}],properties:{build:{required:["context"]}}}}}},q=mr,H=Zi(),Z=co(),ee={expose:/^\d+(-\d+)?(\/[a-zA-Z]+)?$/,ports:w,volumes:m,duration:/^(\d+(us|ms|s|m|h))+$/,byte:/^\d+(b|kb?|mb?|gb?)$/,subnet_ip_address:/^((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\/(\d|[1-2]\d|3[0-2])$|^((([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){1,7}:)|(([0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,1})|(([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2})|(([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3})|(([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4})|(([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5})|(([0-9a-fA-F]{1,4}:){1,1}(:[0-9a-fA-F]{1,4}){1,6})|(:((:[0-9a-fA-F]{1,4}){1,7}|:))|(fe80:(:[0-9a-fA-F]{1,4}){0,4}%[0-9a-zA-Z]{1,})|(::(ffff(:0{1,4}){0,1}:){0,1}((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5]))|(([0-9a-fA-F]{1,4}:){1,4}:((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])))\/(\d|[1-9]\d|1[0-1]\d|12[0-8])$/},$e=ce=>{if(Array.isArray(ce))for(let ve=0;ve<ce.length;ve+=1)$e(ce[ve]);else typeof ce=="object"&&(ce.type&&ce.format&&(ce.pattern=ee[ce.format].toString(),delete ce.format),Object.keys(ce).forEach(ve=>{$e(ce[ve])}));return ce};ze.getDockerComposeSchemaWithoutFormats=()=>$e(C),ze.getVolumeNameFromVolumeSpec=S,ze.isNamedVolume=x,ze.migrateFromV1ToV2x=xe,ze.migrateFromV2xToV3x=function(ce){let ve=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,de=k(ce);if(!de||typeof de=="string"||!de.version||de.version.startsWith("3"))return ce;let me=[],V=J=>me.push(J);return Object.keys(de.services).forEach(J=>{let Q=de.services[J];Q.cpus&&o(Q,"deploy/resources/limits/cpus",Q.cpus),Q.mem_limit&&o(Q,"deploy/resources/limits/memory",Q.mem_limit),Q.pids_limit&&o(Q,"deploy/resources/limits/pids",Q.pids_limit),Q.mem_reservation&&o(Q,"deploy/resources/reservations/memory",Q.mem_reservation),Q.volume_driver&&(V("Service ".concat(J," has volume_driver:").concat(Q.volume_driver,": Instead of setting the volume driver on the service, define a volume using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and specify the driver there.")),delete Q.volume_driver),Q.volumes_from&&(V("Service ".concat(J," has volumes_from:").concat(Q.volumes_from," To share a volume between services, define it using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and reference it from each service that shares it using the service-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#driver).")),delete Q.volumes_from),["cpu_shares","cpu_quota","cpuset","memswap_limit"].forEach(le=>{Object.prototype.hasOwnProperty.call(Q,le)&&V("Service ".concat(J," has ").concat(le,":").concat(Q.k," These have been replaced by the resources key under deploy (https://docs.docker.com/compose/compose-file/compose-file-v3/#resources). deploy configuration only takes effect when using docker stack deploy, and is ignored by docker-compose.")),delete Q[le]}),Q.extends&&(V("Service ".concat(J," has extends:").concat(Q.extends,' This option has been removed for version: "3.x" Compose files. For more information on extends, see https://docs.docker.com/compose/multiple-compose-files/extends/.')),delete Q.extends),Q.group_add&&(V("Service ".concat(J," has group_add:").concat(Q.group_add,' This option has been removed for version: "3.x" Compose files.')),delete Q.group_add),delete Q.cpus,delete Q.mem_limit,delete Q.pids_limit,delete Q.mem_reservation}),de.version="3",c(de,"networks"),c(de,"volumes"),me.map(J=>"# ".concat(J.replace(/\n/g,`
#`))).join(`
`)+(0<me.length?`
`:"")+L(de,ve)},ze.migrateFromV3xToV2x=function(ce){let ve=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,de=k(ce);return de&&typeof de!="string"&&de.version&&!de.version.startsWith("2")&&de.services?(Object.keys(de.services).forEach(me=>{var V;(me=de.services[me]).deploy&&me.deploy.resources&&((V=me.deploy.resources).limits&&(V.limits.cpus&&(me.cpus=V.limits.cpus),V.limits.memory&&(me.mem_limit=V.limits.memory),V.limits.pids)&&(me.pids_limit=V.limits.pids),V.reservations)&&V.reservations.memory&&(me.mem_reservation=V.reservations.memory),me.deploy&&me.deploy.restart_policy&&me.deploy.restart_policy.condition&&!me.restart&&(me.restart=me.deploy.restart_policy.condition),delete me.deploy}),de.version="2.4",c(de,"networks"),c(de,"volumes"),L(de,ve)):ce},ze.migrateToCommonSpec=function(ce){var ve,de=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,me=xe(ce,de);let V=k(me);return V&&typeof V!="string"?(me=me.match(/^\s*#[^\r\n]*/gm)||[],Object.keys(V.services||[]).forEach(J=>{(J=V.services[J]).cpus&&o(J,"deploy/resources/limits/cpus",J.cpus),J.mem_limit&&o(J,"deploy/resources/limits/memory",J.mem_limit),J.pids_limit&&o(J,"deploy/resources/limits/pids",J.pids_limit),J.mem_reservation&&o(J,"deploy/resources/reservations/memory",J.mem_reservation),delete J.cpus,delete J.mem_limit,delete J.pids_limit,delete J.mem_reservation}),delete(ve=function(J){for(var Q=1;Q<arguments.length;Q++){var le=arguments[Q]!=null?arguments[Q]:{};Q%2?i(Object(le),!0).forEach(function(ae){var we,F,U;we=J,F=le[ae=ae],(ae=typeof(U=(re=>{if(typeof re!="object"||!re)return re;var ye=re[Symbol.toPrimitive];if(ye===void 0)return String(re);if(typeof(ye=ye.call(re,"string"))!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")})(ae))=="symbol"?U:U+"")in we?Object.defineProperty(we,ae,{value:F,enumerable:!0,configurable:!0,writable:!0}):we[ae]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(le)):i(Object(le)).forEach(function(ae){Object.defineProperty(J,ae,Object.getOwnPropertyDescriptor(le,ae))})}return J}({name:"<your project name>"},V)).version,c(ve,"networks"),c(ve,"volumes"),me.map(J=>"# ".concat(J.replace(/^\s*#\s+/g,""))).join(`
`)+(0<me.length?`
`:"")+L(ve,de)):ce},ze.validateDockerComposeToCommonSpec=ce=>{let ve=k(ce),de=new H({allErrors:!0,strict:!1});Z(de),Object.keys(ee).forEach(J=>de.addFormat(J,ee[J]));var me=de.compile(C);if(me(ve))return[];let V=q.parseDocument(ce,{prettyErrors:!0});return me.errors.map(J=>{let Q=J.instancePath;J.keyword==="additionalProperties"&&(Q+="/".concat(J.params.additionalProperty));var le=Q.split("/").slice(1),ae=V.getIn(le,!0),ae=(ae=ae===null?V.getIn(le.slice(0,-1),!0):ae)?ae.range[0]+1:0,we="https://docs.docker.com/compose/compose-file/";return{line:ae=(ce.substring(0,ae).match(/\n/g)||[]).length+1,message:J.keyword==="additionalProperties"?"Line ".concat(ae,"(").concat(Q,"): '").concat(J.params.additionalProperty,"' is unknown for '").concat(Q,"'"):J.keyword==="format"?"Line ".concat(ae,"(").concat(Q,"): must have a valid syntax for '").concat(J.params.format,"'"):J.keyword==="oneOf"?"Line ".concat(ae,"(").concat(Q,"): must be either a Short Syntax (string(s)) or a Long Syntax (object(s))"):"Line ".concat(ae,"(").concat(Q,"): ").concat(J.message," (").concat(J.keyword,": ").concat(JSON.stringify(J.params),")"),helpLink:J=((J=le[0])==="services"?"".concat(we,"05-services/"):J==="networks"?"".concat(we,"06-networks/"):J==="volumes"?"".concat(we,"07-volumes/"):J==="configs"?"".concat(we,"08-configs/"):J==="secrets"?"".concat(we,"09-secrets/"):we)+(le[2]?"#".concat(le[2]):"")}})},ze.yamlCheck=N,ze.yamlParse=k,ze.yamlStringify=L}var ea=Ir(Tr.exports),Ne=(i,r)=>({type:i,path:r});let Xo={"add-host":Ne("Array","extra_hosts"),"blkio-weight":Ne("IntValue","blkio_config/weight"),"blkio-weight-device":Ne("DeviceBlockIOConfigWeight","blkio_config/weight_device"),"cap-add":Ne("Array","cap_add"),"cap-drop":Ne("Array","cap_drop"),"cgroup-parent":Ne("Value","cgroup_parent"),cgroupns:Ne("Value","cgroup"),"cpu-period":Ne("Value","cpu_period"),"cpu-quota":Ne("Value","cpu_quota"),"cpu-rt-period":Ne("Value","cpu_rt_period"),"cpu-rt-runtime":Ne("Value","cpu_rt_runtime"),"cpu-shares/c":Ne("IntValue","cpu_shares"),cpus:Ne("FloatValue","deploy/resources/limits/cpus"),"detached/d":Ne("Switch",""),"device-cgroup-rule":Ne("Array","device_cgroup_rules"),"device-read-bps":Ne("DeviceBlockIOConfigRate","blkio_config/device_read_bps"),"device-read-iops":Ne("DeviceBlockIOConfigRate","blkio_config/device_read_iops"),"device-write-bps":Ne("DeviceBlockIOConfigRate","blkio_config/device_write_bps"),"device-write-iops":Ne("DeviceBlockIOConfigRate","blkio_config/device_write_iops"),device:Ne("Array","devices"),"dns-opt":Ne("Array","dns_opt"),"dns-search":Ne("Array","dns_search"),dns:Ne("Array","dns"),domainname:Ne("Value","domainname"),entrypoint:Ne("Array","entrypoint"),"env-file":Ne("Array","env_file"),"env/e":Ne("ArrayAutoRepair","environment"),expose:Ne("Array","expose"),gpus:Ne("Value","deploy/resources/reservations/devices/:first:/count"),"group-add":Ne("Array","group_add"),"health-cmd":Ne("Value","healthcheck/test"),"health-interval":Ne("Value","healthcheck/interval"),"health-retries":Ne("Value","healthcheck/retries"),"health-start-period":Ne("Value","healthcheck/start_period"),"health-timeout":Ne("Value","healthcheck/timeout"),"hostname/h":Ne("Value","hostname"),init:Ne("Switch","init"),"interactive/i":Ne("Switch","stdin_open"),ip6:Ne("Value","networks/:first:/ipv6_address"),ip:Ne("Value","networks/:first:/ipv4_address"),ipc:Ne("Value","ipc"),isolation:Ne("Value","isolation"),"label/l":Ne("Array","labels"),"link-local-ip":Ne("Array","networks/:first:/link_local_ips"),link:Ne("Array","links"),"log-driver":Ne("Array","logging/driver"),"log-opt":Ne("Map","logging/options"),"mac-address":Ne("Value","mac_address"),"memory-reservation":Ne("Value","deploy/resources/reservations/memory"),"memory-swap":Ne("Value","memswap_limit"),"memory-swappiness":Ne("Value","mem_swappiness"),"memory/m":Ne("Value","deploy/resources/limits/memory"),mount:Ne("MapArray","volumes"),name:Ne("Value","container_name"),"network-alias/net-alias":Ne("Array","networks/:first:/aliases"),"no-healthcheck":Ne("Switch","healthcheck/disable"),"oom-kill-disable":Ne("Switch","oom_kill_disable"),"oom-score-adj":Ne("Value","oom_score_adj"),pid:Ne("Value","pid"),"pids-limit":Ne("IntValue","deploy/resources/limits/pids"),platform:Ne("Value","platform"),privileged:Ne("Switch","privileged"),"publish/p":Ne("Array","ports"),pull:Ne("Value","pull_policy"),"read-only":Ne("Switch","read_only"),restart:Ne("Value","restart"),rm:Ne("Switch",""),runtime:Ne("Value","runtime"),"security-opt":Ne("Array","security_opt"),"shm-size":Ne("Value","shm_size"),"stop-signal":Ne("Value","stop_signal"),"stop-timeout":Ne("Value","stop_grace_period"),"storage-opt":Ne("Map","storage_opt"),sysctl:Ne("Array","sysctls"),tmpfs:Ne("Value","tmpfs"),"tty/t":Ne("Switch","tty"),ulimit:Ne("Ulimits","ulimits"),"user/u":Ne("Value","user"),userns:Ne("Value","userns_mode"),uts:Ne("Value","uts"),"volume/v":Ne("Array","volumes"),"volumes-from":Ne("Array","volume_from"),"workdir/w":Ne("Value","working_dir")},Fn=(i,r)=>i.split("/").reduce((a,o)=>o===":first:"?a&&Object.values(a)[0]:a&&a[o],r);return function(a){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=ea.yamlParse(ea.migrateToCommonSpec(a));if(!a||!a.services)return"";if(typeof a.services=="string")return"# invalid Docker Compose";let o=Object.assign({command:"docker run",rm:!1,detach:!1,multiline:!1,"long-args":!1,"arg-value-separator":" "},r),c=f=>{var _,f=String(f);return f.match(/[\s"]/)?(_=f.replace('"','\\"'),String('"'.concat(_,'"'))):f},m=[],S=(x,_,f)=>{let b=_;_=(b=_.includes("/")?_.split("/")[o["long-args"]?0:1]:b).length===1?"-":"--",f!==""&&f!==null?x.push("".concat(_).concat(b).concat(o["arg-value-separator"]).concat(f.toString())):x.push("".concat(_).concat(b))};return Object.entries(a.networks||[]).forEach(f=>{var _,[f,b]=f;let N=[],k=(w,d)=>S(N,w,d);b&&(b.driver&&k("driver/d",b.driver),b.attachable===!0&&k("attachable",""),b.enable_ipv6===!0&&k("ipv6",""),b.internal===!0&&k("internal",""),b.ipam&&(_=b.ipam,_.driver&&k("driver/d",_.driver),Object.entries(_.options||[]).forEach(d=>{var[d,A]=d;k("opt/o",d?"".concat(d,"=").concat(A):A)}),(_.config||[]).forEach(w=>{w.subnet&&k("subnet",w.subnet),w.ip_range&&k("ip-range",w.ip_range),w.gateway&&k("gateway",w.gateway),Object.entries(w.aux_addresses||[]).forEach(A=>{var[A,L]=A;k("aux-address",A?"".concat(A,"=").concat(L):L)})})),Object.entries(b.driver_opts||[]).forEach(d=>{var[d,A]=d;k("opt/o",d?"".concat(d,"=").concat(A):A)}),Object.entries(b.labels||[]).forEach(d=>{var[d,A]=d;k("label",d?"".concat(d,"=").concat(A):A)})),N.push((b==null?void 0:b.name)||f),m.push("docker network create ".concat(N.join(o.multiline?` \\
	`:" ")).replace(/[ ]+/g," "))}),Object.entries(a.volumes||[]).forEach(f=>{var _,[f,b]=f;let N=[],k=(w,d)=>S(N,w,d);b&&(b.driver&&k("driver/d",b.driver),Object.entries(b.driver_opts||[]).forEach(d=>{var[d,A]=d;k("opt/o",d?"".concat(d,"=").concat(A):A)}),Object.entries(b.labels||[]).forEach(d=>{var[d,A]=d;k("label",d?"".concat(d,"=").concat(A):A)})),N.push((b==null||(_=b.external)==null?void 0:_.name)||(b==null?void 0:b.name)||f),m.push("docker volume create ".concat(N.join(o.multiline?` \\
	`:" ")).replace(/[ ]+/g," "))}),Object.entries(a.services).forEach(N=>{let[,_]=N,f=[],b=(w,d)=>S(f,w,d);o.rm===!0&&f.push("--rm"),o.detach===!0&&f.push(o["long-args"]?"--detach":"-d");var N=Fn("network_mode",_),k=Fn("networks",_);N?b("network/net",N):k&&Object.entries(k).forEach(d=>{var[d,A]=d,A=String(typeof A=="string"?A:d);b("network/net",String(A))}),Object.keys(_).forEach(w=>{Object.entries(Xo).forEach(d=>{let[A,L]=d,{type:R,path:C}=L;if(C.startsWith("".concat(w,"/"))||C===w){let q=H=>b(A,H);if(d=Fn(C,_),(R==="Networks"||d)&&(R!=="Array"&&R!=="ArrayAutoRepair"||(Array.isArray(d)?d.forEach(H=>{H!==null&&(typeof H=="object"?R!=="Array"&&Object.entries(H).forEach(ee=>{var[ee,$e]=ee;q($e!==null?"".concat(ee,"=").concat(c($e)):ee)}):(H=String(c(H)),R!=="ArrayAutoRepair"||H.includes("=")?q(H):q(H.replace(/:/,"="))))}):typeof d=="string"?q(c(d)):Object.entries(d).forEach(Z=>{var[Z,ee]=Z;q(ee!==null?"".concat(Z,"=").concat(c(ee)):Z)})),R==="Ulimits"&&Object.entries(d).forEach(Z=>{var[Z,ee]=Z,{soft:$e,hard:xe}=ee;q(String(xe&&$e?"".concat(Z,"=").concat($e,":").concat(xe):"".concat(Z,"=").concat(ee)))}),R==="Switch"&&d.toString()==="true"&&q(""),R==="Value"&&q(c(d)),R==="IntValue"&&q(String(d)),R==="FloatValue"&&q(String(d)),R==="DeviceBlockIOConfigRate"&&d.forEach(Z=>{var{path:Z,rate:ee}=Z;q(String("".concat(Z,":").concat(ee)))}),R==="DeviceBlockIOConfigWeight"&&d.forEach(Z=>{var{path:Z,weight:ee}=Z;q(String("".concat(Z,":").concat(ee)))}),R==="MapArray"&&d.forEach(H=>{if(typeof H=="object"){let Z=[];Object.entries(H).forEach($e=>{var[$e,xe]=$e;return Z.push("".concat($e,"=").concat(c(xe)))}),q(String(Z.join(",")))}}),R==="Map")){let H=[];Object.entries(d).forEach(ee=>{var[ee,$e]=ee;return H.push("".concat(ee,"=").concat(c($e)))}),q(String(H.join(",")))}}})}),f.push(_.image),_.command&&f.push(_.command),m.push("".concat(o.command," ").concat(f.join(o.multiline?` \\
	`:" ")).replace(/[ ]+/g," "))}),m.join(`
`)}})})(Cl);var Xl=Cl.exports;const ec=Tl(Xl);var Ll={exports:{}};(function(la,fo){((Ir,ut)=>{la.exports=ut()})(nl,function(){function Ir(t,e,s){(e=(n=>typeof(n=((l,p)=>{if(typeof l!="object"||!l)return l;var h=l[Symbol.toPrimitive];if(h===void 0)return(p==="string"?String:Number)(l);if(typeof(h=h.call(l,p||"default"))!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")})(n,"string"))=="symbol"?n:n+"")(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s}function ut(t,e){var s,n=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,s)),n}function Tr(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ut(Object(s),!0).forEach(function(n){Ir(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ut(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function cn(t,e){if(t==null)return{};var s,n=((h,P)=>{if(h==null)return{};var v,u={};for(v in h)if({}.hasOwnProperty.call(h,v)){if(P.includes(v))continue;u[v]=h[v]}return u})(t,e);if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(t),p=0;p<l.length;p++)s=l[p],e.includes(s)||{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s]);return n}var Cr=typeof nl<"u"?nl:typeof self<"u"?self:typeof window<"u"?window:{};function lr(){throw new Error("setTimeout has not been defined")}function ds(){throw new Error("clearTimeout has not been defined")}var Ye=lr,lt=ds;function At(t){if(Ye===setTimeout)return setTimeout(t,0);if((Ye===lr||!Ye)&&setTimeout)return(Ye=setTimeout)(t,0);try{return Ye(t,0)}catch{try{return Ye.call(null,t,0)}catch{return Ye.call(this,t,0)}}}typeof Cr.setTimeout=="function"&&(Ye=setTimeout),typeof Cr.clearTimeout=="function"&&(lt=clearTimeout);var It,_t=[],Ut=!1,tt=-1;function rt(){Ut&&It&&(Ut=!1,It.length?_t=It.concat(_t):tt=-1,_t.length)&&Lr()}function Lr(){if(!Ut){for(var t=At(rt),e=(Ut=!0,_t.length);e;){for(It=_t,_t=[];++tt<e;)It&&It[tt].run();tt=-1,e=_t.length}It=null,Ut=!1,function(s){if(lt===clearTimeout)return clearTimeout(s);if((lt===ds||!lt)&&clearTimeout)return(lt=clearTimeout)(s);try{lt(s)}catch{try{return lt.call(null,s)}catch{return lt.call(this,s)}}}(t)}}function at(t,e){this.fun=t,this.array=e}at.prototype.run=function(){this.fun.apply(null,this.array)};function Qe(){}var pt=Qe,Ot=Qe,Tt=Qe,ts=Qe,rs=Qe,vn=Qe,ss=Qe,er=Cr.performance||{},un=er.now||er.mozNow||er.msNow||er.oNow||er.webkitNow||function(){return new Date().getTime()},Ls=new Date,Mr={nextTick:function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];_t.push(new at(t,e)),_t.length!==1||Ut||At(Lr)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:pt,addListener:Ot,once:Tt,off:ts,removeListener:rs,removeAllListeners:vn,emit:ss,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var s=.001*un.call(er),e=Math.floor(s),s=Math.floor(s%1*1e9);return t&&(e-=t[0],(s-=t[1])<0)&&(e--,s+=1e9),[e,s]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ls)/1e3}};function Gn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jn(t){var e,s;return t.__esModule?t:(typeof(e=t.default)=="function"?(s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)}).prototype=e.prototype:s={},Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var l=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,l.get?l:{enumerable:!0,get:function(){return t[n]}})}),s)}var ca={exports:{}};pt=(t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");return e=Object.assign({pascalCase:!1},e),(t=Array.isArray(t)?t.map(s=>s.trim()).filter(s=>s.length).join("-"):t.trim()).length===0?"":t.length===1?e.pascalCase?t.toUpperCase():t.toLowerCase():(t=(t=t!==t.toLowerCase()?(s=>{let n=!1,l=!1,p=!1;for(let P=0;P<s.length;P++){var h=s[P];n&&/[a-zA-Z]/.test(h)&&h.toUpperCase()===h?(s=s.slice(0,P)+"-"+s.slice(P),n=!1,p=l,l=!0,P++):l&&p&&/[a-zA-Z]/.test(h)&&h.toLowerCase()===h?(s=s.slice(0,P-1)+"-"+s.slice(P-1),p=l,l=!1,n=!0):(n=h.toLowerCase()===h&&h.toUpperCase()!==h,p=l,l=h.toUpperCase()===h&&h.toLowerCase()!==h)}return s})(t):t).replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(s,n)=>n.toUpperCase()).replace(/\d+(\w|$)/g,s=>s.toUpperCase()),t=t,e.pascalCase?t.charAt(0).toUpperCase()+t.slice(1):t)},ca.exports=pt,ca.exports.default=pt,Ot=ca.exports;function $t(t,e){for(var s=0,n=t.length-1;0<=n;n--){var l=t[n];l==="."?t.splice(n,1):l===".."?(t.splice(n,1),s++):s&&(t.splice(n,1),s--)}if(e)for(;s--;)t.unshift("..");return t}function Hn(t){return ho.exec(t).slice(1)}var ho=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function pn(){for(var t="",e=!1,s=arguments.length-1;-1<=s&&!e;s--){var n=0<=s?arguments[s]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e=n.charAt(0)==="/")}return(e?"/":"")+(t=$t(fs(t.split("/"),function(l){return!!l}),!e).join("/"))||"."}function Rr(t){var e=Ct(t),s=Yn(t,-1)==="/";return(t=(t=$t(fs(t.split("/"),function(n){return!!n}),!e).join("/"))||e?t:".")&&s&&(t+="/"),(e?"/":"")+t}function Ct(t){return t.charAt(0)==="/"}function Wn(){return Rr(fs(Array.prototype.slice.call(arguments,0),function(t,e){if(typeof t!="string")throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function Ms(t,e){function s(u){for(var g=0;g<u.length&&u[g]==="";g++);for(var O=u.length-1;0<=O&&u[O]==="";O--);return O<g?[]:u.slice(g,O-g+1)}t=pn(t).substr(1),e=pn(e).substr(1);for(var n=s(t.split("/")),l=s(e.split("/")),p=Math.min(n.length,l.length),h=p,P=0;P<p;P++)if(n[P]!==l[P]){h=P;break}for(var v=[],P=h;P<n.length;P++)v.push("..");return(v=v.concat(l.slice(h))).join("/")}function ua(s){var s=Hn(s),e=s[0],s=s[1];return e||s?e+(s=s&&s.substr(0,s.length-1)):"."}function Re(t,e){return t=Hn(t)[2],t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t}function mo(t){return Hn(t)[3]}Tt={extname:mo,basename:Re,dirname:ua,sep:"/",delimiter:":",relative:Ms,join:Wn,isAbsolute:Ct,normalize:Rr,resolve:pn};function fs(t,e){if(t.filter)return t.filter(e);for(var s=[],n=0;n<t.length;n++)e(t[n],n,t)&&s.push(t[n]);return s}var Yn="ab".substr(-1)==="b"?function(t,e,s){return t.substr(e,s)}:function(t,e,s){return e<0&&(e=t.length+e),t.substr(e,s)},ts=Jn(Object.freeze({__proto__:null,basename:Re,default:Tt,delimiter:":",dirname:ua,extname:mo,isAbsolute:Ct,join:Wn,normalize:Rr,relative:Ms,resolve:pn,sep:"/"}));function dn(t){return t!=null&&(!!t._isBuffer||pa(t)||typeof(t=t).readFloatLE=="function"&&typeof t.slice=="function"&&pa(t.slice(0,0)))}function pa(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var rs=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;function s(){}s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t},il=/%[sdj%]/g;function Ft(t){if(!cr(t)){for(var e=[],s=0;s<arguments.length;s++)e.push(Vt(arguments[s]));return e.join(" ")}for(var s=1,n=arguments,l=n.length,p=String(t).replace(il,function(v){if(v==="%%")return"%";if(l<=s)return v;switch(v){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}default:return v}}),h=n[s];s<l;h=n[++s])Vr(h)||!wr(h)?p+=" "+h:p+=" "+Vt(h);return p}function br(t,e){var s;return ft(Cr.process)?function(){return br(t,e).apply(this,arguments)}:Mr.noDeprecation===!0?t:(s=!1,function(){if(!s){if(Mr.throwDeprecation)throw new Error(e);Mr.traceDeprecation?console.trace(e):console.error(e),s=!0}return t.apply(this,arguments)})}var Qn,Rs={};function fn(t){return ft(Qn)&&(Qn=Mr.env.NODE_DEBUG||""),t=t.toUpperCase(),Rs[t]||(new RegExp("\\b"+t+"\\b","i").test(Qn)?Rs[t]=function(){var e=Ft.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Rs[t]=function(){}),Rs[t]}function Vt(t,e){var s={seen:[],stylize:Zn};return 3<=arguments.length&&(s.depth=arguments[2]),4<=arguments.length&&(s.colors=arguments[3]),Vs(e)?s.showHidden=e:e&&qr(s,e),ft(s.showHidden)&&(s.showHidden=!1),ft(s.depth)&&(s.depth=2),ft(s.colors)&&(s.colors=!1),ft(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=yo),Ds(s,t,s.depth)}function yo(t,e){return e=Vt.styles[e],e?"\x1B["+Vt.colors[e][0]+"m"+t+"\x1B["+Vt.colors[e][1]+"m":t}function Zn(t,e){return t}function Ds(t,e,s){if(t.customInspect&&e&&ct(e.inspect)&&e.inspect!==Vt&&(!e.constructor||e.constructor.prototype!==e))return cr(l=e.inspect(s,t))?l:Ds(t,l,s);var l=((g,O)=>{var E;return ft(O)?g.stylize("undefined","undefined"):cr(O)?(E="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",g.stylize(E,"string")):ei(O)?g.stylize(""+O,"number"):Vs(O)?g.stylize(""+O,"boolean"):Vr(O)?g.stylize("null","null"):void 0})(t,e);if(l)return l;var n,l=Object.keys(e),p=(n={},l.forEach(function(g,O){n[g]=!0}),n);if(t.showHidden&&(l=Object.getOwnPropertyNames(e)),hs(e)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return hn(e);if(l.length===0){if(ct(e))return h=e.name?": "+e.name:"",t.stylize("[Function"+h+"]","special");if(Ks(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(mn(e))return t.stylize(Date.prototype.toString.call(e),"date");if(hs(e))return hn(e)}var h="",P=!1,v=["{","}"];if(Dr(e)&&(P=!0,v=["[","]"]),ct(e)&&(h=" [Function"+(e.name?": "+e.name:"")+"]"),Ks(e)&&(h=" "+RegExp.prototype.toString.call(e)),mn(e)&&(h=" "+Date.prototype.toUTCString.call(e)),hs(e)&&(h=" "+hn(e)),l.length===0&&(!P||e.length==0))return v[0]+h+v[1];if(s<0)return Ks(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e),u=P?((g,O,E,$,y)=>{for(var I=[],T=0,M=O.length;T<M;++T)ur(O,String(T))?I.push(Xn(g,O,E,$,String(T),!0)):I.push("");return y.forEach(function(j){j.match(/^\d+$/)||I.push(Xn(g,O,E,$,j,!0))}),I})(t,e,s,p,l):l.map(function(g){return Xn(t,e,s,p,g,P)}),t.seen.pop();var u;return 60<u.reduce(function(g,O){return O.indexOf(`
`),g+O.replace(/\u001b\[\d\d?m/g,"").length+1},0)?v[0]+(h===""?"":h+`
 `)+" "+u.join(`,
  `)+" "+v[1]:v[0]+h+" "+u.join(", ")+" "+v[1]}function hn(t){return"["+Error.prototype.toString.call(t)+"]"}function Xn(t,v,s,n,l,p){var h,P,v=Object.getOwnPropertyDescriptor(v,l)||{value:v[l]};if(v.get?P=v.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):v.set&&(P=t.stylize("[Setter]","special")),ur(n,l)||(h="["+l+"]"),P||(t.seen.indexOf(v.value)<0?-1<(P=Ds(t,v.value,Vr(s)?null:s-1)).indexOf(`
`)&&(P=p?P.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+P.split(`
`).map(function(u){return"   "+u}).join(`
`)):P=t.stylize("[Circular]","special")),ft(h)){if(p&&l.match(/^\d+$/))return P;h=(h=JSON.stringify(""+l)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),t.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(h,"string"))}return h+": "+P}function Dr(t){return Array.isArray(t)}function Vs(t){return typeof t=="boolean"}function Vr(t){return t===null}function qs(t){return t==null}function ei(t){return typeof t=="number"}function cr(t){return typeof t=="string"}function da(t){return typeof t=="symbol"}function ft(t){return t===void 0}function Ks(t){return wr(t)&&ha(t)==="[object RegExp]"}function wr(t){return typeof t=="object"&&t!==null}function mn(t){return wr(t)&&ha(t)==="[object Date]"}function hs(t){return wr(t)&&(ha(t)==="[object Error]"||t instanceof Error)}function ct(t){return typeof t=="function"}function fa(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function go(t){return dn(t)}function ha(t){return Object.prototype.toString.call(t)}function Bs(t){return t<10?"0"+t.toString(10):t.toString(10)}Vt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Vt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ms=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Nt(){var t,e;console.log("%s - %s",(t=new Date,e=[Bs(t.getHours()),Bs(t.getMinutes()),Bs(t.getSeconds())].join(":"),[t.getDate(),ms[t.getMonth()],e].join(" ")),Ft.apply(null,arguments))}function qr(t,e){if(e&&wr(e))for(var s=Object.keys(e),n=s.length;n--;)t[s[n]]=e[s[n]];return t}function ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ys=Ot,Us=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/([a-z\d])([A-Z])/g,"$1"+(e=e===void 0?"_":e)+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()},Kr=ts,ti=function(t){if(Array.isArray(t))return t.map(P=>typeof P!="string"?P+"":P);t=t.trim();for(var e,s=0,n=null,l=null,p=[],h=0;h<t.length;h++)e=n,(n=t.charAt(h))!==" "||l?(n===l?l=null:n!=="'"&&n!=='"'||(l=l||n),p[s]||(p[s]=""),p[s]+=n):e!==" "&&s++;return p},ma=Jn(Object.freeze({__proto__:null,_extend:qr,debuglog:fn,default:{inherits:rs,_extend:qr,log:Nt,isBuffer:go,isPrimitive:fa,isFunction:ct,isError:hs,isDate:mn,isObject:wr,isRegExp:Ks,isUndefined:ft,isSymbol:da,isString:cr,isNumber:ei,isNullOrUndefined:qs,isNull:Vr,isBoolean:Vs,isArray:Dr,inspect:Vt,deprecate:br,format:Ft,debuglog:fn},deprecate:br,format:Ft,inherits:rs,inspect:Vt,isArray:Dr,isBoolean:Vs,isBuffer:go,isDate:mn,isError:hs,isFunction:ct,isNull:Vr,isNullOrUndefined:qs,isNumber:ei,isObject:wr,isPrimitive:fa,isRegExp:Ks,isString:cr,isSymbol:da,isUndefined:ft,log:Nt}));function zt(t,e){e=e||{},t=ti(t);for(var s,n,l,p,h,P,v=(_e=>{var ke=[],Se=!0,Ae={};for(Object.keys(_e).forEach(function(Ve){ke.push([].concat(_e[Ve],Ve))});Se;){Se=!1;for(var Ie=0;Ie<ke.length;Ie++)for(var De=Ie+1;De<ke.length;De++)if(ke[Ie].filter(function(Ve){return ke[De].indexOf(Ve)!==-1}).length){ke[Ie]=ke[Ie].concat(ke[De]),ke.splice(De,1),Se=!0;break}}return ke.forEach(function(Ve){Ve=Ve.filter(function(vt,Ze,po){return po.indexOf(vt)===Ze}),Ae[Ve.pop()]=Ve}),Ae})(e.alias||{}),u=Object.assign({"short-option-groups":!0,"camel-case-expansion":!0,"dot-notation":!0,"parse-numbers":!0,"boolean-negation":!0,"negation-prefix":"no-","duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"populate--":!1,"combine-arrays":!1,"set-placeholder-key":!1,"halt-at-non-option":!1,"strip-aliased":!1,"strip-dashed":!1},e.configuration),g=e.default||{},O=e.configObjects||[],E=e.envPrefix,$=u["populate--"],y=$?"--":"_",I={},T=e.__||ma.format,M=null,j={aliases:{},arrays:{},bools:{},strings:{},numbers:{},counts:{},normalize:{},configs:{},defaulted:{},nargs:{},coercions:{},keys:[]},K=/^-[0-9]+(\.[0-9]+)?/,W=new RegExp("^--"+u["negation-prefix"]+"(.+)"),X=([].concat(e.array).filter(Boolean).forEach(function(Se){var ke=Se.key||Se,Se=Object.keys(Se).map(function(Ae){return{boolean:"bools",string:"strings",number:"numbers"}[Ae]}).filter(Boolean).pop();Se&&(j[Se][ke]=!0),j.arrays[ke]=!0,j.keys.push(ke)}),[].concat(e.boolean).filter(Boolean).forEach(function(_e){j.bools[_e]=!0,j.keys.push(_e)}),[].concat(e.string).filter(Boolean).forEach(function(_e){j.strings[_e]=!0,j.keys.push(_e)}),[].concat(e.number).filter(Boolean).forEach(function(_e){j.numbers[_e]=!0,j.keys.push(_e)}),[].concat(e.count).filter(Boolean).forEach(function(_e){j.counts[_e]=!0,j.keys.push(_e)}),[].concat(e.normalize).filter(Boolean).forEach(function(_e){j.normalize[_e]=!0,j.keys.push(_e)}),Object.keys(e.narg||{}).forEach(function(_e){j.nargs[_e]=e.narg[_e],j.keys.push(_e)}),Object.keys(e.coerce||{}).forEach(function(_e){j.coercions[_e]=e.coerce[_e],j.keys.push(_e)}),Array.isArray(e.config)||typeof e.config=="string"?[].concat(e.config).filter(Boolean).forEach(function(_e){j.configs[_e]=!0}):Object.keys(e.config||{}).forEach(function(_e){j.configs[_e]=e.config[_e]}),[e.key,v,e.default,j.arrays].forEach(function(_e){Object.keys(_e||{}).forEach(function(ke){j.aliases[ke]||(j.aliases[ke]=[].concat(v[ke]||[]),j.aliases[ke].concat(ke).forEach(function(Se){/-/.test(Se)&&u["camel-case-expansion"]&&(Se=ys(Se))!==ke&&j.aliases[ke].indexOf(Se)===-1&&(j.aliases[ke].push(Se),I[Se]=!0)}),j.aliases[ke].concat(ke).forEach(function(Se){1<Se.length&&/[A-Z]/.test(Se)&&u["camel-case-expansion"]&&(Se=Us(Se,"-"))!==ke&&j.aliases[ke].indexOf(Se)===-1&&(j.aliases[ke].push(Se),I[Se]=!0)}),j.aliases[ke].forEach(function(Se){j.aliases[Se]=[ke].concat(j.aliases[ke].filter(function(Ae){return Se!==Ae}))}))})}),Object.keys(g).forEach(function(_e){(j.aliases[_e]||[]).forEach(function(ke){g[ke]=g[_e]})}),{_:[]}),se=(Object.keys(j.bools).forEach(function(_e){Object.prototype.hasOwnProperty.call(g,_e)&&(he(_e,g[_e]),[].concat(j.aliases[_e]||[],_e).forEach(function(ke){j.defaulted[ke]=!0}))}),[]),be=0;be<t.length;be++){var Ee,ne,pe,fe,ue=t[be];if(ue.match(/^--.+=/)||!u["short-option-groups"]&&ue.match(/^-.+=/))Le((ne=ue.match(/^--?([^=]+)=([\s\S]*)$/))[1],j.nargs)?(t.splice(be+1,0,ne[2]),be=oe(be,ne[1],t)):Le(ne[1],j.arrays)&&t.length>be+1?(t.splice(be+1,0,ne[2]),be=ie(be,ne[1],t)):he(ne[1],ne[2]);else if(ue.match(W)&&u["boolean-negation"])he(Ee=ue.match(W)[1],!1);else if(ue.match(/^--.+/)||!u["short-option-groups"]&&ue.match(/^-[^-]+/))Le(Ee=ue.match(/^--?(.+)/)[1],j.nargs)?be=oe(be,Ee,t):Le(Ee,j.arrays)&&t.length>be+1?be=ie(be,Ee,t):!((pe=j.nargs[Ee]===0?void 0:t[be+1])===void 0||pe.match(/^-/)&&!pe.match(K)||Le(Ee,j.bools)||Le(Ee,j.counts))||/^(true|false)$/.test(pe)?(he(Ee,pe),be++):he(Ee,dt(Ee));else if(ue.match(/^-.\..+=/))he((ne=ue.match(/^-([^=]+)=([\s\S]*)$/))[1],ne[2]);else if(ue.match(/^-.\..+/))pe=t[be+1],Ee=ue.match(/^-(.\..+)/)[1],pe===void 0||pe.match(/^-/)||Le(Ee,j.bools)||Le(Ee,j.counts)?he(Ee,dt(Ee)):(he(Ee,pe),be++);else if(ue.match(/^-[^-]+/)&&!ue.match(K)){for(var D=ue.slice(1,-1).split(""),G=!1,Y=0;Y<D.length;Y++){if(pe=ue.slice(Y+2),D[Y+1]&&D[Y+1]==="="){fe=ue.slice(Y+3),Le(Ee=D[Y],j.nargs)?(t.splice(be+1,0,fe),be=oe(be,Ee,t)):Le(Ee,j.arrays)&&t.length>be+1?(t.splice(be+1,0,fe),be=ie(be,Ee,t)):he(Ee,fe),G=!0;break}if(pe==="-")he(D[Y],pe);else{if(/[A-Za-z]/.test(D[Y])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(pe)){he(D[Y],pe),G=!0;break}if(D[Y+1]&&D[Y+1].match(/\W/)){he(D[Y],pe),G=!0;break}he(D[Y],dt(D[Y]))}}Ee=ue.slice(-1)[0],G||Ee==="-"||(Le(Ee,j.nargs)?be=oe(be,Ee,t):Le(Ee,j.arrays)&&t.length>be+1?be=ie(be,Ee,t):!((pe=t[be+1])===void 0||/^(-|--)[^-]/.test(pe)&&!pe.match(K)||Le(Ee,j.bools)||Le(Ee,j.counts))||/^(true|false)$/.test(pe)?(he(Ee,pe),be++):he(Ee,dt(Ee)))}else{if(ue==="--"){se=t.slice(be+1);break}if(u["halt-at-non-option"]){se=t.slice(be);break}X._.push(B("_",ue))}}function oe(_e,ke,Se){for(var Ae=Le(ke,j.nargs),Ie=0,De=_e+1;De<Se.length&&!Se[De].match(/^-[^0-9]/);De++)Ie++;Ie<Ae&&(M=Error(T("Not enough arguments following: %s",ke)));var Ve=Math.min(Ie,Ae);for(De=_e+1;De<Ve+_e+1;De++)he(ke,Se[De]);return _e+Ve}function ie(_e,ke,Se){for(var Ae=_e+1,Ie=[],De=0<_e,Ve=_e+1;Ve<Se.length;Ve++){if(/^-/.test(Se[Ve])&&!K.test(Se[Ve])){Ve===Ae&&he(ke,Xt("array")),De=!0;break}_e=Ve,Ie.push(Se[Ve])}return De?he(ke,Ie.map(function(vt){return z(ke,vt)})):Ie.forEach(function(vt){he(ke,vt)}),_e}function he(_e,ke){[].concat(j.aliases[_e]||[],_e).forEach(function(De){delete j.defaulted[De]}),/-/.test(_e)&&u["camel-case-expansion"]&&(Se=_e.split(".").map(function(De){return ys(De)}).join("."),function De(Ve,vt){j.aliases[Ve]&&j.aliases[Ve].length||(j.aliases[Ve]=[vt],I[vt]=!0),j.aliases[vt]&&j.aliases[vt].length||De(vt,Ve)}(_e,Se));var Se,Ae=z(_e,ke),Ie=_e.split(".");Be(X,Ie,Ae),j.aliases[_e]&&j.aliases[_e].forEach&&j.aliases[_e].forEach(function(De){De=De.split("."),Be(X,De,Ae)}),1<Ie.length&&u["dot-notation"]&&(j.aliases[Ie[0]]||[]).forEach(function(De){De=De.split(".");var Ve=[].concat(Ie);Ve.shift(),De=De.concat(Ve),Be(X,De,Ae)}),Le(_e,j.normalize)&&!Le(_e,j.arrays)&&[_e].concat(j.aliases[_e]||[]).forEach(function(De){X.__defineSetter__(De,function(Ve){ke=Kr.normalize(Ve)}),X.__defineGetter__(De,function(){return typeof ke=="string"?Kr.normalize(ke):ke})})}function z(_e,ke){typeof ke!="string"||ke[0]!=="'"&&ke[0]!=='"'||ke[ke.length-1]!==ke[0]||(ke=ke.substring(1,ke.length-1));var Se=B(_e,ke=(Le(_e,j.bools)||Le(_e,j.counts))&&typeof ke=="string"?ke==="true":ke);return Le(_e,j.counts)&&(vr(Se)||typeof Se=="boolean")&&(Se=gs),Se=Le(_e,j.normalize)&&Le(_e,j.arrays)?Array.isArray(ke)?ke.map(Kr.normalize):Kr.normalize(ke):Se}function B(_e,ke){var Se;return ke=Le(_e,j.strings)||Le(_e,j.coercions)||!((Se=ke)!=null&&(typeof Se=="number"||/^0x[0-9a-f]+$/i.test(Se)||!(1<Se.length&&Se[0]==="0")&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(Se))&&u["parse-numbers"]&&Number.isSafeInteger(Math.floor(ke))||!vr(ke)&&Le(_e,j.numbers))?ke:Number(ke)}function te(_e,ke){Object.keys(_e).forEach(function(Ie){var Ae=_e[Ie],Ie=ke?ke+"."+Ie:Ie;typeof Ae=="object"&&Ae!==null&&!Array.isArray(Ae)&&u["dot-notation"]?te(Ae,Ie):(!Te(X,Ie.split("."))||j.defaulted[Ie]||j.arrays[Ie]&&u["combine-arrays"])&&he(Ie,Ae)})}function ge(_e,ke){var Se;E!==void 0&&(Se=typeof E=="string"?E:"",Object.keys(Mr.env).forEach(function(Ae){var Ie;Se!==""&&Ae.lastIndexOf(Se,0)!==0||(Ie=Ae.split("__").map(function(De,Ve){return Ve===0&&(De=De.substring(Se.length)),ys(De)}),!(ke&&j.configs[Ie.join(".")]||!ke))||Te(_e,Ie)&&!j.defaulted[Ie.join(".")]||he(Ie.join("."),Mr.env[Ae])}))}function Oe(_e,ke,Se){Object.keys(Se).forEach(function(Ae){Te(_e,Ae.split("."))||(Be(_e,Ae.split("."),Se[Ae]),(ke[Ae]||[]).forEach(function(Ie){Te(_e,Ie.split("."))||Be(_e,Ie.split("."),Se[Ae])}))})}function Te(Ae,ke){var Se=Ae,Ae=((ke=u["dot-notation"]?ke:[ke.join(".")]).slice(0,-1).forEach(function(Ie){Se=Se[Ie]||{}}),ke[ke.length-1]);return typeof Se=="object"&&Ae in Se}function Be(Ie,ke,Se){var Ae=Ie,Ie=((ke=u["dot-notation"]?ke:[ke.join(".")]).slice(0,-1).forEach(function(Ze,po){Ze=ga(Ze),typeof Ae=="object"&&Ae[Ze]===void 0&&(Ae[Ze]={}),Ae=typeof Ae[Ze]!="object"||Array.isArray(Ae[Ze])?(Array.isArray(Ae[Ze])?Ae[Ze].push({}):Ae[Ze]=[Ae[Ze],{}],Ae[Ze][Ae[Ze].length-1]):Ae[Ze]}),ga(ke[ke.length-1])),De=Le(ke.join("."),j.arrays),Ve=Array.isArray(Se);let vt=u["duplicate-arguments-array"];!vt&&Le(Ie,j.nargs)&&(vt=!0,!vr(Ae[Ie])&&j.nargs[Ie]===1||Array.isArray(Ae[Ie])&&Ae[Ie].length===j.nargs[Ie])&&(Ae[Ie]=void 0),Se===gs?Ae[Ie]=gs(Ae[Ie]):Array.isArray(Ae[Ie])?vt&&De&&Ve?Ae[Ie]=u["flatten-duplicate-arrays"]?Ae[Ie].concat(Se):(Array.isArray(Ae[Ie][0])?Ae[Ie]:[Ae[Ie]]).concat([Se]):vt||!!De!=!!Ve?Ae[Ie]=Ae[Ie].concat([Se]):Ae[Ie]=Se:Ae[Ie]===void 0&&De?Ae[Ie]=Ve?Se:[Se]:vt&&!(Ae[Ie]===void 0||Le(Ie,j.bools)||Le(ke.join("."),j.bools)||Le(Ie,j.counts))?Ae[Ie]=[Ae[Ie],Se]:Ae[Ie]=Se}function Le(_e,ke){var Se=!1;return[].concat(j.aliases[_e]||[],_e).forEach(function(Ae){ke[Ae]&&(Se=ke[Ae])}),Se}function dt(_e){return!Le(_e,j.bools)&&!Le(_e,j.counts)&&""+_e in g?g[_e]:Xt((ke=>{var Se="boolean";return Le(ke,j.strings)?Se="string":Le(ke,j.numbers)?Se="number":Le(ke,j.arrays)&&(Se="array"),Se})(_e))}function Xt(_e){return{boolean:!0,string:"",number:void 0,array:[]}[_e]}function vr(_e){return _e===void 0}return ge(X,!0),ge(X,!1),s=X,Oe(n={},j.aliases,g),Object.keys(j.configs).forEach(function(_e){var ke=s[_e]||n[_e];if(ke)try{var Se=null,Ae=Kr.resolve(Mr.cwd(),ke);if(typeof j.configs[_e]=="function"){try{Se=j.configs[_e](Ae)}catch(Ie){Se=Ie}if(Se instanceof Error)return void(M=Se)}else Se=(Ie=>{throw new Error('Could not dynamically require "'+Ie+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')})(Ae);te(Se)}catch{s[_e]&&(M=Error(T("Invalid JSON config file: %s",ke)))}}),O!==void 0&&O.forEach(function(_e){te(_e)}),Oe(X,j.aliases,g),l=X,h={},Object.keys(l).forEach(function(_e){if(!h.hasOwnProperty(_e)&&typeof(p=Le(_e,j.coercions))=="function")try{var ke=p(l[_e]);[].concat(j.aliases[_e]||[],_e).forEach(Se=>{h[Se]=l[Se]=ke})}catch(Se){M=Se}}),u["set-placeholder-key"]&&(P=X,j.keys.forEach(_e=>{~_e.indexOf(".")||P[_e]===void 0&&(P[_e]=void 0)})),Object.keys(j.counts).forEach(function(_e){Te(X,_e.split("."))||he(_e,0)}),$&&se.length&&(X[y]=[]),se.forEach(function(_e){X[y].push(_e)}),u["camel-case-expansion"]&&u["strip-dashed"]&&Object.keys(X).filter(_e=>_e!=="--"&&_e.includes("-")).forEach(_e=>{delete X[_e]}),u["strip-aliased"]&&[].concat(...Object.keys(v).map(_e=>v[_e])).forEach(_e=>{u["camel-case-expansion"]&&delete X[_e.split(".").map(ke=>ys(ke)).join(".")],delete X[_e]}),{argv:X,error:M,aliases:j.aliases,newAliases:I,configuration:u}}function gs(t){return t!==void 0?t+1:1}function ya(t,e){return zt(t.slice(),e).argv}function ga(t){return t==="__proto__"?"___proto___":t}ya.detailed=function(t,e){return zt(t.slice(),e)};function ri(t){return!(!(e=t)||typeof e!="object"||(e=t,(t=Object.prototype.toString.call(e))==="[object RegExp]")||t==="[object Date]"||(s=>s.$$typeof===vo)(e));var e}var va=Gn(ya),vo=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function yn(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Fs(Array.isArray(t)?[]:{},t,e):t}function bo(t,e,s){return t.concat(e).map(function(n){return yn(n,s)})}function Fs(t,e,s){(s=s||{}).arrayMerge=s.arrayMerge||bo,s.isMergeableObject=s.isMergeableObject||ri;var n,l,p,h,P=Array.isArray(e);return P===Array.isArray(t)?P?s.arrayMerge(t,e,s):(n=t,l=e,h={},(p=s).isMergeableObject(n)&&Object.keys(n).forEach(function(v){h[v]=yn(n[v],p)}),Object.keys(l).forEach(function(v){p.isMergeableObject(l[v])&&n[v]?h[v]=Fs(n[v],l[v],p):h[v]=yn(l[v],p)}),h):yn(e,s)}Fs.all=function(t,e){if(Array.isArray(t))return t.reduce(function(s,n){return Fs(s,n,e)},{});throw new Error("first argument should be an array")};var gn=Fs,vn={exports:{}};let Br=Symbol.for("yaml.alias"),bn=Symbol.for("yaml.document"),Ur=Symbol.for("yaml.map"),ba=Symbol.for("yaml.pair"),tr=Symbol.for("yaml.scalar"),rr=Symbol.for("yaml.seq"),Lt=Symbol.for("yaml.node.type"),_r=t=>!!t&&typeof t=="object"&&t[Lt]===Br,$r=t=>!!t&&typeof t=="object"&&t[Lt]===bn,Fr=t=>!!t&&typeof t=="object"&&t[Lt]===Ur,ze=t=>!!t&&typeof t=="object"&&t[Lt]===ba,We=t=>!!t&&typeof t=="object"&&t[Lt]===tr,pr=t=>!!t&&typeof t=="object"&&t[Lt]===rr;function nt(t){if(t&&typeof t=="object")switch(t[Lt]){case Ur:case rr:return!0}return!1}function st(t){if(t&&typeof t=="object")switch(t[Lt]){case Br:case Ur:case tr:case rr:return!0}return!1}let kt=Symbol("break visit");ss=Symbol("skip children");let qt=Symbol("remove node");function Mt(t,e){e=wa(e),$r(t)?zr(null,t.contents,e,Object.freeze([t]))===qt&&(t.contents=null):zr(null,t,e,Object.freeze([]))}function zr(t,e,s,n){var l=_a(t,e,s,n);if(st(l)||ze(l))return wn(t,n,l),zr(t,l,s,n);if(typeof l!="symbol"){if(nt(e)){n=Object.freeze(n.concat(e));for(let h=0;h<e.items.length;++h){var p=zr(h,e.items[h],s,n);if(typeof p=="number")h=p-1;else{if(p===kt)return kt;p===qt&&(e.items.splice(h,1),--h)}}}else if(ze(e)){if(n=Object.freeze(n.concat(e)),t=zr("key",e.key,s,n),t===kt||(t===qt&&(e.key=null),t=zr("value",e.value,s,n),t===kt))return kt;t===qt&&(e.value=null)}}return l}async function vs(t,e){e=wa(e),$r(t)?await bs(null,t.contents,e,Object.freeze([t]))===qt&&(t.contents=null):await bs(null,t,e,Object.freeze([]))}async function bs(t,e,s,n){var l=await _a(t,e,s,n);if(st(l)||ze(l))return wn(t,n,l),bs(t,l,s,n);if(typeof l!="symbol"){if(nt(e)){n=Object.freeze(n.concat(e));for(let h=0;h<e.items.length;++h){var p=await bs(h,e.items[h],s,n);if(typeof p=="number")h=p-1;else{if(p===kt)return kt;p===qt&&(e.items.splice(h,1),--h)}}}else if(ze(e)){if(n=Object.freeze(n.concat(e)),t=await bs("key",e.key,s,n),t===kt||(t===qt&&(e.key=null),t=await bs("value",e.value,s,n),t===kt))return kt;t===qt&&(e.value=null)}}return l}function wa(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function _a(t,e,s,n){var l,p,h,P,v;return typeof s=="function"?s(t,e,n):Fr(e)?(l=s.Map)==null?void 0:l.call(s,t,e,n):pr(e)?(p=s.Seq)==null?void 0:p.call(s,t,e,n):ze(e)?(h=s.Pair)==null?void 0:h.call(s,t,e,n):We(e)?(P=s.Scalar)==null?void 0:P.call(s,t,e,n):_r(e)?(v=s.Alias)==null?void 0:v.call(s,t,e,n):void 0}function wn(t,e,s){if(e=e[e.length-1],nt(e))e.items[t]=s;else if(ze(e))t==="key"?e.key=s:e.value=s;else{if(!$r(e))throw t=_r(e)?"alias":"scalar",new Error(`Cannot replace node with ${t} parent`);e.contents=s}}Mt.BREAK=kt,Mt.SKIP=ss,Mt.REMOVE=qt,vs.BREAK=kt,vs.SKIP=ss,vs.REMOVE=qt;let wo={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Et{constructor(e,s){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Et.defaultYaml,e),this.tags=Object.assign({},Et.defaultTags,s)}clone(){var e=new Et(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){var e=new Et(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Et.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Et.defaultTags)}return e}add(e,s){this.atNextDocument&&(this.yaml={explicit:Et.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Et.defaultTags),this.atNextDocument=!1);var n,l,p=e.trim().split(/[ \t]+/),h=p.shift();switch(h){case"%TAG":return p.length!==2&&(s(0,"%TAG directive should contain exactly two parts"),p.length<2)?!1:([l,n]=p,this.tags[l]=n,!0);case"%YAML":return this.yaml.explicit=!0,p.length!==1?(s(0,"%YAML directive should contain exactly one part"),!1):([l]=p,l==="1.1"||l==="1.2"?(this.yaml.version=l,!0):(s(6,"Unsupported YAML version "+l,/^\d+\.\d+$/.test(l)),!1));default:return s(0,"Unknown directive "+h,!0),!1}}tagName(e,s){if(e==="!")return"!";if(e[0]!=="!")s("Not a valid tag: "+e);else{if(e[1]==="<")return(n=e.slice(2,-1))==="!"||n==="!!"?(s(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&s("Verbatim tags must end with a >"),n);var[,n,l]=e.match(/^(.*!)([^!]*)$/s),p=(l||s(`The ${e} tag has no suffix`),this.tags[n]);if(p)try{return p+decodeURIComponent(l)}catch(h){return s(String(h)),null}if(n==="!")return e;s("Could not resolve tag: "+e)}return null}tagString(e){for(let[s,n]of Object.entries(this.tags))if(e.startsWith(n))return s+e.substring(n.length).replace(/[!,[\]{}]/g,l=>wo[l]);return e[0]==="!"?e:`!<${e}>`}toString(e){var s=this.yaml.explicit?["%YAML "+(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags);let l;if(e&&0<n.length&&st(e.contents)){let p={};Mt(e.contents,(h,P)=>{st(P)&&P.tag&&(p[P.tag]=!0)}),l=Object.keys(p)}else l=[];for(let[p,h]of n)p==="!!"&&h==="tag:yaml.org,2002:"||e&&!l.some(P=>P.startsWith(h))||s.push(`%TAG ${p} `+h);return s.join(`
`)}}function _o(t){if(/[\x00-\x19\s,[\]{}]/.test(t))throw t=JSON.stringify(t),new Error("Anchor must not contain whitespace or control characters: "+t);return 1}function si(t){let e=new Set;return Mt(t,{Value(s,n){n.anchor&&e.add(n.anchor)}}),e}function $o(t,e){for(let n=1;;++n){var s=""+t+n;if(!e.has(s))return s}}function dr(t,e,s,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let y=0,I=n.length;y<I;++y){var l=n[y],p=dr(t,n,String(y),l);p===void 0?delete n[y]:p!==l&&(n[y]=p)}else if(n instanceof Map)for(var h of Array.from(n.keys())){var P=n.get(h),v=dr(t,n,h,P);v===void 0?n.delete(h):v!==P&&n.set(h,v)}else if(n instanceof Set)for(var u of Array.from(n)){var g=dr(t,n,u,u);g===void 0?n.delete(u):g!==u&&(n.delete(u),n.add(g))}else for(var[O,E]of Object.entries(n)){var $=dr(t,n,O,E);$===void 0?delete n[O]:$!==E&&(n[O]=$)}return t.call(e,s,n)}function ht(t,e,s){if(Array.isArray(t))return t.map((l,p)=>ht(l,String(p),s));if(t&&typeof t.toJSON=="function"){if(!s||(n=t,!We(n)&&!nt(n))||!n.anchor)return t.toJSON(e,s);let l={aliasCount:0,count:1,res:void 0};return s.anchors.set(t,l),s.onCreate=p=>{l.res=p,delete s.onCreate},n=t.toJSON(e,s),s.onCreate&&s.onCreate(n),n}var n;return typeof t!="bigint"||s!=null&&s.keep?t:Number(t)}Et.defaultYaml={explicit:!1,version:"1.2"},Et.defaultTags={"!!":"tag:yaml.org,2002:"};class Gr{constructor(e){Object.defineProperty(this,Lt,{value:e})}clone(){var e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:s,maxAliasCount:n,onAnchor:l,reviver:p}={}){if(!$r(e))throw new TypeError("A document argument is required");e={anchors:new Map,doc:e,keep:!0,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100};let h=ht(this,"",e);if(typeof l=="function")for(let{count:P,res:v}of e.anchors.values())l(v,P);return typeof p=="function"?dr(p,{"":h},"",h):h}}class Jr extends Gr{constructor(e){super(Br),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let s;return Mt(e,{Node:(n,l)=>{if(l===this)return Mt.BREAK;l.anchor===this.source&&(s=l)}}),s}toJSON(e,s){if(!s)return{source:this.source};var n,{anchors:l,doc:p,maxAliasCount:h}=s,P=this.resolve(p);if(!P)throw n="Unresolved alias (the anchor must be set before the alias): "+this.source,new ReferenceError(n);let v=l.get(P);if(v||(ht(P,null,s),v=l.get(P)),!v||v.res===void 0)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(0<=h&&(v.count+=1,v.aliasCount===0&&(v.aliasCount=function u(g,O,E){{if(_r(O)){let y=O.resolve(g),I=E&&y&&E.get(y);return I?I.count*I.aliasCount:0}if(nt(O)){let y=0;for(var $ of O.items){let I=u(g,$,E);I>y&&(y=I)}return y}if(ze(O)){let y=u(g,O.key,E),I=u(g,O.value,E);return Math.max(y,I)}}return 1}(p,P,l)),v.count*v.aliasCount>h))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return v.res}toString(e,s,n){var l,p="*"+this.source;if(e){if(_o(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source))throw l="Unresolved alias (the anchor must be set before the alias): "+this.source,new Error(l);if(e.implicitKey)return p+" "}return p}}let kr=t=>!t||typeof t!="function"&&typeof t!="object";class Me extends Gr{constructor(e){super(tr),this.value=e}toJSON(e,s){return s!=null&&s.keep?this.value:ht(this.value,e,s)}toString(){return String(this.value)}}Me.BLOCK_FOLDED="BLOCK_FOLDED",Me.BLOCK_LITERAL="BLOCK_LITERAL",Me.PLAIN="PLAIN",Me.QUOTE_DOUBLE="QUOTE_DOUBLE",Me.QUOTE_SINGLE="QUOTE_SINGLE";let ni="tag:yaml.org,2002:";function fr(t,e,s){var O,E,$;if(st(t=$r(t)?t.contents:t))return t;if(ze(t))return(n=(E=(O=s.schema[Ur]).createNode)==null?void 0:E.call(O,s.schema,null,s)).items.push(t),n;(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());var{aliasDuplicateObjects:n,onAnchor:l,onTagObj:p,schema:h,sourceObjects:P}=s;let v;if(n&&t&&typeof t=="object"){if(v=P.get(t))return v.anchor||(v.anchor=l(t)),new Jr(v.anchor);v={anchor:null,node:null},P.set(t,v)}let u=((y,I,T)=>{if(I){var M=T.filter(j=>j.tag===I),M=M.find(j=>!j.format)??M[0];if(M)return M;throw new Error(`Tag ${I} not found`)}return T.find(j=>{var K;return((K=j.identify)==null?void 0:K.call(j,y))&&!j.format})})(t,e=e!=null&&e.startsWith("!!")?ni+e.slice(2):e,h.tags);if(!u){if(!(t=t&&typeof t.toJSON=="function"?t.toJSON():t)||typeof t!="object"){let y=new Me(t);return v&&(v.node=y),y}u=!(t instanceof Map)&&Symbol.iterator in Object(t)?h[rr]:h[Ur]}p&&(p(u),delete s.onTagObj);let g=u!=null&&u.createNode?u.createNode(s.schema,t,s):typeof(($=u==null?void 0:u.nodeClass)==null?void 0:$.from)=="function"?u.nodeClass.from(s.schema,t,s):new Me(t);return e?g.tag=e:u.default||(g.tag=u.tag),v&&(v.node=g),g}function Hr(t,e,s){let n=s;for(let h=e.length-1;0<=h;--h){var l,p=e[h];n=typeof p=="number"&&Number.isInteger(p)&&0<=p?((l=[])[p]=n,l):new Map([[p,n]])}return fr(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}let ws=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class $a extends Gr{constructor(e,s){super(e),Object.defineProperty(this,"schema",{value:s,configurable:!0,enumerable:!1,writable:!0})}clone(e){var s=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(s.schema=e),s.items=s.items.map(n=>st(n)||ze(n)?n.clone(e):n),this.range&&(s.range=this.range.slice()),s}addIn(e,s){if(ws(e))this.add(s);else{var[e,...n]=e,l=this.get(e,!0);if(nt(l))l.addIn(n,s);else{if(l!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${e}. Remaining path: `+n);this.set(e,Hr(this.schema,n,s))}}}deleteIn(s){var[s,...n]=s;if(n.length===0)return this.delete(s);var l=this.get(s,!0);if(nt(l))return l.deleteIn(n);throw new Error(`Expected YAML collection at ${s}. Remaining path: `+n)}getIn(l,s){var[l,...n]=l,l=this.get(l,!0);return n.length===0?!s&&We(l)?l.value:l:nt(l)?l.getIn(n,s):void 0}hasAllNullValues(e){return this.items.every(s=>!!ze(s)&&((s=s.value)==null||e&&We(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag))}hasIn(s){var[s,...n]=s;return n.length===0?this.has(s):!!nt(s=this.get(s,!0))&&s.hasIn(n)}setIn(n,s){var[n,...l]=n;if(l.length===0)this.set(n,s);else{var p=this.get(n,!0);if(nt(p))p.setIn(l,s);else{if(p!==void 0||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: `+l);this.set(n,Hr(this.schema,l,s))}}}}let ko=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Kt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}let Er=(t,e,s)=>t.endsWith(`
`)?Kt(s,e):s.includes(`
`)?`
`+Kt(s,e):(t.endsWith(" ")?"":" ")+s,ii="flow",_n="block",$n="quoted";function kn(t,e,s="flow",{indentAtStart:n,lineWidth:l=80,minContentWidth:p=20,onFold:h,onOverflow:P}={}){if(!l||l<0)return t;l<p&&(p=0);var v=Math.max(1+p,1+l-e.length);if(t.length<=v)return t;var u=[],g={};let O=l-e.length,E=(typeof n=="number"&&(n>l-Math.max(2,p)?u.push(0):O=l-n),void 0),$,y=!1,I=-1,T=-1,M=-1;s===_n&&(I=ka(t,I,e.length))!==-1&&(O=I+v);for(let X;X=t[I+=1];){if(s===$n&&X==="\\"){switch(t[(T=I)+1]){case"x":I+=3;break;case"u":I+=5;break;case"U":I+=9;break;default:I+=1}M=I}if(X===`
`)s===_n&&(I=ka(t,I,e.length)),O=I+e.length+v,E=void 0;else if(X===" "&&$&&$!==" "&&$!==`
`&&$!=="	"&&(j=t[I+1])&&j!==" "&&j!==`
`&&j!=="	"&&(E=I),I>=O)if(E)u.push(E),O=E+v,E=void 0;else if(s===$n){for(;$===" "||$==="	";)$=X,X=t[I+=1],y=!0;var j=I>M+1?I-2:T-1;if(g[j])return t;u.push(j),g[j]=!0,O=j+v,E=void 0}else y=!0;$=X}if(y&&P&&P(),u.length===0)return t;h&&h();let K=t.slice(0,u[0]);for(let X=0;X<u.length;++X){var W=u[X];let se=u[X+1]||t.length;W===0?K=`
`+e+t.slice(0,se):(s===$n&&g[W]&&(K+=t[W]+"\\"),K+=`
`+e+t.slice(W+1,se))}return K}function ka(t,e,s){let n=e,l=e+1,p=t[l];for(;p===" "||p==="	";)if(e<l+s)p=t[++e];else{for(;(p=t[++e])&&p!==`
`;);n=e,l=e+1,p=t[l]}return n}let ai=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),En=t=>/^(%|---|\.\.\.)/m.test(t);function Ea(t,e){var s=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return s;var n=e.implicitKey,l=e.options.doubleQuotedMinMultiLineLength,p=e.indent||(En(t)?"  ":"");let h="",P=0;for(let u=0,g=s[u];g;g=s[++u])if(g===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(h+=s.slice(P,u)+"\\ ",u+=1,P=u,g="\\"),g==="\\")switch(s[u+1]){case"u":h+=s.slice(P,u);var v=s.substr(u+2,4);switch(v){case"0000":h+="\\0";break;case"0007":h+="\\a";break;case"000b":h+="\\v";break;case"001b":h+="\\e";break;case"0085":h+="\\N";break;case"00a0":h+="\\_";break;case"2028":h+="\\L";break;case"2029":h+="\\P";break;default:v.substr(0,2)==="00"?h+="\\x"+v.substr(2):h+=s.substr(u,6)}u+=5,P=u+1;break;case"n":if(n||s[u+2]==='"'||s.length<l)u+=1;else{for(h+=s.slice(P,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)h+=`
`,u+=2;h+=p,s[u+2]===" "&&(h+="\\"),u+=1,P=u+1}break;default:u+=1}return h=P?h+s.slice(P):s,n?h:kn(h,p,$n,ai(e,!1))}function Sa(t,e){var s;return e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t)?Ea(t,e):(s=e.indent||(En(t)?"  ":""),t="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
`+s)+"'",e.implicitKey?t:kn(t,s,ii,ai(e,!1)))}function Wr(t,e){var s,n,l=e.options.singleQuote;return(l!==!1&&(s=t.includes('"'),n=t.includes("'"),s&&!n||(!n||s)&&l)?Sa:Ea)(t,e)}let _s;try{_s=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{_s=/\n+(?!\n|$)/g}function Sn({comment:t,type:e,value:s},n,l,p){var{blockQuote:h,commentString:P,lineWidth:u}=n.options;if(!h||/\n[\t ]+$/.test(s)||/^\s*$/.test(s))return Wr(s,n);var v=n.indent||(n.forceBlockIndent||En(s)?"  ":""),u=h==="literal"||h!=="folded"&&e!==Me.BLOCK_FOLDED&&(e===Me.BLOCK_LITERAL||!((X,se,be)=>{if(se&&!(se<0)){var Ee=se-be,ne=X.length;if(!(ne<=Ee)){for(let pe=0,fe=0;pe<ne;++pe)if(X[pe]===`
`){if(pe-fe>Ee)return 1;if(ne-(fe=pe+1)<=Ee)return}return 1}}})(s,u,v.length));if(!s)return u?`|
`:`>
`;let g,O;for(O=s.length;0<O;--O){var E=s[O-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let $=s.substring(O);var y=$.indexOf(`
`);y===-1?g="-":s===$||y!==$.length-1?(g="+",p&&p()):g="",$&&(s=s.slice(0,-$.length),$=($=$[$.length-1]===`
`?$.slice(0,-1):$).replace(_s,"$&"+v));let I=!1,T,M=-1;for(T=0;T<s.length;++T){var j=s[T];if(j===" ")I=!0;else{if(j!==`
`)break;M=T}}let K=s.substring(0,M<T?M+1:T),W=(K&&(s=s.substring(K.length),K=K.replace(/\n+/g,"$&"+v)),(I?v?"2":"1":"")+g);if(t&&(W+=" "+P(t.replace(/ ?[\r\n]+/g," ")),l)&&l(),!u){y=s.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&"+v);let X=!1;if(p=ai(n,!0),P=(h!=="folded"&&e!==Me.BLOCK_FOLDED&&(p.onOverflow=()=>{X=!0}),kn(""+K+y+$,v,_n,p)),!X)return`>${W}
`+v+P}return s=s.replace(/\n+/g,"$&"+v),`|${W}
`+v+K+s+$}function Yr(t,e,s,n){let{implicitKey:l,inFlow:p}=e,h=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),P=t.type;t=O=>{switch(O){case Me.BLOCK_FOLDED:case Me.BLOCK_LITERAL:return l||p?Wr(h.value,e):Sn(h,e,s,n);case Me.QUOTE_DOUBLE:return Ea(h.value,e);case Me.QUOTE_SINGLE:return Sa(h.value,e);case Me.PLAIN:{var E=h,$=e,y=s,I=n,{type:T,value:M}=E,{actualString:j,implicitKey:K,indent:W,indentStep:X,inFlow:se}=$;if(K&&M.includes(`
`)||se&&/[[\]{},]/.test(M))return Wr(M,$);if(!M||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(M))return K||se||!M.includes(`
`)?Wr(M,$):Sn(E,$,y,I);if(!K&&!se&&T!==Me.PLAIN&&M.includes(`
`))return Sn(E,$,y,I);if(En(M)){if(W==="")return $.forceBlockIndent=!0,Sn(E,$,y,I);if(K&&W===X)return Wr(M,$)}let be=M.replace(/\n+/g,`$&
`+W);if(j){var se=fe=>{var ue;return fe.default&&fe.tag!=="tag:yaml.org,2002:str"&&((ue=fe.test)==null?void 0:ue.test(be))},{compat:T,tags:E}=$.doc.schema;if(E.some(se)||T!=null&&T.some(se))return Wr(M,$)}return K?be:kn(be,W,ii,ai($,!1))}default:return null}};let v=t(P=P!==Me.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(h.value)?Me.QUOTE_DOUBLE:P);if(v===null){var{defaultKeyType:g,defaultStringType:u}=e.options,g=l&&g||u;if((v=t(g))===null)throw new Error("Unsupported default string type "+g)}return v}function Pa(t,e){e=Object.assign({blockQuote:!0,commentString:ko,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(e.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:e.flowCollectionPadding?" ":"",indent:"",indentStep:typeof e.indent=="number"?" ".repeat(e.indent):"  ",inFlow:s,options:e}}function Qr(u,e,s,n){var E;if(ze(u))return u.toString(e,s,n);if(_r(u)){if(e.doc.directives)return u.toString(e);if((E=e.resolvedAliases)!=null&&E.has(u))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(u):e.resolvedAliases=new Set([u]),u=u.resolve(e.doc)}let l;var p,h,P,v,u=st(u)?u:e.doc.createNode(u,{onTagObj:$=>l=$}),g=(l=l||(($,y)=>{var j;if(y.tag){var I=$.filter(K=>K.tag===y.tag);if(0<I.length)return I.find(K=>K.format===y.format)??I[0]}let T,M;if(We(y)){M=y.value;let K=$.filter(W=>{var X;return(X=W.identify)==null?void 0:X.call(W,M)});1<K.length&&0<(I=K.filter(W=>W.test)).length&&(K=I),T=K.find(W=>W.format===y.format)??K.find(W=>!W.format)}else M=y,T=$.find(K=>K.nodeClass&&M instanceof K.nodeClass);if(T)return T;throw I=((j=M==null?void 0:M.constructor)==null?void 0:j.name)??typeof M,new Error(`Tag not resolved for ${I} value`)})(e.doc.schema.tags,u),[O,p,{anchors:h,doc:P}]=[u,l,e],P.directives?(v=[],(g=(We(O)||nt(O))&&O.anchor)&&_o(g)&&(h.add(g),v.push("&"+g)),(h=O.tag||(p.default?null:p.tag))&&v.push(P.directives.tagString(h)),v.join(" ")):""),O=(0<g.length&&(e.indentAtStart=(e.indentAtStart??0)+g.length+1),typeof l.stringify=="function"?l.stringify(u,e,s,n):We(u)?Yr(u,e,s,n):u.toString(e,s,n));return g?We(u)||O[0]==="{"||O[0]==="["?g+" "+O:g+`
`+e.indent+O:O}function Pn(t,e){t!=="debug"&&t!=="warn"||console.warn(e)}let Gt={identify:t=>t==="<<"||typeof t=="symbol"&&t.description==="<<",default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Me(Symbol("<<")),{addToJSMap:oi}),stringify:()=>"<<"};function oi(t,e,s){if(s=t&&_r(s)?s.resolve(t.doc):s,pr(s))for(var n of s.items)li(t,e,n);else if(Array.isArray(s))for(var l of s)li(t,e,l);else li(t,e,s)}function li(t,e,s){var n=t&&_r(s)?s.resolve(t.doc):s;if(!Fr(n))throw new Error("Merge sources must be maps or map aliases");for(let[l,p]of n.toJSON(null,t,Map))e instanceof Map?e.has(l)||e.set(l,p):e instanceof Set?e.add(l):Object.prototype.hasOwnProperty.call(e,l)||Object.defineProperty(e,l,{value:p,writable:!0,enumerable:!0,configurable:!0})}function Zr(t,e,{key:s,value:n}){var l,p;return st(s)&&s.addToJSMap?s.addToJSMap(t,e,n):(l=t,p=s,(Gt.identify(p)||We(p)&&(!p.type||p.type===Me.PLAIN)&&Gt.identify(p.value))&&(l!=null&&l.doc.schema.tags.some(h=>h.tag===Gt.tag&&h.default))?oi(t,e,n):(p=ht(s,"",t),e instanceof Map?e.set(p,ht(n,p,t)):e instanceof Set?e.add(p):(n=ht(n,l=((h,P,v)=>{if(P===null)return"";if(typeof P!="object")return String(P);if(st(h)&&(v!=null&&v.doc)){var u,g=Pa(v.doc,{});g.anchors=new Set;for(u of v.anchors.keys())g.anchors.add(u.anchor);if(g.inFlow=!0,g.inStringifyKey=!0,h=h.toString(g),!v.mapKeyWarned){let O=JSON.stringify(h);40<O.length&&(O=O.substring(0,36)+'..."'),Pn(v.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${O}. Set mapAsMap: true to use object keys.`),v.mapKeyWarned=!0}return h}return JSON.stringify(P)})(s,p,t),t),l in e?Object.defineProperty(e,l,{value:n,writable:!0,enumerable:!0,configurable:!0}):e[l]=n))),e}function zs(t,e,s){return t=fr(t,void 0,s),e=fr(e,void 0,s),new mt(t,e)}class mt{constructor(e,s=null){Object.defineProperty(this,Lt,{value:ba}),this.key=e,this.value=s}clone(e){let{key:s,value:n}=this;return st(s)&&(s=s.clone(e)),st(n)&&(n=n.clone(e)),new mt(s,n)}toJSON(e,s){return Zr(s,s!=null&&s.mapAsMap?new Map:{},this)}toString(e,s,n){if(e!=null&&e.doc){var[{key:e,value:s},n,l,p]=[this,e,s,n],{allNullValues:h,doc:P,indent:v,indentStep:u,options:{commentString:g,indentSeq:O,simpleKeys:E}}=n;let T=st(e)&&e.comment||null;if(E){if(T)throw new Error("With simple keys, key nodes cannot have comments");if(nt(e)||!st(e)&&typeof e=="object")throw new Error("With simple keys, collection cannot be used as a key value")}let M=!E&&(!e||T&&s==null&&!n.inFlow||nt(e)||(We(e)?e.type===Me.BLOCK_FOLDED||e.type===Me.BLOCK_LITERAL:typeof e=="object")),j=(n=Object.assign({},n,{allNullValues:!1,implicitKey:!M&&(E||!h),indent:v+u}),!1),K=!1,W=Qr(e,n,()=>j=!0,()=>K=!0);if(!M&&!n.inFlow&&1024<W.length){if(E)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");M=!0}if(n.inFlow){if(h||s==null)return j&&l&&l(),W===""?"?":M?"? "+W:W}else if(h&&!E||s==null&&M)return W="? "+W,T&&!j?W+=Er(W,n.indent,g(T)):K&&p&&p(),W;j&&(T=null),M?(T&&(W+=Er(W,n.indent,g(T))),W=`? ${W}
${v}:`):(W+=":",T&&(W+=Er(W,n.indent,g(T))));let X,se,be,Ee=(st(s)?(X=!!s.spaceBefore,se=s.commentBefore,be=s.comment):(X=!1,se=null,be=null,s&&typeof s=="object"&&(s=P.createNode(s))),n.implicitKey=!1,M||T||!We(s)||(n.indentAtStart=W.length+1),K=!1,O||!(2<=u.length)||n.inFlow||M||!pr(s)||s.flow||s.tag||s.anchor||(n.indent=n.indent.substring(2)),!1),ne=(e=Qr(s,n,()=>Ee=!0,()=>K=!0)," ");if(T||X||se)ne=X?`
`:"",se&&(h=g(se),ne+=`
`+Kt(h,n.indent)),e!==""||n.inFlow?ne+=`
`+n.indent:ne===`
`&&(ne=`

`);else if(!M&&nt(s)){if(E=e[0],v=e.indexOf(`
`),P=v!==-1,O=n.inFlow??s.flow??s.items.length===0,P||!O){let pe=!1;if(P&&(E==="&"||E==="!")){let fe=e.indexOf(" ");((fe=E==="&"&&fe!==-1&&fe<v&&e[fe+1]==="!"?e.indexOf(" ",fe+1):fe)===-1||v<fe)&&(pe=!0)}pe||(ne=`
`+n.indent)}}else e!==""&&e[0]!==`
`||(ne="");return W+=ne+e,n.inFlow?Ee&&l&&l():be&&!Ee?W+=Er(W,n.indent,g(be)):K&&p&&p(),W}return JSON.stringify(this)}}function Jt(t,e,s){return(e.inFlow??t.flow?al:Eo)(t,e,s)}function Eo({comment:t,items:e},s,{blockItemPrefix:n,flowChars:l,itemIndent:p,onChompKeep:h,onComment:P}){var{indent:v,options:{commentString:u}}=s,g=Object.assign({},s,{indent:p,type:null});let O=!1;var E=[];for(let M=0;M<e.length;++M){var $,y=e[M];let j=null,K=(st(y)?(!O&&y.spaceBefore&&E.push(""),$s(s,E,y.commentBefore,O),y.comment&&(j=y.comment)):ze(y)&&($=st(y.key)?y.key:null)&&(!O&&$.spaceBefore&&E.push(""),$s(s,E,$.commentBefore,O)),O=!1,Qr(y,g,()=>j=null,()=>O=!0));j&&(K+=Er(K,p,u(j))),O&&j&&(O=!1),E.push(n+K)}let I;if(E.length===0)I=l.start+l.end;else{I=E[0];for(let M=1;M<E.length;++M){var T=E[M];I+=T?`
`+v+T:`
`}}return t?(I+=`
`+Kt(u(t),v),P&&P()):O&&h&&h(),I}function al({items:t},e,{flowChars:T,itemIndent:n}){var{indent:l,indentStep:p,flowCollectionPadding:h,options:{commentString:P}}=e,v=(n+=p,Object.assign({},e,{indent:n,inFlow:!0,type:null}));let u=!1,g=0;var O=[];for(let K=0;K<t.length;++K){var E,$,y=t[K];let W=null,X=(st(y)?(y.spaceBefore&&O.push(""),$s(e,O,y.commentBefore,!1),y.comment&&(W=y.comment)):ze(y)&&((E=st(y.key)?y.key:null)&&(E.spaceBefore&&O.push(""),$s(e,O,E.commentBefore,!1),E.comment)&&(u=!0),($=st(y.value)?y.value:null)?($.comment&&(W=$.comment),$.commentBefore&&(u=!0)):y.value==null&&(E!=null&&E.comment)&&(W=E.comment)),W&&(u=!0),Qr(y,v,()=>W=null));K<t.length-1&&(X+=","),W&&(X+=Er(X,n,P(W))),!u&&(O.length>g||X.includes(`
`))&&(u=!0),O.push(X),g=O.length}var I,{start:T,end:M}=T;if(O.length===0)return T+M;if(u||(I=O.reduce((K,W)=>K+W.length+2,2),u=0<e.options.lineWidth&&I>e.options.lineWidth),u){let K=T;for(var j of O)K+=j?`
`+p+l+j:`
`;return K+`
`+l+M}return""+T+h+O.join(" ")+h+M}function $s({indent:t,options:{commentString:e}},s,n,l){(n=n&&l?n.replace(/^\n+/,""):n)&&(l=Kt(e(n),t),s.push(l.trimStart()))}function ks(t,e){var s,n=We(e)?e.value:e;for(s of t)if(ze(s)&&(s.key===e||s.key===n||We(s.key)&&s.key.value===n))return s}class St extends $a{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ur,e),this.items=[]}static from(e,s,n){let{keepUndefined:l,replacer:p}=n,h=new this(e);var P=(O,E)=>{if(typeof p=="function")E=p.call(s,O,E);else if(Array.isArray(p)&&!p.includes(O))return;E===void 0&&!l||h.items.push(zs(O,E,n))};if(s instanceof Map)for(var[v,u]of s)P(v,u);else if(s&&typeof s=="object")for(var g of Object.keys(s))P(g,s[g]);return typeof e.sortMapEntries=="function"&&h.items.sort(e.sortMapEntries),h}add(e,s){var p;let n;n=ze(e)?e:e&&typeof e=="object"&&"key"in e?new mt(e.key,e.value):new mt(e,e==null?void 0:e.value),e=ks(this.items,n.key);let l=(p=this.schema)==null?void 0:p.sortMapEntries;if(e){if(!s)throw new Error(`Key ${n.key} already set`);We(e.value)&&kr(n.value)?e.value.value=n.value:e.value=n.value}else!l||(s=this.items.findIndex(h=>l(n,h)<0))===-1?this.items.push(n):this.items.splice(s,0,n)}delete(e){return e=ks(this.items,e),!!e&&0<this.items.splice(this.items.indexOf(e),1).length}get(e,s){var n;return e=(n=ks(this.items,e))==null?void 0:n.value,(!s&&We(e)?e.value:e)??void 0}has(e){return!!ks(this.items,e)}set(e,s){this.add(new mt(e,s),!0)}toJSON(e,s,n){var l,p=n?new n:s!=null&&s.mapAsMap?new Map:{};s!=null&&s.onCreate&&s.onCreate(p);for(l of this.items)Zr(s,p,l);return p}toString(e,s,n){if(!e)return JSON.stringify(this);for(var l of this.items)if(!ze(l))throw new Error(`Map items must all be pairs; found ${JSON.stringify(l)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Jt(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:s})}}let Xr={collection:"map",default:!0,nodeClass:St,tag:"tag:yaml.org,2002:map",resolve(t,e){return Fr(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,s)=>St.from(t,e,s)};class sr extends $a{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(rr,e),this.items=[]}add(e){this.items.push(e)}delete(e){return e=hr(e),typeof e=="number"&&0<this.items.splice(e,1).length}get(n,s){var n=hr(n);if(typeof n=="number")return n=this.items[n],!s&&We(n)?n.value:n}has(e){return e=hr(e),typeof e=="number"&&e<this.items.length}set(e,s){var n=hr(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);e=this.items[n],We(e)&&kr(s)?e.value=s:this.items[n]=s}toJSON(e,s){var n,l=[];s!=null&&s.onCreate&&s.onCreate(l);let p=0;for(n of this.items)l.push(ht(n,String(p++),s));return l}toString(e,s,n){return e?Jt(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:s}):JSON.stringify(this)}static from(e,s,n){var l,p=n.replacer,h=new this(e);if(s&&Symbol.iterator in Object(s)){let v=0;for(var P of s)typeof p=="function"&&(l=s instanceof Set?P:String(v++),P=p.call(s,l,P)),h.items.push(fr(P,void 0,n))}return h}}function hr(t){let e=We(t)?t.value:t;return typeof(e=e&&typeof e=="string"?Number(e):e)=="number"&&Number.isInteger(e)&&0<=e?e:null}let Es={collection:"seq",default:!0,nodeClass:sr,tag:"tag:yaml.org,2002:seq",resolve(t,e){return pr(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,s)=>sr.from(t,e,s)},On={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,s,n){return Yr(t,e=Object.assign({actualString:!0},e),s,n)}},Ss={identify:t=>t==null,createNode:()=>new Me(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Me(null),stringify:({source:t},e)=>typeof t=="string"&&Ss.test.test(t)?t:e.options.nullStr},es={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Me(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},s){return t&&es.test.test(t)&&e===(t[0]==="t"||t[0]==="T")?t:e?s.options.trueStr:s.options.falseStr}};function Ht({format:t,minFractionDigits:e,tag:s,value:n}){if(typeof n=="bigint")return String(n);var l=typeof n=="number"?n:Number(n);if(!isFinite(l))return isNaN(l)?".nan":l<0?"-.inf":".inf";let p=JSON.stringify(n);if(!t&&e&&(!s||s==="tag:yaml.org,2002:float")&&/^\d/.test(p)){let h=p.indexOf("."),P=(h<0&&(h=p.length,p+="."),e-(p.length-h-1));for(;0<P--;)p+="0"}return p}pt={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ht},Tt={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){var e=Number(t.value);return isFinite(e)?e.toExponential():Ht(t)}},Ot={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){var e=new Me(parseFloat(t)),s=t.indexOf(".");return s!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-s-1),e},stringify:Ht};let Ps=t=>typeof t=="bigint"||Number.isInteger(t),ci=(t,e,s,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),s);function Oa(t,e,s){var n=t.value;return Ps(n)&&0<=n?s+n.toString(e):Ht(t)}var ts={identify:t=>Ps(t)&&0<=t,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,s)=>ci(t,2,8,s),stringify:t=>Oa(t,8,"0o")},rs={identify:Ps,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,s)=>ci(t,0,10,s),stringify:Ht},ss={identify:t=>Ps(t)&&0<=t,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,s)=>ci(t,2,16,s),stringify:t=>Oa(t,16,"0x")},So=[Xr,Es,On,Ss,es,ts,rs,ss,pt,Tt,Ot];function ui(t){return typeof t=="bigint"||Number.isInteger(t)}var mr=({value:t})=>JSON.stringify(t),mr=[Xr,Es].concat([{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:mr},{identify:t=>t==null,createNode:()=>new Me(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:mr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:mr},{identify:ui,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:s})=>s?BigInt(t):parseInt(t,10),stringify:({value:t})=>ui(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:mr}],{default:!0,tag:"",test:/^/,resolve(t,e){return e("Unresolved plain scalar "+JSON.stringify(t)),t}}),Nn={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob!="function")return e("This environment does not support reading binary tags; either Buffer or atob is required"),t;var s=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(s.length);for(let l=0;l<s.length;++l)n[l]=s.charCodeAt(l);return n},stringify({comment:t,type:e,value:s},n,l,p){var h=s;let P;if(typeof btoa!="function")throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let O="";for(let E=0;E<h.length;++E)O+=String.fromCharCode(h[E]);P=btoa(O)}if((e=e||Me.BLOCK_LITERAL)!==Me.QUOTE_DOUBLE){var v=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),u=Math.ceil(P.length/v),g=new Array(u);for(let O=0,E=0;O<u;++O,E+=v)g[O]=P.substr(E,v);P=g.join(e===Me.BLOCK_LITERAL?`
`:" ")}return Yr({comment:t,type:e,value:P},n,l,p)}};function Na(t,e){if(pr(t))for(let l=0;l<t.items.length;++l){let p=t.items[l];var s,n;ze(p)||(Fr(p)&&(1<p.items.length&&e("Each pair must have its own sequence indicator"),s=p.items[0]||new mt(new Me(null)),p.commentBefore&&(s.key.commentBefore=s.key.commentBefore?p.commentBefore+`
`+s.key.commentBefore:p.commentBefore),p.comment&&((n=s.value??s.key).comment=n.comment?p.comment+`
`+n.comment:p.comment),p=s),t.items[l]=ze(p)?p:new mt(p))}else e("Expected a sequence for this tag");return t}function Sr(t,e,s){var n=s.replacer,l=new sr(t);l.tag="tag:yaml.org,2002:pairs";let p=0;if(e&&Symbol.iterator in Object(e))for(var h of e){typeof n=="function"&&(h=n.call(e,String(p++),h));let v,u;if(Array.isArray(h)){if(h.length!==2)throw new TypeError("Expected [key, value] tuple: "+h);v=h[0],u=h[1]}else if(h&&h instanceof Object){var P=Object.keys(h);if(P.length!==1)throw new TypeError(`Expected tuple with one key, not ${P.length} keys`);v=P[0],u=h[v]}else v=h;l.items.push(zs(v,u,s))}return l}var ns={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Na,createNode:Sr};class Os extends sr{constructor(){super(),this.add=St.prototype.add.bind(this),this.delete=St.prototype.delete.bind(this),this.get=St.prototype.get.bind(this),this.has=St.prototype.has.bind(this),this.set=St.prototype.set.bind(this),this.tag=Os.tag}toJSON(e,s){if(!s)return super.toJSON(e);var n,l=new Map;s!=null&&s.onCreate&&s.onCreate(l);for(n of this.items){let p,h;if(ze(n)?(p=ht(n.key,"",s),h=ht(n.value,p,s)):p=ht(n,"",s),l.has(p))throw new Error("Ordered maps must not include duplicate keys");l.set(p,h)}return l}static from(e,s,n){return e=Sr(e,s,n),s=new this,s.items=e.items,s}}Os.tag="tag:yaml.org,2002:omap";var pi={collection:"seq",identify:t=>t instanceof Map,nodeClass:Os,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){var s,n=Na(n,e),l=[];for({key:s}of n.items)We(s)&&(l.includes(s.value)?e("Ordered maps must not include duplicate keys: "+s.value):l.push(s.value));return Object.assign(new Os,n)},createNode:(t,e,s)=>Os.from(t,e,s)};function ja({value:t,source:e},s){var n=t?Gs:xa;return e&&n.test.test(e)?e:t?s.options.trueStr:s.options.falseStr}let Gs={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Me(!0),stringify:ja},xa={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Me(!1),stringify:ja};var nr={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ht},Rt={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){var e=Number(t.value);return isFinite(e)?e.toExponential():Ht(t)}},je={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){var e=new Me(parseFloat(t.replace(/_/g,""))),s=t.indexOf(".");return s!==-1&&(t=t.substring(s+1).replace(/_/g,""))[t.length-1]==="0"&&(e.minFractionDigits=t.length),e},stringify:Ht};let Js=t=>typeof t=="bigint"||Number.isInteger(t);function jn(t,e,s,{intAsBigInt:n}){var l=t[0];if(l!=="-"&&l!=="+"||(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(s){case 2:t="0b"+t;break;case 8:t="0o"+t;break;case 16:t="0x"+t}let h=BigInt(t);return l==="-"?BigInt(-1)*h:h}let p=parseInt(t,s);return l==="-"?-1*p:p}function qe(t,e,s){var n=t.value;return Js(n)?(e=n.toString(e),n<0?"-"+s+e.substr(1):s+e):Ht(t)}var xn={identify:Js,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,s)=>jn(t,2,2,s),stringify:t=>qe(t,2,"0b")},Ke={identify:Js,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,s)=>jn(t,1,8,s),stringify:t=>qe(t,8,"0")},Je={identify:Js,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,s)=>jn(t,0,10,s),stringify:Ht},Ni={identify:Js,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,s)=>jn(t,2,16,s),stringify:t=>qe(t,16,"0x")};class Ns extends St{constructor(e){super(e),this.tag=Ns.tag}add(e){let s;s=ze(e)?e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?new mt(e.key,null):new mt(e,null),ks(this.items,s.key)||this.items.push(s)}get(e,s){return e=ks(this.items,e),!s&&ze(e)?We(e.key)?e.key.value:e.key:e}set(e,s){if(typeof s!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof s);var n=ks(this.items,e);n&&!s?this.items.splice(this.items.indexOf(n),1):!n&&s&&this.items.push(new mt(e))}toJSON(e,s){return super.toJSON(e,s,Set)}toString(e,s,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),s,n);throw new Error("Set items must all have null values")}static from(e,s,n){var l=n.replacer,p=new this(e);if(s&&Symbol.iterator in Object(s))for(var h of s)typeof l=="function"&&(h=l.call(s,h,h)),p.items.push(zs(h,null,n));return p}}Ns.tag="tag:yaml.org,2002:set";var di={collection:"map",identify:t=>t instanceof Set,nodeClass:Ns,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,s)=>Ns.from(t,e,s),resolve(t,e){if(Fr(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ns,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function fi(n,e){var s=n[0],n=s==="-"||s==="+"?n.substring(1):n;let l=p=>(e?BigInt:Number)(p);return n=n.replace(/_/g,"").split(":").reduce((p,h)=>p*l(60)+l(h),l(0)),s==="-"?l(-1)*n:n}function hi(l){let e=l.value,s=h=>h;if(typeof e=="bigint")s=h=>BigInt(h);else if(isNaN(e)||!isFinite(e))return Ht(l);let n="";e<0&&(n="-",e*=s(-1));var l=s(60),p=[e%l];return e<60?p.unshift(0):(e=(e-p[0])/l,p.unshift(e%l),60<=e&&(e=(e-p[0])/l,p.unshift(e))),n+p.map(h=>String(h).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var yr={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:s})=>fi(t,s),stringify:hi},Hs={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>fi(t,!1),stringify:hi};let mi={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){if(t=t.match(mi.test),!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");var[,e,s,n,l,p,h]=t.map(Number),P=t[7]?Number((t[7]+"00").substr(1,3)):0;let v=Date.UTC(e,s-1,n,l||0,p||0,h||0,P);if(e=t[8],e&&e!=="Z"){let u=fi(e,!1);Math.abs(u)<30&&(u*=60),v-=6e4*u}return new Date(v)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")};xn=[Xr,Es,On,Ss,Gs,xa,xn,Ke,Je,Ni,nr,Rt,je,Nn,Gt,pi,ns,di,yr,Hs,mi];let Aa=new Map([["core",So],["failsafe",[Xr,Es,On]],["json",mr],["yaml11",xn],["yaml-1.1",xn]]),bt={binary:Nn,bool:es,float:Ot,floatExp:Tt,floatNaN:pt,floatTime:Hs,int:rs,intHex:ss,intOct:ts,intTime:yr,map:Xr,merge:Gt,null:Ss,omap:pi,pairs:ns,seq:Es,set:di,timestamp:mi},Ws={"tag:yaml.org,2002:binary":Nn,"tag:yaml.org,2002:merge":Gt,"tag:yaml.org,2002:omap":pi,"tag:yaml.org,2002:pairs":ns,"tag:yaml.org,2002:set":di,"tag:yaml.org,2002:timestamp":mi};function yi(t,e,s){var n=Aa.get(e);if(n&&!t)return s&&!n.includes(Gt)?n.concat(Gt):n.slice();let l=n;if(!l){if(!Array.isArray(t))throw n=Array.from(Aa.keys()).filter(h=>h!=="yaml11").map(h=>JSON.stringify(h)).join(", "),new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`);l=[]}if(Array.isArray(t))for(var p of t)l=l.concat(p);else typeof t=="function"&&(l=t(l.slice()));return(l=s?l.concat(Gt):l).reduce((h,P)=>{var v=typeof P=="string"?bt[P]:P;if(v)return h.includes(v)||h.push(v),h;throw v=JSON.stringify(P),h=Object.keys(bt).map(u=>JSON.stringify(u)).join(", "),new Error(`Unknown custom tag ${v}; use one of `+h)},[])}let Po=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Ys{constructor({compat:e,customTags:s,merge:n,resolveKnownTags:l,schema:p,sortMapEntries:h,toStringDefaults:P}){this.compat=Array.isArray(e)?yi(e,"compat"):e?yi(null,e):null,this.name=typeof p=="string"&&p||"core",this.knownTags=l?Ws:{},this.tags=yi(s,this.name,n),this.toStringOptions=P??null,Object.defineProperty(this,Ur,{value:Xr}),Object.defineProperty(this,tr,{value:On}),Object.defineProperty(this,rr,{value:Es}),this.sortMapEntries=typeof h=="function"?h:h===!0?Po:null}clone(){var e=Object.create(Ys.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Dt{constructor(e,s,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Lt,{value:bn});let l=null;typeof s=="function"||Array.isArray(s)?l=s:n===void 0&&s&&(n=s,s=void 0),s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);let p=(this.options=s).version;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(p=this.directives.yaml.version)):this.directives=new Et({version:p}),this.setSchema(p,n),this.contents=e===void 0?null:this.createNode(e,l,n)}clone(){var e=Object.create(Dt.prototype,{[Lt]:{value:bn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=st(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){js(this.contents)&&this.contents.add(e)}addIn(e,s){js(this.contents)&&this.contents.addIn(e,s)}createAlias(e,s){var n;return e.anchor||(n=si(this),e.anchor=!s||n.has(s)?$o(s||"a",n):s),new Jr(e.anchor)}createNode($,g,h){let l;typeof g=="function"?($=g.call({"":$},"",$),l=g):Array.isArray(g)?(0<(p=g.filter(y=>typeof y=="number"||y instanceof String||y instanceof Number).map(String)).length&&(g=g.concat(p)),l=g):h===void 0&&g&&(h=g,g=void 0);var{aliasDuplicateObjects:p,anchorPrefix:g,flow:h,keepUndefined:P,onTagObj:v,tag:u}=h??{},{onAnchor:g,setAnchors:O,sourceObjects:E}=((y,I)=>{let T=[],M=new Map,j=null;return{onAnchor:K=>(T.push(K),j=j||si(y),K=$o(I,j),j.add(K),K),setAnchors:()=>{for(var K of T){var W,X=M.get(K);if(typeof X!="object"||!X.anchor||!We(X.node)&&!nt(X.node))throw(W=new Error("Failed to resolve repeated object (this should not happen)")).source=K,W;X.node.anchor=X.anchor}},sourceObjects:M}})(this,g||"a"),$=fr($,u,{aliasDuplicateObjects:p??!0,keepUndefined:P??!1,onAnchor:g,onTagObj:v,replacer:l,schema:this.schema,sourceObjects:E});return h&&nt($)&&($.flow=!0),O(),$}createPair(e,s,n={}){return e=this.createNode(e,null,n),s=this.createNode(s,null,n),new mt(e,s)}delete(e){return!!js(this.contents)&&this.contents.delete(e)}deleteIn(e){return ws(e)?this.contents!=null&&!(this.contents=null):!!js(this.contents)&&this.contents.deleteIn(e)}get(e,s){return nt(this.contents)?this.contents.get(e,s):void 0}getIn(e,s){return ws(e)?!s&&We(this.contents)?this.contents.value:this.contents:nt(this.contents)?this.contents.getIn(e,s):void 0}has(e){return!!nt(this.contents)&&this.contents.has(e)}hasIn(e){return ws(e)?this.contents!==void 0:!!nt(this.contents)&&this.contents.hasIn(e)}set(e,s){this.contents==null?this.contents=Hr(this.schema,[e],s):js(this.contents)&&this.contents.set(e,s)}setIn(e,s){ws(e)?this.contents=s:this.contents==null?this.contents=Hr(this.schema,Array.from(e),s):js(this.contents)&&this.contents.setIn(e,s)}setSchema(e,s={}){let n;switch(e=typeof e=="number"?String(e):e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Et({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Et({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:var l=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: "+l)}if(s.schema instanceof Object)this.schema=s.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Ys(Object.assign(n,s))}}toJS({json:e,jsonArg:s,mapAsMap:n,maxAliasCount:l,onAnchor:p,reviver:h}={}){e={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof l=="number"?l:100};let P=ht(this.contents,s??"",e);if(typeof p=="function")for(let{count:v,res:u}of e.anchors.values())p(u,v);return typeof h=="function"?dr(h,{"":P},"",P):P}toJSON(e,s){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:s})}toString(e={}){var h;if(0<this.errors.length)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0))throw s=JSON.stringify(e.indent),new Error('"indent" option must be a positive integer, not '+s);{var s=this,n=[];let P=e.directives===!0;e.directives!==!1&&s.directives&&((l=s.directives.toString(s))?(n.push(l),P=!0):s.directives.docStart&&(P=!0)),P&&n.push("---");var l=Pa(s,e),e=l.options.commentString;s.commentBefore&&(n.length!==1&&n.unshift(""),p=e(s.commentBefore),n.unshift(Kt(p,"")));let u=!1,g=null;if(s.contents){st(s.contents)&&(s.contents.spaceBefore&&P&&n.push(""),s.contents.commentBefore&&(p=e(s.contents.commentBefore),n.push(Kt(p,""))),l.forceBlockIndent=!!s.comment,g=s.contents.comment);var p=g?void 0:()=>u=!0;let O=Qr(s.contents,l,()=>g=null,p);g&&(O+=Er(O,"",e(g))),O[0]!=="|"&&O[0]!==">"||n[n.length-1]!=="---"?n.push(O):n[n.length-1]="--- "+O}else n.push(Qr(s.contents,l));if((h=s.directives)!=null&&h.docEnd)s.comment?(p=e(s.comment)).includes(`
`)?(n.push("..."),n.push(Kt(p,""))):n.push("... "+p):n.push("...");else{let O=s.comment;(O=O&&u?O.replace(/^\n+/,""):O)&&(u&&!g||n[n.length-1]===""||n.push(""),n.push(Kt(e(O),"")))}return n.join(`
`)+`
`}}}function js(t){if(nt(t))return 1;throw new Error("Expected a YAML collection as document contents")}class xs extends Error{constructor(e,s,n,l){super(),this.name=e,this.code=n,this.message=l,this.pos=s}}class Pr extends xs{constructor(e,s,n){super("YAMLParseError",e,s,n)}}class Qs extends xs{constructor(e,s,n){super("YAMLWarning",e,s,n)}}let gi=(t,e)=>s=>{if(s.pos[0]!==-1){s.linePos=s.pos.map(v=>e.linePos(v));var{line:n,col:l}=s.linePos[0];s.message+=` at line ${n}, column `+l;let h=l-1,P=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(60<=h&&80<P.length&&(p=Math.min(h-39,P.length-79),P="…"+P.substring(p),h-=p-1),80<P.length&&(P=P.substring(0,79)+"…"),1<n&&/^ *$/.test(P.substring(0,h))){let v=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);80<v.length&&(v=v.substring(0,79)+`…
`),P=v+P}if(/[^ ]/.test(P)){let v=1;var p=s.linePos[1],n=(p&&p.line===n&&p.col>l&&(v=Math.max(1,Math.min(p.col-l,80-h)))," ".repeat(h)+"^".repeat(v));s.message+=`:

${P}
${n}
`}}};function As(t,{flow:e,indicator:s,next:n,offset:l,onError:p,parentIndent:h,startOnNewline:P}){let v=!1,u=P,g=P,O="",E="",$=!1,y=!1,I=null,T=null,M=null,j=null,K=null,W=null,X=null;for(var se of t)switch(y&&(se.type!=="space"&&se.type!=="newline"&&se.type!=="comma"&&p(se.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),I&&(u&&se.type!=="comment"&&se.type!=="newline"&&p(I,"TAB_AS_INDENT","Tabs are not allowed as indentation"),I=null),se.type){case"space":e||s==="doc-start"&&(n==null?void 0:n.type)==="flow-collection"||!se.source.includes("	")||(I=se),g=!0;break;case"comment":g||p(se,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var be=se.source.substring(1)||" ";O?O+=E+be:O=be,E="",u=!1;break;case"newline":u?O?O+=se.source:W&&s==="seq-item-ind"||(v=!0):E+=se.source,u=!0,$=!0,(T||M)&&(j=se),g=!0;break;case"anchor":T&&p(se,"MULTIPLE_ANCHORS","A node can have at most one anchor"),se.source.endsWith(":")&&p(se.offset+se.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),T=se,X===null&&(X=se.offset),u=!1,g=!1,y=!0;break;case"tag":M&&p(se,"MULTIPLE_TAGS","A node can have at most one tag"),M=se,X===null&&(X=se.offset),u=!1,g=!1,y=!0;break;case s:(T||M)&&p(se,"BAD_PROP_ORDER",`Anchors and tags must be after the ${se.source} indicator`),W&&p(se,"UNEXPECTED_TOKEN",`Unexpected ${se.source} in `+(e??"collection")),W=se,u=s==="seq-item-ind"||s==="explicit-key-ind",g=!1;break;case"comma":if(e){K&&p(se,"UNEXPECTED_TOKEN","Unexpected , in "+e),K=se,u=!1,g=!1;break}default:p(se,"UNEXPECTED_TOKEN",`Unexpected ${se.type} token`),u=!1,g=!1}return P=t[t.length-1],t=P?P.offset+P.source.length:l,y&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&p(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),I&&(u&&I.indent<=h||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&p(I,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:K,found:W,spaceBefore:v,comment:O,hasNewline:$,anchor:T,tag:M,newlineAfterProp:j,end:t,start:X??t}}function Zs(t){if(t)switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return 1;if(t.end){for(var e of t.end)if(e.type==="newline")return 1}return;case"flow-collection":for(var s of t.items){for(var n of s.start)if(n.type==="newline")return 1;if(s.sep){for(var l of s.sep)if(l.type==="newline")return 1}if(Zs(s.key)||Zs(s.value))return 1}return;default:return 1}}function Wt(t,e,s){var n;(e==null?void 0:e.type)!=="flow-collection"||(n=e.end[0]).indent!==t||n.source!=="]"&&n.source!=="}"||!Zs(e)||s(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}function Xe(t,e,s){if(t=t.options.uniqueKeys,t!==!1){let n=typeof t=="function"?t:(l,p)=>l===p||We(l)&&We(p)&&l.value===p.value;return e.some(l=>n(l.key,s))}}let Yt="All mapping items must start at the same column";function An(t,e,s,n){let l="";if(t){let u=!1,g="";for(var p of t){var{source:h,type:P}=p;switch(P){case"space":u=!0;break;case"comment":s&&!u&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var v=h.substring(1)||" ";l?l+=g+v:l=v,g="";break;case"newline":l&&(g+=h),u=!0;break;default:n(p,"UNEXPECTED_TOKEN",`Unexpected ${P} at node end`)}e+=h.length}}return{comment:l,offset:e}}let vi="Block collections are not allowed within flow collections",gr=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Ia(t,e,s,n,l,p){return t=(s.type==="block-map"?({composeNode:h,composeEmptyNode:P},v,u,g,O)=>{var be;var E,$=new((O==null?void 0:O.nodeClass)??St)(v.schema);v.atRoot&&(v.atRoot=!1);let y=u.offset,I=null;for(E of u.items){var{start:X,key:T,sep:M,value:j}=E,K=As(X,{indicator:"explicit-key-ind",next:T??(M==null?void 0:M[0]),offset:y,onError:g,parentIndent:u.indent,startOnNewline:!0}),W=!K.found;if(W){if(T&&(T.type==="block-seq"?g(y,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in T&&T.indent!==u.indent&&g(y,"BAD_INDENT",Yt)),!K.anchor&&!K.tag&&!M){I=K.end,K.comment&&($.comment?$.comment+=`
`+K.comment:$.comment=K.comment);continue}(K.newlineAfterProp||Zs(T))&&g(T??X[X.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((be=K.found)==null?void 0:be.indent)!==u.indent&&g(y,"BAD_INDENT",Yt);v.atKey=!0;var se=K.end,X=T?h(v,T,K,g):P(v,se,X,null,K,g),se=(v.schema.compat&&Wt(u.indent,T,g),v.atKey=!1,Xe(v,$.items,X)&&g(se,"DUPLICATE_KEY","Map keys must be unique"),As(M??[],{indicator:"map-value-ind",next:j,offset:X.range[2],onError:g,parentIndent:u.indent,startOnNewline:!T||T.type==="block-scalar"}));y=se.end,se.found?(W&&((j==null?void 0:j.type)!=="block-map"||se.hasNewline||g(y,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),v.options.strict)&&K.start<se.found.offset-1024&&g(X.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"),T=j?h(v,j,se,g):P(v,y,M,null,se,g),v.schema.compat&&Wt(u.indent,j,g),y=T.range[2],K=new mt(X,T),v.options.keepSourceTokens&&(K.srcToken=E),$.items.push(K)):(W&&g(X.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),se.comment&&(X.comment?X.comment+=`
`+se.comment:X.comment=se.comment),M=new mt(X),v.options.keepSourceTokens&&(M.srcToken=E),$.items.push(M))}return I&&I<y&&g(I,"IMPOSSIBLE","Map comment with trailing content"),$.range=[u.offset,y,I??y],$}:s.type==="block-seq"?({composeNode:h,composeEmptyNode:P},v,u,g,O)=>{var E,$,y=new((O==null?void 0:O.nodeClass)??sr)(v.schema);v.atRoot&&(v.atRoot=!1),v.atKey&&(v.atKey=!1);let I=u.offset,T=null;for({start:E,value:$}of u.items){var M=As(E,{indicator:"seq-item-ind",next:$,offset:I,onError:g,parentIndent:u.indent,startOnNewline:!0});if(!M.found){if(!(M.anchor||M.tag||$)){T=M.end,M.comment&&(y.comment=M.comment);continue}$&&$.type==="block-seq"?g(M.end,"BAD_INDENT","All sequence items must start at the same column"):g(I,"MISSING_CHAR","Sequence item without - indicator")}M=$?h(v,$,M,g):P(v,M.end,E,null,M,g),v.schema.compat&&Wt(u.indent,$,g),I=M.range[2],y.items.push(M)}return y.range=[u.offset,I,T??I],y}:({composeNode:h,composeEmptyNode:P},v,u,g,O)=>{var E=u.start.source==="{",$=E?"flow map":"flow sequence",y=new((O==null?void 0:O.nodeClass)??(E?St:sr))(v.schema);y.flow=!0,(O=v.atRoot)&&(v.atRoot=!1),v.atKey&&(v.atKey=!1);let I=u.offset+u.start.source.length;for(let ie=0;ie<u.items.length;++ie){var T=u.items[ie],{start:M,key:j,sep:K,value:W}=T,X=As(M,{flow:$,indicator:"explicit-key-ind",next:j??(K==null?void 0:K[0]),offset:I,onError:g,parentIndent:u.indent,startOnNewline:!1});if(!X.found){if(!(X.anchor||X.tag||K||W)){ie===0&&X.comma?g(X.comma,"UNEXPECTED_TOKEN","Unexpected , in "+$):ie<u.items.length-1&&g(X.start,"UNEXPECTED_TOKEN","Unexpected empty item in "+$),X.comment&&(y.comment?y.comment+=`
`+X.comment:y.comment=X.comment),I=X.end;continue}!E&&v.options.strict&&Zs(j)&&g(j,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(ie===0)X.comma&&g(X.comma,"UNEXPECTED_TOKEN","Unexpected , in "+$);else if(X.comma||g(X.start,"MISSING_CHAR",`Missing , between ${$} items`),X.comment){let he="";e:for(var se of M)switch(se.type){case"comma":case"space":break;case"comment":he=se.source.substring(1);break e;default:break e}if(he){let z=y.items[y.items.length-1];(z=ze(z)?z.value??z.key:z).comment?z.comment+=`
`+he:z.comment=he,X.comment=X.comment.substring(he.length+1)}}if(E||K||X.found){v.atKey=!0;var be=X.end,Ee=j?h(v,j,X,g):P(v,be,M,null,X,g),ne=(gr(j)&&g(Ee.range,"BLOCK_IN_FLOW",vi),v.atKey=!1,As(K??[],{flow:$,indicator:"map-value-ind",next:W,offset:Ee.range[2],onError:g,parentIndent:u.indent,startOnNewline:!1}));if(ne.found){if(!E&&!X.found&&v.options.strict){if(K)for(var pe of K){if(pe===ne.found)break;if(pe.type==="newline"){g(pe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}X.start<ne.found.offset-1024&&g(ne.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else W&&("source"in W&&W.source&&W.source[0]===":"?g(W,"MISSING_CHAR","Missing space after : in "+$):g(ne.start,"MISSING_CHAR",`Missing , or : between ${$} items`));var j=W?h(v,W,ne,g):ne.found?P(v,ne.end,K,null,ne,g):null,fe=(j?gr(W)&&g(j.range,"BLOCK_IN_FLOW",vi):ne.comment&&(Ee.comment?Ee.comment+=`
`+ne.comment:Ee.comment=ne.comment),new mt(Ee,j));v.options.keepSourceTokens&&(fe.srcToken=T),E?(Xe(v,(T=y).items,Ee)&&g(be,"DUPLICATE_KEY","Map keys must be unique"),T.items.push(fe)):((be=new St(v.schema)).flow=!0,be.items.push(fe),T=(j??Ee).range,be.range=[Ee.range[0],T[1],T[2]],y.items.push(be)),I=j?j.range[2]:ne.end}else fe=W?h(v,W,X,g):P(v,X.end,K,null,X,g),y.items.push(fe),I=fe.range[2],gr(W)&&g(fe.range,"BLOCK_IN_FLOW",vi)}var ue,D=E?"}":"]",[G,...Y]=u.end;let oe=I;return G&&G.source===D?oe=G.offset+G.source.length:(ue=$[0].toUpperCase()+$.substring(1),g(I,O?"MISSING_CHAR":"BAD_INDENT",O?ue+" must end with a "+D:ue+" in block collection must be sufficiently indented and end with a "+D),G&&G.source.length!==1&&Y.unshift(G)),0<Y.length?((O=An(Y,oe,v.options.strict,g)).comment&&(y.comment?y.comment+=`
`+O.comment:y.comment=O.comment),y.range=[u.offset,oe,O.offset]):y.range=[u.offset,oe,oe],y})(t,e,s,n,p),e=t.constructor,l==="!"||l===e.tagName?t.tag=e.tagName:l&&(t.tag=l),t}function Ta(t,e,s){var n=e.offset,l=(({offset:K,props:W},X,se)=>{if(W[0].type!=="block-scalar-header")return se(W[0],"IMPOSSIBLE","Block scalar header not found"),null;let be=W[0].source,Ee=be[0],ne=0,pe="",fe=-1;for(let z=1;z<be.length;++z){var ue,D=be[z];pe||D!=="-"&&D!=="+"?(ue=Number(D),!ne&&ue?ne=ue:fe===-1&&(fe=K+z)):pe=D}fe!==-1&&se(fe,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: "+be);let G=!1,Y="",oe=be.length;for(let z=1;z<W.length;++z){var ie=W[z];switch(ie.type){case"space":G=!0;case"newline":oe+=ie.source.length;break;case"comment":X&&!G&&se(ie,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),oe+=ie.source.length,Y=ie.source.substring(1);break;case"error":se(ie,"UNEXPECTED_TOKEN",ie.message),oe+=ie.source.length;break;default:var he="Unexpected token in block scalar header: "+ie.type,he=(se(ie,"UNEXPECTED_TOKEN",he),ie.source);he&&typeof he=="string"&&(oe+=he.length)}}return{mode:Ee,indent:ne,chomp:pe,comment:Y,length:oe}})(e,t.options.strict,s);if(!l)return{value:"",type:null,comment:"",range:[n,n,n]};var p=l.mode===">"?Me.BLOCK_FOLDED:Me.BLOCK_LITERAL,h=e.source?(K=>{var W=K.split(/\n( *)/),X=(K=W[0]).match(/^( *)/),se=[X=X!=null&&X[1]?[X[1],K.slice(X[1].length)]:["",K]];for(let be=1;be<W.length;be+=2)se.push([W[be],W[be+1]]);return se})(e.source):[];let P=h.length;for(let K=h.length-1;0<=K;--K){var v=h[K][1];if(v!==""&&v!=="\r")break;P=K}if(P===0){let K=l.chomp==="+"&&0<h.length?`
`.repeat(Math.max(1,h.length-1)):"",W=n+l.length;return e.source&&(W+=e.source.length),{value:K,type:p,comment:l.comment,range:[n,W,W]}}let u=e.indent+l.indent,g=e.offset+l.length,O=0;for(let K=0;K<P;++K){var[E,$]=h[K];if($!==""&&$!=="\r"){E.length<u&&s(g+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),l.indent===0&&(u=E.length),O=K,u!==0||t.atRoot||s(g,"BAD_INDENT","Block scalar values in collections must be indented");break}l.indent===0&&E.length>u&&(u=E.length),g+=E.length+$.length+1}for(let K=h.length-1;K>=P;--K)h[K][0].length>u&&(P=K+1);let y="",I="",T=!1;for(let K=0;K<O;++K)y+=h[K][0].slice(u)+`
`;for(let K=O;K<P;++K){let[W,X]=h[K];g+=W.length+X.length+1;var M,j=X[X.length-1]==="\r";(X=j?X.slice(0,-1):X)&&W.length<u&&(M=l.indent?"explicit indentation indicator":"first line",s(g-X.length-(j?2:1),"BAD_INDENT","Block scalar lines must not be less indented than their "+M),W=""),p===Me.BLOCK_LITERAL?(y+=I+W.slice(u)+X,I=`
`):W.length>u||X[0]==="	"?(I===" "?I=`
`:T||I!==`
`||(I=`

`),y+=I+W.slice(u)+X,I=`
`,T=!0):X===""?I===`
`?y+=`
`:I=`
`:(y+=I+X,I=" ",T=!1)}switch(l.chomp){case"-":break;case"+":for(let K=P;K<h.length;++K)y+=`
`+h[K][0].slice(u);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}return e=n+l.length+e.source.length,{value:y,type:p,comment:l.comment,range:[n,e,e]}}function Ca(t,O,s){let{offset:n,type:l,source:p,end:h}=t,P,v;var u=(E,$,y)=>s(n+E,$,y);switch(l){case"scalar":P=Me.PLAIN,v=((E,$)=>{let y="";switch(E[0]){case"	":y="a tab character";break;case",":y="flow indicator character ,";break;case"%":y="directive indicator character %";break;case"|":case">":y="block scalar indicator "+E[0];break;case"@":case"`":y="reserved character "+E[0]}return y&&$(0,"BAD_SCALAR_START","Plain value cannot start with "+y),jt(E)})(p,u);break;case"single-quoted-scalar":P=Me.QUOTE_SINGLE,v=((E,$)=>(E[E.length-1]==="'"&&E.length!==1||$(E.length,"MISSING_CHAR","Missing closing 'quote"),jt(E.slice(1,-1)).replace(/''/g,"'")))(p,u);break;case"double-quoted-scalar":P=Me.QUOTE_DOUBLE,v=((E,$)=>{let y="";for(let K=1;K<E.length-1;++K){var I=E[K];if(I!=="\r"||E[K+1]!==`
`)if(I===`
`){var{fold:T,offset:M}=((W,X)=>{let se="",be=W[X+1];for(;!(be!==" "&&be!=="	"&&be!==`
`&&be!=="\r"||be==="\r"&&W[X+2]!==`
`);)be===`
`&&(se+=`
`),X+=1,be=W[X+1];return{fold:se=se||" ",offset:X}})(E,K);y+=T,K=M}else if(I==="\\"){let W=E[++K];if(T=Oo[W],T)y+=T;else if(W===`
`)for(W=E[K+1];W===" "||W==="	";)W=E[++K+1];else if(W==="\r"&&E[K+1]===`
`)for(W=E[++K+1];W===" "||W==="	";)W=E[++K+1];else W==="x"||W==="u"||W==="U"?(M={x:2,u:4,U:8}[W],y+=((X,se,be,Ee)=>{var ne=X.substr(se,be),pe=(pe=ne.length===be&&/^[0-9a-fA-F]+$/.test(ne))?parseInt(ne,16):NaN;return isNaN(pe)?(ne=X.substr(se-2,be+2),Ee(se-2,"BAD_DQ_ESCAPE","Invalid escape sequence "+ne),ne):String.fromCodePoint(pe)})(E,K+1,M,$),K+=M):(j=E.substr(K-1,2),$(K-1,"BAD_DQ_ESCAPE","Invalid escape sequence "+j),y+=j)}else if(I===" "||I==="	"){var j=K;let W=E[K+1];for(;W===" "||W==="	";)W=E[++K+1];W===`
`||W==="\r"&&E[K+2]===`
`||(y+=K>j?E.slice(j,K+1):I)}else y+=I}return E[E.length-1]==='"'&&E.length!==1||$(E.length,"MISSING_CHAR",'Missing closing "quote'),y})(p,u);break;default:return s(t,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: "+l),{value:"",type:null,comment:"",range:[n,n+p.length,n+p.length]}}var g=n+p.length,O=An(h,g,O,s);return{value:v,type:P,comment:O.comment,range:[n,g,O.offset]}}function jt(t){let e,s;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),s=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,s=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let l=n[1],p=" ",h=e.lastIndex;for(s.lastIndex=h;n=s.exec(t);)n[1]===""?p===`
`?l+=p:p=`
`:(l+=p+n[1],p=" "),h=s.lastIndex;var P=/[ \t]*(.*)/sy;return P.lastIndex=h,n=P.exec(t),l+p+((n==null?void 0:n[1])??"")}let Oo={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function La(t,e,s,n){var{value:l,type:p,comment:h,range:P}=e.type==="block-scalar"?Ta(t,e,n):Ca(e,t.options.strict,n),v=s?t.directives.tagName(s.source,E=>n(s,"TAG_RESOLVE_FAILED",E)):null;let u;u=t.options.stringKeys&&t.atKey?t.schema[tr]:v?((E,$,y,I,T)=>{var X;if(y!=="!"){var M,j,K=[];for(M of E.tags)if(!M.collection&&M.tag===y){if(!M.default||!M.test)return M;K.push(M)}for(j of K)if((X=j.test)!=null&&X.test($))return j;var W=E.knownTags[y];if(W&&!W.collection)return E.tags.push(Object.assign({},W,{default:!1,test:void 0})),W;T(I,"TAG_RESOLVE_FAILED","Unresolved tag: "+y,y!=="tag:yaml.org,2002:str")}return E[tr]})(t.schema,l,v,s,n):e.type==="scalar"?(({atKey:E,directives:$,schema:y},I,T,M)=>{var j,K=y.tags.find(W=>{var X;return(W.default===!0||E&&W.default==="key")&&((X=W.test)==null?void 0:X.test(I))})||y[tr];return y.compat&&(y=y.compat.find(W=>{var X;return W.default&&((X=W.test)==null?void 0:X.test(I))})??y[tr],K.tag!==y.tag)&&(j=$.tagString(K.tag),$=$.tagString(y.tag),M(T,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${j} or `+$,!0)),K})(t,l,e,n):t.schema[tr];let g;try{var O=u.resolve(l,E=>n(s??e,"TAG_RESOLVE_FAILED",E),t.options);g=We(O)?O:new Me(O)}catch(E){t=E instanceof Error?E.message:String(E),n(s??e,"TAG_RESOLVE_FAILED",t),g=new Me(l)}return g.range=P,g.source=l,p&&(g.type=p),v&&(g.tag=v),u.format&&(g.format=u.format),h&&(g.comment=h),g}let No={composeNode:Ma,composeEmptyNode:bi};function Ma(t,e,s,n){var l=t.atKey,{spaceBefore:p,comment:h,anchor:P,tag:v}=s;let u,g=!0;switch(e.type){case"alias":u=(({options:O},{offset:E,source:$,end:y},I)=>{var T=new Jr($.substring(1));return T.source===""&&I(E,"BAD_ALIAS","Alias cannot be an empty string"),T.source.endsWith(":")&&I(E+$.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0),$=E+$.length,y=An(y,$,O.strict,I),T.range=[E,$,y.offset],y.comment&&(T.comment=y.comment),T})(t,e,n),(P||v)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=La(t,e,v,n),P&&(u.anchor=P.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=((O,E,$,y,I)=>{var X;let T=y.tag,M=T?E.directives.tagName(T.source,se=>I(T,"TAG_RESOLVE_FAILED",se)):null,j=($.type==="block-seq"&&({anchor:y,newlineAfterProp:W}=y,y=y&&T?y.offset>T.offset?y:T:y??T)&&(!W||W.offset<y.offset)&&I(y,"MISSING_CHAR","Missing newline after block sequence props"),$.type==="block-map"||$.type!=="block-seq"&&$.start.source==="{"?"map":"seq");if(!T||!M||M==="!"||M===St.tagName&&j=="map"||M===sr.tagName&&j=="seq")return Ia(O,E,$,I,M);let K=E.schema.tags.find(se=>se.tag===M&&se.collection===j);if(!K){var W=E.schema.knownTags[M];if(!W||W.collection!==j)return W!=null&&W.collection?I(T,"BAD_COLLECTION_TYPE",`${W.tag} used for ${j} collection, but expects `+W.collection,!0):I(T,"TAG_RESOLVE_FAILED","Unresolved tag: "+M,!0),Ia(O,E,$,I,M);E.schema.tags.push(Object.assign({},W,{default:!1})),K=W}return y=Ia(O,E,$,I,M,K),W=((X=K.resolve)==null?void 0:X.call(K,y,se=>I(T,"TAG_RESOLVE_FAILED",se),E.options))??y,(O=st(W)?W:new Me(W)).range=y.range,O.tag=M,K!=null&&K.format&&(O.format=K.format),O})(No,t,e,s,n),P&&(u.anchor=P.source.substring(1));break;default:n(e,"UNEXPECTED_TOKEN",e.type==="error"?e.message:`Unsupported token (type: ${e.type})`),u=bi(t,e.offset,void 0,null,s,n),g=!1}return P&&u.anchor===""&&n(P,"BAD_ALIAS","Anchor cannot be an empty string"),l&&t.options.stringKeys&&(!We(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&n(v??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),p&&(u.spaceBefore=!0),h&&(e.type==="scalar"&&e.source===""?u.comment=h:u.commentBefore=h),t.options.keepSourceTokens&&g&&(u.srcToken=e),u}function bi(t,e,s,n,{spaceBefore:l,comment:p,anchor:h,tag:P,end:v},u){return t=La(t,{type:"scalar",offset:((g,O,E)=>{if(O)for(let $=(E=E===null?O.length:E)-1;0<=$;--$){let y=O[$];switch(y.type){case"space":case"comment":case"newline":g-=y.source.length;continue}for(y=O[++$];(y==null?void 0:y.type)==="space";)g+=y.source.length,y=O[++$];break}return g})(e,s,n),indent:-1,source:""},P,u),h&&(t.anchor=h.source.substring(1),t.anchor==="")&&u(h,"BAD_ALIAS","Anchor cannot be an empty string"),l&&(t.spaceBefore=!0),p&&(t.comment=p,t.range[2]=v),t}function In(t){var e;return typeof t=="number"?[t,t+1]:Array.isArray(t)?t.length===2?t:[t[0],t[1]]:({offset:t,source:e}=t,[t,t+(typeof e=="string"?e.length:1)])}function Tn(t){var p;let e="",s=!1,n=!1;for(let h=0;h<t.length;++h){var l=t[h];switch(l[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(l.substring(1)||" "),s=!0,n=!1;break;case"%":((p=t[h+1])==null?void 0:p[0])!=="#"&&(h+=1),s=!1;break;default:s||(n=!0),s=!1}}return{comment:e,afterEmptyLine:n}}class is{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(s,n,l,p)=>{s=In(s),p?this.warnings.push(new Qs(s,n,l)):this.errors.push(new Pr(s,n,l))},this.directives=new Et({version:e.version||"1.2"}),this.options=e}decorate(e,s){var{comment:n,afterEmptyLine:l}=Tn(this.prelude);if(n){var p=e.contents;if(s)e.comment=e.comment?e.comment+`
`+n:n;else if(l||e.directives.docStart||!p)e.commentBefore=n;else if(nt(p)&&!p.flow&&0<p.items.length){let h=p.items[0];l=(h=ze(h)?h.key:h).commentBefore,h.commentBefore=l?n+`
`+l:n}else l=p.commentBefore,p.commentBefore=l?n+`
`+l:n}s?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Tn(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,s=!1,n=-1){for(var l of e)yield*this.next(l);yield*this.end(s,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(g,O,E)=>{var $=In(e);$[0]+=g,this.onError($,"BAD_DIRECTIVE",O,E)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":[s,n,{offset:l,start:p,value:h,end:P},v]=[this.options,this.directives,e,this.onError],n=Object.assign({_directives:n},s),n={atKey:!1,atRoot:!0,directives:(s=new Dt(void 0,n)).directives,options:s.options,schema:s.schema},(u=As(p,{indicator:"doc-start",next:h??(P==null?void 0:P[0]),offset:l,onError:v,parentIndent:0,startOnNewline:!0})).found&&(s.directives.docStart=!0,!h||h.type!=="block-map"&&h.type!=="block-seq"||u.hasNewline||v(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),s.contents=h?Ma(n,h,u,v):bi(n,u.end,p,null,u,v),h=s.contents.range[2],(n=An(P,h,!1,v)).comment&&(s.comment=n.comment),s.range=[l,h,n.offset],p=s,this.atDirectives&&!p.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(p,!1),this.doc&&(yield this.doc),this.doc=p,this.atDirectives=!1;break;case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":u=e.source?e.message+": "+JSON.stringify(e.source):e.message,P=new Pr(In(e),"UNEXPECTED_TOKEN",u),(this.atDirectives||!this.doc?this:this.doc).errors.push(P);break;case"doc-end":this.doc?(this.doc.directives.docEnd=!0,v=An(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError),this.decorate(this.doc,!0),v.comment&&(l=this.doc.comment,this.doc.comment=l?l+`
`+v.comment:v.comment),this.doc.range[2]=v.offset):this.errors.push(new Pr(In(e),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break;default:this.errors.push(new Pr(In(e),"UNEXPECTED_TOKEN","Unsupported token "+e.type))}var s,n,l,p,h,P,v,u}*end(e=!1,s=-1){this.doc?(this.decorate(this.doc,!0),yield this.doc,this.doc=null):e&&(e=Object.assign({_directives:this.directives},this.options),e=new Dt(void 0,e),this.atDirectives&&this.onError(s,"MISSING_CHAR","Missing directives-end indicator line"),e.range=[0,s,s],this.decorate(e,!1),yield e)}}function Ra(t,e){if(e)for(var s of e)switch(s.type){case"space":case"comment":t.push(s);break;case"newline":return t.push(s),1}}function Cn(t,e,s){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=s,t.source=e;break;case"block-scalar":{var n,p=t.props.slice(1);let v=e.length;t.props[0].type==="block-scalar-header"&&(v-=t.props[0].source.length);for(n of p)n.offset+=v;delete t.props,Object.assign(t,{type:s,source:e,end:p});break}case"block-map":case"block-seq":p={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`},delete t.items,Object.assign(t,{type:s,source:e,end:[p]});break;default:var l,p="indent"in t?t.indent:-1,h="end"in t&&Array.isArray(t.end)?t.end.filter(P=>P.type==="space"||P.type==="comment"||P.type==="newline"):[];for(l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:s,indent:p,source:e,end:h})}}function Xs(t){switch(t.type){case"block-scalar":{let P="";for(var e of t.props)P+=Xs(e);return P+t.source}case"block-map":case"block-seq":{let P="";for(var s of t.items)P+=Ln(s);return P}case"flow-collection":{let P=t.start.source;for(var n of t.items)P+=Ln(n);for(var l of t.end)P+=l.source;return P}case"document":{let P=Ln(t);if(t.end)for(var p of t.end)P+=p.source;return P}default:{let P=t.source;if("end"in t&&t.end)for(var h of t.end)P+=h.source;return P}}}function Ln({start:t,key:e,sep:s,value:n}){let l="";for(var p of t)l+=p.source;if(e&&(l+=Xs(e)),s)for(var h of s)l+=h.source;return n&&(l+=Xs(n)),l}let Mn=Symbol("break visit");Ke=Symbol("skip children");let Rn=Symbol("remove item");function as(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),function s(n,l,p){let h=p(l,n);if(typeof h=="symbol")return h;for(var P of["key","value"]){let v=l[P];if(v&&"items"in v){for(let u=0;u<v.items.length;++u){let g=s(Object.freeze(n.concat([[P,u]])),v.items[u],p);if(typeof g=="number")u=g-1;else{if(g===Mn)return Mn;g===Rn&&(v.items.splice(u,1),--u)}}typeof h=="function"&&P==="key"&&(h=h(l,n))}}return typeof h=="function"?h(l,n):h}(Object.freeze([]),t,e)}as.BREAK=Mn,as.SKIP=Ke,as.REMOVE=Rn,as.itemAtPath=(t,e)=>{let s=t;for(var[n,l]of e){if(n=s==null?void 0:s[n],!(n&&"items"in n))return;s=n.items[l]}return s},as.parentCollection=(t,e)=>{if(t=as.itemAtPath(t,e.slice(0,-1)),e=e[e.length-1][0],t=t==null?void 0:t[e],t&&"items"in t)return t;throw new Error("Parent collection not found")};let xt="\uFEFF";function wi(t){switch(t){case xt:return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}Je=Object.freeze({__proto__:null,BOM:xt,DOCUMENT:"",FLOW_END:"",SCALAR:"",createScalarToken:function(t,e){var{implicitKey:s=!1,indent:n,inFlow:l=!1,offset:p=-1,type:h="PLAIN"}=e,P=Yr({type:h,value:t},{implicitKey:s,indent:0<n?" ".repeat(n):"",inFlow:l,options:{blockQuote:!0,lineWidth:-1}}),v=e.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(P[0]){case"|":case">":var u=P.indexOf(`
`),g=P.substring(0,u),u=P.substring(u+1)+`
`,g=[{type:"block-scalar-header",offset:p,indent:n,source:g}];return Ra(g,v)||g.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:p,indent:n,props:g,source:u};case'"':return{type:"double-quoted-scalar",offset:p,indent:n,source:P,end:v};case"'":return{type:"single-quoted-scalar",offset:p,indent:n,source:P,end:v};default:return{type:"scalar",offset:p,indent:n,source:P,end:v}}},isCollection:t=>!!t&&"items"in t,isScalar:t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar"),prettyToken:function(t){switch(t){case xt:return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(t)}},resolveAsScalar:function(t,e=!0,s){if(t){var n=(l,p,h)=>{if(l=typeof l=="number"?l:Array.isArray(l)?l[0]:l.offset,!s)throw new Pr([l,l+1],p,h);s(l,p,h)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Ca(t,e,n);case"block-scalar":return Ta({options:{strict:e}},t,n)}}return null},setScalarValue:function(t,e,s={}){let{afterKey:n=!1,implicitKey:l=!1,inFlow:p=!1,type:h}=s,P="indent"in t?t.indent:null;if(n&&typeof P=="number"&&(P+=2),!h)switch(t.type){case"single-quoted-scalar":h="QUOTE_SINGLE";break;case"double-quoted-scalar":h="QUOTE_DOUBLE";break;case"block-scalar":var v=t.props[0];if(v.type!=="block-scalar-header")throw new Error("Invalid block scalar header");h=v.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break;default:h="PLAIN"}var u=Yr({type:h,value:e},{implicitKey:l||P===null,indent:P!==null&&0<P?" ".repeat(P):"",inFlow:p,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":var g=t,O=($=u).indexOf(`
`),E=$.substring(0,O),$=$.substring(O+1)+`
`;if(g.type==="block-scalar"){if(O=g.props[0],O.type!=="block-scalar-header")throw new Error("Invalid block scalar header");O.source=E,g.source=$}else{var y,O=g.offset,I="indent"in g?g.indent:-1,O=[{type:"block-scalar-header",offset:O,indent:I,source:E}];Ra(O,"end"in g?g.end:void 0)||O.push({type:"newline",offset:-1,indent:I,source:`
`});for(y of Object.keys(g))y!=="type"&&y!=="offset"&&delete g[y];Object.assign(g,{type:"block-scalar",indent:I,props:O,source:$})}break;case'"':Cn(t,u,"double-quoted-scalar");break;case"'":Cn(t,u,"single-quoted-scalar");break;default:Cn(t,u,"scalar")}},stringify:t=>("type"in t?Xs:Ln)(t),tokenType:wi,visit:as});function Qt(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}let Da=new Set("0123456789ABCDEFabcdef"),jo=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Dn=new Set(",[]{}"),xo=new Set(` ,[]{}
\r	`),_i=t=>!t||xo.has(t);class $i{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,s=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!s;let n=this.next??"stream";for(;n&&(s||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,s=this.buffer[e];for(;s===" "||s==="	";)s=this.buffer[++e];return!s||s==="#"||s===`
`||s==="\r"&&this.buffer[e+1]===`
`}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let s=this.buffer[e];if(0<this.indentNext){let l=0;for(;s===" ";)s=this.buffer[++l+e];if(s==="\r"){var n=this.buffer[l+e+1];if(n===`
`||!n&&!this.atEnd)return e+l+1}return s===`
`||l>=this.indentNext||!s&&!this.atEnd?e+l:-1}return(s==="-"||s===".")&&(n=this.buffer.substr(e,3),(n==="---"||n==="...")&&Qt(this.buffer[e+3]))?-1:e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&--e,this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===xt&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let p=e.length,h=e.indexOf("#");for(;h!==-1;){var s=e[h-1];if(s===" "||s==="	"){p=h-1;break}h=e.indexOf("#",h+1)}for(;;){var n=e[p-1];if(n!==" "&&n!=="	")break;--p}var l=(yield*this.pushCount(p))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-l),this.pushNewline(),"stream"}return this.atLineEnd()?(l=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-l),yield*this.pushNewline(),"stream"):(yield"",yield*this.parseLineStart())}*parseLineStart(){var e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");if(e=this.peek(3),(e==="---"||e==="...")&&Qt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,e==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Qt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){var[e,s]=this.peek(2);return s||this.atEnd?e!=="-"&&e!=="?"&&e!==":"||!Qt(s)?"doc":(e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()):this.setNext("block-start")}*parseDocument(){yield*this.pushSpaces(!0);var e=this.getLine();if(e===null)return this.setNext("doc");var s=yield*this.pushIndicators();switch(e[s]){case"#":yield*this.pushCount(e.length-s);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(_i),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return s=(s+=yield*this.parseBlockScalarHeader())+(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-s),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,s,n=-1;for(;0<(e=yield*this.pushNewline())?(s=yield*this.pushSpaces(!1),this.indentValue=n=s):s=0,0<e+(s+=yield*this.pushSpaces(!0)););var l=this.getLine();if(l===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&l[0]!=="#"||n===0&&(l.startsWith("---")||l.startsWith("..."))&&Qt(l[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(l[0]==="]"||l[0]==="}")))return this.flowLevel=0,yield"",yield*this.parseLineStart();let p=0;for(;l[p]===",";)p=(p+=yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(l[p+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(l.length-p),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,--this.flowLevel,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(_i),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":var h=this.charAt(1);if(this.flowKey||Qt(h)||h===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow";default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){var e=this.charAt(0);let s=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;s!==-1&&this.buffer[s+1]==="'";)s=this.buffer.indexOf("'",s+2);else for(;s!==-1;){let h=0;for(;this.buffer[s-1-h]==="\\";)h+=1;if(h%2==0)break;s=this.buffer.indexOf('"',s+1)}var n=this.buffer.substring(0,s);let l=n.indexOf(`
`,this.pos);if(l!==-1){for(;l!==-1;){var p=this.continueScalar(l+1);if(p===-1)break;l=n.indexOf(`
`,p)}l!==-1&&(s=l-(n[l-1]==="\r"?2:1))}if(s===-1){if(!this.atEnd)return this.setNext("quoted-scalar");s=this.buffer.length}return yield*this.pushToIndex(s+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){var s=this.buffer[++e];if(s==="+")this.blockScalarKeep=!0;else if("0"<s&&s<="9")this.blockScalarIndent=Number(s)-1;else if(s!=="-")break}return yield*this.pushUntil(n=>Qt(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,s=0,n;e:for(let v=this.pos;n=this.buffer[v];++v)switch(n){case" ":s+=1;break;case`
`:e=v,s=0;break;case"\r":var l=this.buffer[v+1];if(!l&&!this.atEnd)return this.setNext("block-scalar");if(l===`
`)break;default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(s>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=s:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{var p=this.continueScalar(e+1);if(p===-1)break;e=this.buffer.indexOf(`
`,p)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let h=e+1;for(n=this.buffer[h];n===" ";)n=this.buffer[++h];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++h];e=h-1}else if(!this.blockScalarKeep)for(;;){let v=e-1,u=this.buffer[v];u==="\r"&&(u=this.buffer[--v]);for(var P=v;u===" ";)u=this.buffer[--v];if(!(u===`
`&&v>=this.pos&&v+1+s>P))break;e=v}return yield"",yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){var e=0<this.flowLevel;let s=this.pos-1,n=this.pos-1,l;for(;l=this.buffer[++n];)if(l===":"){var p=this.buffer[n+1];if(Qt(p)||e&&Dn.has(p))break;s=n}else if(Qt(l)){let h=this.buffer[n+1];if(l==="\r"&&(h===`
`?(n+=1,l=`
`,h=this.buffer[n+1]):s=n),h==="#"||e&&Dn.has(h))break;if(l===`
`){if(p=this.continueScalar(n+1),p===-1)break;n=Math.max(n,p-2)}}else{if(e&&Dn.has(l))break;s=n}return l||this.atEnd?(yield"",yield*this.pushToIndex(s+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return 0<e?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,s){return e=this.buffer.slice(this.pos,e),e?(yield e,this.pos+=e.length,e.length):(s&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(_i))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":var e=0<this.flowLevel,s=this.charAt(1);if(Qt(s)||e&&Dn.has(s))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,s=this.buffer[e];for(;!Qt(s)&&s!==">";)s=this.buffer[++e];return yield*this.pushToIndex(s===">"?e+1:e,!1)}{let e=this.pos+1,s=this.buffer[e];for(;s;)if(jo.has(s))s=this.buffer[++e];else{if(s!=="%"||!Da.has(this.buffer[e+1])||!Da.has(this.buffer[e+2]))break;s=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){var e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let s=this.pos-1;for(var n;(n=this.buffer[++s])===" "||e&&n==="	";);var l=s-this.pos;return 0<l&&(yield this.buffer.substr(this.pos,l),this.pos=s),l}*pushUntil(e){let s=this.pos,n=this.buffer[s];for(;!e(n);)n=this.buffer[++s];return yield*this.pushToIndex(s,!1)}}class ki{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let s=0,n=this.lineStarts.length;for(;s<n;){var l=s+n>>1;this.lineStarts[l]<e?s=1+l:n=l}var p;return this.lineStarts[s]===e?{line:s+1,col:1}:s===0?{line:0,col:e}:(p=this.lineStarts[s-1],{line:s,col:e-p+1})}}}function os(t,e){for(let s=0;s<t.length;++s)if(t[s].type===e)return 1}function Ao(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ei(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return 1;default:return}}function Is(t){switch(t.type){case"document":return t.start;case"block-map":var e=t.items[t.items.length-1];return e.sep??e.start;case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function en(t){var s;if(t.length===0)return[];let e=t.length;e:for(;0<=--e;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((s=t[++e])==null?void 0:s.type)==="space";);return t.splice(e,t.length)}function Io(t){if(t.start.type==="flow-seq-start")for(var e of t.items)!e.sep||e.value||os(e.start,"explicit-key-ind")||os(e.sep,"map-value-ind")||(e.key&&(e.value=e.key),delete e.key,Ei(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Si{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new $i,this.onNewLine=e}*parse(e,s=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(var n of this.lexer.lex(e,s))yield*this.next(n);s||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)this.atScalar=!1,yield*this.step(),this.offset+=e.length;else{var s=wi(e);if(s)if(s==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=s,yield*this.step(),s){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else yield*this.pop({type:"error",offset:this.offset,message:"Not a YAML token: "+e,source:e}),this.offset+=e.length}}*end(){for(;0<this.stack.length;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){var e=this.peek(1);if(this.type!=="doc-end"||e&&e.type==="doc-end"){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;0<this.stack.length;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){let s=e??this.stack.pop();if(s)if(this.stack.length===0)yield s;else{var n=this.peek(1);switch(s.type==="block-scalar"?s.indent="indent"in n?n.indent:0:s.type==="flow-collection"&&n.type==="document"&&(s.indent=0),s.type==="flow-collection"&&Io(s),n.type){case"document":n.value=s;break;case"block-scalar":n.props.push(s);break;case"block-map":var l=n.items[n.items.length-1];if(l.value)return n.items.push({start:[],key:s,sep:[]}),void(this.onKeyLine=!0);if(!l.sep)return Object.assign(l,{key:s,sep:[]}),void(this.onKeyLine=!l.explicitKey);l.value=s;break;case"block-seq":l=n.items[n.items.length-1],l.value?n.items.push({start:[],value:s}):l.value=s;break;case"flow-collection":return l=n.items[n.items.length-1],void(!l||l.value?n.items.push({start:[],key:s,sep:[]}):l.sep?l.value=s:Object.assign(l,{key:s,sep:[]}));default:yield*this.pop(),yield*this.pop(s)}n.type!=="document"&&n.type!=="block-map"&&n.type!=="block-seq"||s.type!=="block-map"&&s.type!=="block-seq"||(e=s.items[s.items.length-1])&&!e.sep&&!e.value&&0<e.start.length&&Ao(e.start)===-1&&(s.indent===0||e.start.every(p=>p.type!=="comment"||p.indent<s.indent))&&(n.type==="document"?n.end=e.start:n.items.push({start:e.start}),s.items.splice(-1,1))}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":var e={type:"document",offset:this.offset,start:[]};return this.type==="doc-start"&&e.start.push(this.sourceToken),void this.stack.push(e)}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(Ao(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}var s=this.startBlockValue(e);s?this.stack.push(s):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){var s=en(Is(this.peek(2)));let n;e.end?((n=e.end).push(this.sourceToken),delete e.end):n=[this.sourceToken],s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:n}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let s=this.source.indexOf(`
`)+1;for(;s!==0;)this.onNewLine(this.offset+s),s=this.source.indexOf(`
`,s)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var O,E,$;var s=e.items[e.items.length-1];switch(this.type){case"newline":return this.onKeyLine=!1,void(s.value?(n="end"in s.value?s.value.end:void 0,((O=Array.isArray(n)?n[n.length-1]:void 0)==null?void 0:O.type)==="comment"?n==null?void 0:n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})):(s.sep||s.start).push(this.sourceToken));case"space":case"comment":if(s.value)e.items.push({start:[this.sourceToken]});else if(s.sep)s.sep.push(this.sourceToken);else{if(this.atIndentedComment(s.start,e.indent)){var n=($=(E=e.items[e.items.length-2])==null?void 0:E.value)==null?void 0:$.end;if(Array.isArray(n))return Array.prototype.push.apply(n,s.start),n.push(this.sourceToken),void e.items.pop()}s.start.push(this.sourceToken)}return}if(this.indent>=e.indent){var l,p=!this.onKeyLine&&this.indent===e.indent,h=p&&(s.sep||s.explicitKey)&&this.type!=="seq-item-ind";let y=[];if(h&&s.sep&&!s.value){var P=[];for(let I=0;I<s.sep.length;++I){var v=s.sep[I];switch(v.type){case"newline":P.push(I);break;case"space":break;case"comment":v.indent>e.indent&&(P.length=0);break;default:P.length=0}}2<=P.length&&(y=s.sep.splice(P[1]))}switch(this.type){case"anchor":case"tag":return void(h||s.value?(y.push(this.sourceToken),e.items.push({start:y}),this.onKeyLine=!0):(s.sep||s.start).push(this.sourceToken));case"explicit-key-ind":return s.sep||s.explicitKey?h||s.value?(y.push(this.sourceToken),e.items.push({start:y,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(s.start.push(this.sourceToken),s.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":return s.explicitKey?s.sep?s.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):os(s.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:y,key:null,sep:[this.sourceToken]}]}):Ei(s.key)&&!os(s.sep,"newline")?(l=en(s.start),u=s.key,(g=s.sep).push(this.sourceToken),delete s.key,delete s.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:u,sep:g}]})):0<y.length?s.sep=s.sep.concat(y,this.sourceToken):s.sep.push(this.sourceToken):os(s.start,"newline")?Object.assign(s,{key:null,sep:[this.sourceToken]}):(l=en(s.start),this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})):s.sep?s.value||h?e.items.push({start:y,key:null,sep:[this.sourceToken]}):os(s.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):s.sep.push(this.sourceToken):Object.assign(s,{key:null,sep:[this.sourceToken]}),void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var u=this.flowScalar(this.type);return void(h||s.value?(e.items.push({start:y,key:u,sep:[]}),this.onKeyLine=!0):s.sep?this.stack.push(u):(Object.assign(s,{key:u,sep:[]}),this.onKeyLine=!0));default:var g=this.startBlockValue(e);if(g)return p&&g.type!=="block-seq"&&e.items.push({start:y}),void this.stack.push(g)}}yield*this.pop(),yield*this.step()}*blockSequence(e){var p,h,P;var s=e.items[e.items.length-1];switch(this.type){case"newline":return void(s.value?(n="end"in s.value?s.value.end:void 0,((p=Array.isArray(n)?n[n.length-1]:void 0)==null?void 0:p.type)==="comment"?n==null?void 0:n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})):s.start.push(this.sourceToken));case"space":case"comment":if(s.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(s.start,e.indent)){var n=(P=(h=e.items[e.items.length-2])==null?void 0:h.value)==null?void 0:P.end;if(Array.isArray(n))return Array.prototype.push.apply(n,s.start),n.push(this.sourceToken),void e.items.pop()}s.start.push(this.sourceToken)}return;case"anchor":case"tag":if(s.value||this.indent<=e.indent)break;return void s.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(s.value||os(s.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):s.start.push(this.sourceToken))}if(this.indent>e.indent){var l=this.startBlockValue(e);if(l)return void this.stack.push(l)}yield*this.pop(),yield*this.step()}*flowCollection(e){var s,n=e.items[e.items.length-1];if(this.type==="flow-error-end")for(;yield*this.pop(),(s=this.peek(1))&&s.type==="flow-collection";);else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":return void(!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken));case"map-value-ind":return void(!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!n||n.value?e.items.push({start:[this.sourceToken]}):(n.sep||n.start).push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":var l=this.flowScalar(this.type);return void(!n||n.value?e.items.push({start:[],key:l,sep:[]}):n.sep?this.stack.push(l):Object.assign(n,{key:l,sep:[]}));case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}var p=this.startBlockValue(e);p?this.stack.push(p):(yield*this.pop(),yield*this.step())}else{var h,p=this.peek(2);p.type==="block-map"&&(this.type==="map-value-ind"&&p.indent===e.indent||this.type==="newline"&&!p.items[p.items.length-1].sep)?(yield*this.pop(),yield*this.step()):this.type==="map-value-ind"&&p.type!=="flow-collection"?(p=en(Is(p)),Io(e),(h=e.end.splice(1,e.end.length)).push(this.sourceToken),p={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:p,key:e,sep:h}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=p):yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let s=this.source.indexOf(`
`)+1;for(;s!==0;)this.onNewLine(this.offset+s),s=this.source.indexOf(`
`,s)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":this.onKeyLine=!0;var s=en(Is(e));return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]};case"map-value-ind":return this.onKeyLine=!0,s=en(Is(e)),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}return null}atIndentedComment(e,s){return this.type==="comment"&&!(this.indent<=s)&&e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline")&&(yield*this.pop())}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function To(t){var e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new ki||null,prettyErrors:e}}function Va(t,l={}){var{lineCounter:s,prettyErrors:n}=To(l),p=new Si(s==null?void 0:s.addNewLine),l=new is(l),p=Array.from(l.compose(p.parse(t)));if(n&&s)for(var h of p)h.errors.forEach(gi(t,s)),h.warnings.forEach(gi(t,s));return 0<p.length?p:Object.assign([],{empty:!0},l.streamInfo())}function Vn(t,e={}){var s,{lineCounter:n,prettyErrors:l}=To(e),p=new Si(n==null?void 0:n.addNewLine);let h=null;for(s of new is(e).compose(p.parse(t),!0,t.length))if(h){if(h.options.logLevel!=="silent"){h.errors.push(new Pr(s.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else h=s;return l&&n&&(h.errors.forEach(gi(t,n)),h.warnings.forEach(gi(t,n))),h}function Pi(t,e,s){let n,l=(typeof e=="function"?n=e:s===void 0&&e&&typeof e=="object"&&(s=e),Vn(t,s));if(!l)return null;if(l.warnings.forEach(p=>Pn(l.options.logLevel,p)),0<l.errors.length){if(l.options.logLevel!=="silent")throw l.errors[0];l.errors=[]}return l.toJS(Object.assign({reviver:n},s))}function Oi(t,e,s){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:s===void 0&&e&&(s=e),typeof(s=typeof s=="string"?s.length:s)=="number"&&(s=(l=Math.round(s))<1?void 0:8<l?{indent:8}:{indent:l}),t===void 0){var l=(s??e??{}).keepUndefined;if(!l)return}return($r(t)&&!n?t:new Dt(t,n,s)).toString(s)}var qa,Ni=Object.freeze({__proto__:null,Alias:Jr,CST:Je,Composer:is,Document:Dt,Lexer:$i,LineCounter:ki,Pair:mt,Parser:Si,Scalar:Me,Schema:Ys,YAMLError:xs,YAMLMap:St,YAMLParseError:Pr,YAMLSeq:sr,YAMLWarning:Qs,isAlias:_r,isCollection:nt,isDocument:$r,isMap:Fr,isNode:st,isPair:ze,isScalar:We,isSeq:pr,parse:Pi,parseAllDocuments:Va,parseDocument:Vn,stringify:Oi,visit:Mt,visitAsync:vs}),nr=Jn(Object.freeze({__proto__:null,Alias:Jr,CST:Je,Composer:is,Document:Dt,Lexer:$i,LineCounter:ki,Pair:mt,Parser:Si,Scalar:Me,Schema:Ys,YAMLError:xs,YAMLMap:St,YAMLParseError:Pr,YAMLSeq:sr,YAMLWarning:Qs,default:Ni,isAlias:_r,isCollection:nt,isDocument:$r,isMap:Fr,isNode:st,isPair:ze,isScalar:We,isSeq:pr,parse:Pi,parseAllDocuments:Va,parseDocument:Vn,stringify:Oi,visit:Mt,visitAsync:vs})),Ka={exports:{}},Co={},Or={},ls={},ji={},Ba={},xi={};function tn(){if(!qa){qa=1;{let l=function(u,...g){var O=[u[0]];let E=0;for(;E<g.length;)P(O,g[E]),O.push(u[++E]);return new n(O)},h=function(u,...g){var O=[v(u[0])];let E=0;for(;E<g.length;)O.push(p),P(O,g[E]),O.push(p,v(u[++E]));{var $=O;let I=1;for(;I<$.length-1;){if($[I]===p){var y=((T,M)=>M==='""'?T:T==='""'?M:typeof T!="string"?typeof M!="string"||M[0]!=='"'||T instanceof s?void 0:'"'+T+M.slice(1):M instanceof s||T[T.length-1]!=='"'?void 0:typeof M!="string"?""+T.slice(0,-1)+M+'"':M[0]==='"'?T.slice(0,-1)+M.slice(1):void 0)($[I-1],$[I+1]);if(y!==void 0){$.splice(I-1,3,y);continue}$[I++]="+"}I++}}return new n(O)},P=function(u,g){g instanceof n?u.push(...g._items):g instanceof s?u.push(g):u.push(typeof(u=g)=="number"||typeof u=="boolean"||u===null?u:v(Array.isArray(u)?u.join(","):u))},v=function(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};var t=xi;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends e{constructor(g){if(super(),!t.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=s;class n extends e{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){var g;return!(1<this._items.length||(g=this._items[0])!==""&&g!=='""')}get str(){var g;return(g=this._str)!=null?g:this._str=this._items.reduce((O,E)=>""+O+E,"")}get names(){var g;return(g=this._names)!=null?g:this._names=this._items.reduce((O,E)=>(E instanceof s&&(O[E.str]=(O[E.str]||0)+1),O),{})}}t._Code=n,t.nil=new n(""),t._=l;let p=new n("+");t.str=h,t.addCodeArg=P,t.strConcat=function(u,g){return g.emptyStr()?u:u.emptyStr()?g:h`${u}${g}`},t.stringify=function(u){return new n(v(u))},t.safeStringify=v,t.getProperty=function(u){return typeof u=="string"&&t.IDENTIFIER.test(u)?new n("."+u):l`[${u}]`},t.getEsmExportName=function(u){if(typeof u=="string"&&t.IDENTIFIER.test(u))return new n(""+u);throw new Error(`CodeGen: invalid export name: ${u}, use explicit $id name mapping`)},t.regexpCode=function(u){return new n(u.toString())}}}return xi}var Ua,Ai,Ii={};function Lo(){if(!Ua){Ua=1;{var t=Ii;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let n=tn();class l extends Error{constructor(g){super(`CodeGen: "code" for ${g} not defined`),this.value=g.value}}var e,s;(s=e||(t.UsedValueState=e={}))[s.Started=0]="Started",s[s.Completed=1]="Completed",t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class p{constructor({prefixes:g,parent:O}={}){this._names={},this._prefixes=g,this._parent=O}toName(g){return g instanceof n.Name?g:this.name(g)}name(g){return new n.Name(this._newName(g))}_newName(g){return""+g+(this._names[g]||this._nameGroup(g)).index++}_nameGroup(g){var O;if((O=(O=this._parent)==null?void 0:O._prefixes)!=null&&O.has(g)||this._prefixes&&!this._prefixes.has(g))throw new Error(`CodeGen: prefix "${g}" is not allowed in this scope`);return this._names[g]={prefix:g,index:0}}}t.Scope=p;class h extends n.Name{constructor(g,O){super(O),this.prefix=g}setValue(g,{property:O,itemIndex:E}){this.value=g,this.scopePath=(0,n._)`.${new n.Name(O)}[${E}]`}}t.ValueScopeName=h;let P=(0,n._)`\n`;class v extends p{constructor(g){super(g),this._values={},this._scope=g.scope,this.opts={...g,_n:g.lines?P:n.nil}}get(){return this._scope}name(g){return new h(g,this._newName(g))}value(E,O){if(O.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var E=this.toName(E),$=E.prefix,y=(y=O.key)!=null?y:O.ref;let I=this._values[$];if(I){var T=I.get(y);if(T)return T}else I=this._values[$]=new Map;return I.set(y,E),T=this._scope[$]||(this._scope[$]=[]),y=T.length,T[y]=O.ref,E.setValue(O,{property:$,itemIndex:y}),E}getValue(g,O){if(g=this._values[g],g)return g.get(O)}scopeRefs(g,O=this._values){return this._reduceValues(O,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,n._)`${g}${E.scopePath}`})}scopeCode(g=this._values,O,E){return this._reduceValues(g,$=>{if($.value===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return $.value.code},O,E)}_reduceValues(g,O,E={},$){let y=n.nil;for(var I in g){var T=g[I];if(T){let M=E[I]=E[I]||new Map;T.forEach(j=>{if(!M.has(j)){M.set(j,e.Started);var K=O(j);if(K){var W=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,n._)`${y}${W} ${j} = ${K};${this.opts._n}`}else{if(!(K=$==null?void 0:$(j)))throw new l(j);y=(0,n._)`${y}${K}${this.opts._n}`}M.set(j,e.Completed)}})}}return y}}t.ValueScope=v}}return Ii}function Ue(){if(!Ai){Ai=1;{let fe=function(z,B){for(var te in B)z[te]=(z[te]||0)+(B[te]||0);return z},ue=function(z,B){return B instanceof n._CodeOrName?fe(z,B.names):z},D=function(z,B,te){var ge;return z instanceof n.Name?Oe(z):(ge=z)instanceof n._Code&&ge._items.some(Te=>Te instanceof n.Name&&B[Te.str]===1&&te[Te.str]!==void 0)?new n._Code(z._items.reduce((Te,Be)=>((Be=Be instanceof n.Name?Oe(Be):Be)instanceof n._Code?Te.push(...Be._items):Te.push(Be),Te),[])):z;function Oe(Te){var Be=te[Te.str];return Be===void 0||B[Te.str]!==1?Te:(delete B[Te.str],Be)}},G=function(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,n._)`!${he(z)}`},ie=function(z){return(B,te)=>B===n.nil?te:te===n.nil?B:(0,n._)`${he(B)} ${z} ${he(te)}`},he=function(z){return z instanceof n.Name?z:(0,n._)`(${z})`};var t=Ba;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let n=tn(),l=Lo();var e=tn(),s=(Object.defineProperty(t,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return e.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return e.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return e.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return e.Name}}),Lo());Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class p{optimizeNodes(){return this}optimizeNames(B,te){return this}}class h extends p{constructor(B,te,ge){super(),this.varKind=B,this.name=te,this.rhs=ge}render({es5:ge,_n:te}){var ge=ge?l.varKinds.var:this.varKind,Oe=this.rhs===void 0?"":" = "+this.rhs;return`${ge} ${this.name}${Oe};`+te}optimizeNames(B,te){if(B[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,B,te)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class P extends p{constructor(B,te,ge){super(),this.lhs=B,this.rhs=te,this.sideEffects=ge}render({_n:B}){return`${this.lhs} = ${this.rhs};`+B}optimizeNames(B,te){if(!(this.lhs instanceof n.Name)||B[this.lhs.str]||this.sideEffects)return this.rhs=D(this.rhs,B,te),this}get names(){return ue(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class v extends P{constructor(B,te,ge,Oe){super(B,ge,Oe),this.op=te}render({_n:B}){return`${this.lhs} ${this.op}= ${this.rhs};`+B}}class u extends p{constructor(B){super(),this.label=B,this.names={}}render({_n:B}){return this.label+":"+B}}class g extends p{constructor(B){super(),this.label=B,this.names={}}render({_n:B}){return`break${this.label?" "+this.label:""};`+B}}class O extends p{constructor(B){super(),this.error=B}render({_n:B}){return`throw ${this.error};`+B}get names(){return this.error.names}}class E extends p{constructor(B){super(),this.code=B}render({_n:B}){return this.code+";"+B}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(B,te){return this.code=D(this.code,B,te),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class $ extends p{constructor(B=[]){super(),this.nodes=B}render(B){return this.nodes.reduce((te,ge)=>te+ge.render(B),"")}optimizeNodes(){var B=this.nodes;let te=B.length;for(;te--;){var ge=B[te].optimizeNodes();Array.isArray(ge)?B.splice(te,1,...ge):ge?B[te]=ge:B.splice(te,1)}return 0<B.length?this:void 0}optimizeNames(B,te){var ge=this.nodes;let Oe=ge.length;for(;Oe--;){var Te=ge[Oe];if(!Te.optimizeNames(B,te)){Be=dt=Le=void 0;var Be,Le=B,dt=Te.names;for(Be in dt)Le[Be]=(Le[Be]||0)-(dt[Be]||0);ge.splice(Oe,1)}}return 0<ge.length?this:void 0}get names(){return this.nodes.reduce((B,te)=>fe(B,te.names),{})}}class y extends ${render(B){return"{"+B._n+super.render(B)+"}"+B._n}}class I extends ${}class T extends y{}T.kind="else";class M extends y{constructor(B,te){super(te),this.condition=B}render(B){let te=`if(${this.condition})`+super.render(B);return this.else&&(te+="else "+this.else.render(B)),te}optimizeNodes(){super.optimizeNodes();var B,te=this.condition;if(te===!0)return this.nodes;let ge=this.else;return ge&&(B=ge.optimizeNodes(),ge=this.else=Array.isArray(B)?new T(B):B),ge?te===!1?ge instanceof M?ge:ge.nodes:this.nodes.length?this:new M(G(te),ge instanceof M?[ge]:ge.nodes):te!==!1&&this.nodes.length?this:void 0}optimizeNames(B,te){var ge;if(this.else=(ge=this.else)==null?void 0:ge.optimizeNames(B,te),super.optimizeNames(B,te)||this.else)return this.condition=D(this.condition,B,te),this}get names(){var B=super.names;return ue(B,this.condition),this.else&&fe(B,this.else.names),B}}M.kind="if";class j extends y{}j.kind="for";class K extends j{constructor(B){super(),this.iteration=B}render(B){return`for(${this.iteration})`+super.render(B)}optimizeNames(B,te){if(super.optimizeNames(B,te))return this.iteration=D(this.iteration,B,te),this}get names(){return fe(super.names,this.iteration.names)}}class W extends j{constructor(B,te,ge,Oe){super(),this.varKind=B,this.name=te,this.from=ge,this.to=Oe}render(B){var{name:te,from:ge,to:Oe}=this;return`for(${B.es5?l.varKinds.var:this.varKind} ${te}=${ge}; ${te}<${Oe}; ${te}++)`+super.render(B)}get names(){var B=ue(super.names,this.from);return ue(B,this.to)}}class X extends j{constructor(B,te,ge,Oe){super(),this.loop=B,this.varKind=te,this.name=ge,this.iterable=Oe}render(B){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(B)}optimizeNames(B,te){if(super.optimizeNames(B,te))return this.iterable=D(this.iterable,B,te),this}get names(){return fe(super.names,this.iterable.names)}}class se extends y{constructor(B,te,ge){super(),this.name=B,this.args=te,this.async=ge}render(B){return(this.async?"async ":"")+`function ${this.name}(${this.args})`+super.render(B)}}se.kind="func";class be extends ${render(B){return"return "+super.render(B)}}be.kind="return";class Ee extends y{render(B){let te="try"+super.render(B);return this.catch&&(te+=this.catch.render(B)),this.finally&&(te+=this.finally.render(B)),te}optimizeNodes(){var B;return super.optimizeNodes(),(B=this.catch)!=null&&B.optimizeNodes(),(B=this.finally)!=null&&B.optimizeNodes(),this}optimizeNames(B,te){var ge;return super.optimizeNames(B,te),(ge=this.catch)!=null&&ge.optimizeNames(B,te),(ge=this.finally)!=null&&ge.optimizeNames(B,te),this}get names(){var B=super.names;return this.catch&&fe(B,this.catch.names),this.finally&&fe(B,this.finally.names),B}}class ne extends y{constructor(B){super(),this.error=B}render(B){return`catch(${this.error})`+super.render(B)}}ne.kind="catch";class pe extends y{render(B){return"finally"+super.render(B)}}pe.kind="finally",t.CodeGen=class{constructor(z,B={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...B,_n:B.lines?`
`:""},this._extScope=z,this._scope=new l.Scope({parent:z}),this._nodes=[new I]}toString(){return this._root.render(this.opts)}name(z){return this._scope.name(z)}scopeName(z){return this._extScope.name(z)}scopeValue(z,B){return z=this._extScope.value(z,B),(this._values[z.prefix]||(this._values[z.prefix]=new Set)).add(z),z}getScopeValue(z,B){return this._extScope.getValue(z,B)}scopeRefs(z){return this._extScope.scopeRefs(z,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(z,B,te,ge){return B=this._scope.toName(B),te!==void 0&&ge&&(this._constants[B.str]=te),this._leafNode(new h(z,B,te)),B}const(z,B,te){return this._def(l.varKinds.const,z,B,te)}let(z,B,te){return this._def(l.varKinds.let,z,B,te)}var(z,B,te){return this._def(l.varKinds.var,z,B,te)}assign(z,B,te){return this._leafNode(new P(z,B,te))}add(z,B){return this._leafNode(new v(z,t.operators.ADD,B))}code(z){return typeof z=="function"?z():z!==n.nil&&this._leafNode(new E(z)),this}object(...z){var B,te,ge=["{"];for([B,te]of z)1<ge.length&&ge.push(","),ge.push(B),B===te&&!this.opts.es5||(ge.push(":"),(0,n.addCodeArg)(ge,te));return ge.push("}"),new n._Code(ge)}if(z,B,te){if(this._blockNode(new M(z)),B&&te)this.code(B).else().code(te).endIf();else if(B)this.code(B).endIf();else if(te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(z){return this._elseNode(new M(z))}else(){return this._elseNode(new T)}endIf(){return this._endBlockNode(M,T)}_for(z,B){return this._blockNode(z),B&&this.code(B).endFor(),this}for(z,B){return this._for(new K(z),B)}forRange(z,B,te,ge,Oe=this.opts.es5?l.varKinds.var:l.varKinds.let){let Te=this._scope.toName(z);return this._for(new W(Oe,Te,B,te),()=>ge(Te))}forOf(z,B,te,ge=l.varKinds.const){let Oe=this._scope.toName(z);if(this.opts.es5){let Te=B instanceof n.Name?B:this.var("_arr",B);return this.forRange("_i",0,(0,n._)`${Te}.length`,Be=>{this.var(Oe,(0,n._)`${Te}[${Be}]`),te(Oe)})}return this._for(new X("of",ge,Oe,B),()=>te(Oe))}forIn(z,B,te,ge=this.opts.es5?l.varKinds.var:l.varKinds.const){if(this.opts.ownProperties)return this.forOf(z,(0,n._)`Object.keys(${B})`,te);let Oe=this._scope.toName(z);return this._for(new X("in",ge,Oe,B),()=>te(Oe))}endFor(){return this._endBlockNode(j)}label(z){return this._leafNode(new u(z))}break(z){return this._leafNode(new g(z))}return(z){var B=new be;if(this._blockNode(B),this.code(z),B.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(be)}try(z,B,te){var ge;if(B||te)return ge=new Ee,this._blockNode(ge),this.code(z),B&&(z=this.name("e"),this._currNode=ge.catch=new ne(z),B(z)),te&&(this._currNode=ge.finally=new pe,this.code(te)),this._endBlockNode(ne,pe);throw new Error('CodeGen: "try" without "catch" and "finally"')}throw(z){return this._leafNode(new O(z))}block(z,B){return this._blockStarts.push(this._nodes.length),z&&this.code(z).endBlock(B),this}endBlock(z){var B=this._blockStarts.pop();if(B===void 0)throw new Error("CodeGen: not in self-balancing block");var te=this._nodes.length-B;if(te<0||z!==void 0&&te!==z)throw new Error(`CodeGen: wrong number of nodes: ${te} vs ${z} expected`);return this._nodes.length=B,this}func(z,B=n.nil,te,ge){return this._blockNode(new se(z,B,te)),ge&&this.code(ge).endFunc(),this}endFunc(){return this._endBlockNode(se)}optimize(z=1){for(;0<z--;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(z){return this._currNode.nodes.push(z),this}_blockNode(z){this._currNode.nodes.push(z),this._nodes.push(z)}_endBlockNode(z,B){var te=this._currNode;if(te instanceof z||B&&te instanceof B)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${B?z.kind+"/"+B.kind:z.kind}"`)}_elseNode(z){var B=this._currNode;if(B instanceof M)return this._currNode=B.else=z,this;throw new Error('CodeGen: "else" without "if"')}get _root(){return this._nodes[0]}get _currNode(){var z=this._nodes;return z[z.length-1]}set _currNode(z){var B=this._nodes;B[B.length-1]=z}},t.not=G;let Y=ie(t.operators.AND),oe=(t.and=function(...z){return z.reduce(Y)},ie(t.operators.OR));t.or=function(...z){return z.reduce(oe)}}}return Ba}var Ti,Fe={};function He(){if(!Ti){let p=function($,y=$.schema){var{opts:I,self:T}=$;if(I.strictSchema&&typeof y!="boolean"){var M,j=T.RULES.keywords;for(M in y)j[M]||E($,`unknown keyword: "${M}"`)}},h=function($,y){if(typeof $=="boolean")return!$;for(var I in $)if(y[I])return!0;return!1},P=function($){return typeof $=="number"?""+$:$.replace(/~/g,"~0").replace(/\//g,"~1")},v=function($){return $.replace(/~1/g,"/").replace(/~0/g,"~")},u=function({mergeNames:$,mergeToName:y,mergeValues:I,resultToName:T}){return(M,j,K,W)=>(j=K===void 0?j:K instanceof s.Name?((j instanceof s.Name?$:y)(M,j,K),K):j instanceof s.Name?(y(M,K,j),j):I(j,K),W!==s.Name||j instanceof s.Name?j:T(M,j))},g=function($,y){var I;return y===!0?$.var("props",!0):(I=$.var("props",(0,s._)`{}`),y!==void 0&&O($,I,y),I)},O=function($,y,I){Object.keys(I).forEach(T=>$.assign((0,s._)`${y}${(0,s.getProperty)(T)}`,!0))},E=function($,y,I=$.opts.strictSchema){if(I){if(y="strict mode: "+y,I===!0)throw new Error(y);$.self.logger.warn(y)}};Ti=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.checkStrictMode=Fe.getErrorPath=Fe.Type=Fe.useFunc=Fe.setEvaluated=Fe.evaluatedPropsToName=Fe.mergeEvaluated=Fe.eachItem=Fe.unescapeJsonPointer=Fe.escapeJsonPointer=Fe.escapeFragment=Fe.unescapeFragment=Fe.schemaRefOrVal=Fe.schemaHasRulesButRef=Fe.schemaHasRules=Fe.checkUnknownRules=Fe.alwaysValidSchema=Fe.toHash=void 0;let s=Ue(),n=tn(),l=(Fe.toHash=function($){var y,I={};for(y of $)I[y]=!0;return I},Fe.alwaysValidSchema=function($,y){return typeof y=="boolean"?y:Object.keys(y).length===0||(p($,y),!h(y,$.self.RULES.all))},Fe.checkUnknownRules=p,Fe.schemaHasRules=h,Fe.schemaHasRulesButRef=function($,y){if(typeof $=="boolean")return!$;for(var I in $)if(I!=="$ref"&&y.all[I])return!0;return!1},Fe.schemaRefOrVal=function({topSchemaRef:$,schemaPath:y},I,T,M){if(!M){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,s._)`${I}`}return(0,s._)`${$}${y}${(0,s.getProperty)(T)}`},Fe.unescapeFragment=function($){return v(decodeURIComponent($))},Fe.escapeFragment=function($){return encodeURIComponent(P($))},Fe.escapeJsonPointer=P,Fe.unescapeJsonPointer=v,Fe.eachItem=function($,y){if(Array.isArray($))for(var I of $)y(I);else y($)},Fe.mergeEvaluated={props:u({mergeNames:($,y,I)=>$.if((0,s._)`${I} !== true && ${y} !== undefined`,()=>{$.if((0,s._)`${y} === true`,()=>$.assign(I,!0),()=>$.assign(I,(0,s._)`${I} || {}`).code((0,s._)`Object.assign(${I}, ${y})`))}),mergeToName:($,y,I)=>$.if((0,s._)`${I} !== true`,()=>{y===!0?$.assign(I,!0):($.assign(I,(0,s._)`${I} || {}`),O($,I,y))}),mergeValues:($,y)=>$===!0||{...$,...y},resultToName:g}),items:u({mergeNames:($,y,I)=>$.if((0,s._)`${I} !== true && ${y} !== undefined`,()=>$.assign(I,(0,s._)`${y} === true ? true : ${I} > ${y} ? ${I} : ${y}`)),mergeToName:($,y,I)=>$.if((0,s._)`${I} !== true`,()=>$.assign(I,y===!0||(0,s._)`${I} > ${y} ? ${I} : ${y}`)),mergeValues:($,y)=>$===!0||Math.max($,y),resultToName:($,y)=>$.var("items",y)})},Fe.evaluatedPropsToName=g,Fe.setEvaluated=O,{});var t,e;Fe.useFunc=function($,y){return $.scopeValue("func",{ref:y,code:l[y.code]||(l[y.code]=new n._Code(y.code))})},(e=t||(Fe.Type=t={}))[e.Num=0]="Num",e[e.Str=1]="Str",Fe.getErrorPath=function($,y,I){return $ instanceof s.Name?(y=y===t.Num,I?y?(0,s._)`"[" + ${$} + "]"`:(0,s._)`"['" + ${$} + "']"`:y?(0,s._)`"/" + ${$}`:(0,s._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`):I?(0,s.getProperty)($).toString():"/"+P($)},Fe.checkStrictMode=E}return Fe}var Fa,Ci,Mo,Li={};function ir(){var t;return Fa||(Fa=1,Object.defineProperty(Li,"__esModule",{value:!0}),t={data:new(t=Ue()).Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")},Li.default=t),Li}function rn(){if(!Ci){Ci=1;{let l=function(v,u){let g=v.const("err",u);v.if((0,e._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${n.default.vErrors}.push(${g})`),v.code((0,e._)`${n.default.errors}++`)},p=function(v,u){var{gen:g,validateName:O,schemaEnv:E}=v;E.$async?g.throw((0,e._)`new ${v.ValidationError}(${u})`):(g.assign((0,e._)`${O}.errors`,u),g.return(!1))},P=function(v,u,g){var O,E,$,y,I,T,M,j,K,W=v.it.createErrors;return W===!1?(0,e._)`{}`:([W,v,u={}]=[v,u,g],{gen:g,it:O}=W,O=[(({errorPath:X},{instancePath:se})=>(se=se?(0,e.str)`${X}${(0,s.getErrorPath)(se,s.Type.Str)}`:X,[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,se)]))(O,u),(({keyword:X,it:{errSchemaPath:se}},{schemaPath:be,parentSchema:Ee})=>{let ne=Ee?se:(0,e.str)`${se}/${X}`;return be&&(ne=(0,e.str)`${ne}${(0,s.getErrorPath)(be,s.Type.Str)}`),[h.schemaPath,ne]})(W,u)],[u,{params:W,message:v},E]=[W,v,O],{keyword:$,data:y,schemaValue:I,it:T}=u,{opts:T,propertyName:M,topSchemaRef:j,schemaPath:K}=T,E.push([h.keyword,$],[h.params,typeof W=="function"?W(u):W||(0,e._)`{}`]),T.messages&&E.push([h.message,typeof v=="function"?v(u):v]),T.verbose&&E.push([h.schema,I],[h.parentSchema,(0,e._)`${j}${K}`],[n.default.data,y]),M&&E.push([h.propertyName,M]),g.object(...O))};var t=ji;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let e=Ue(),s=He(),n=ir();t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:u})=>u?(0,e.str)`"${v}" keyword must be ${u} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`},t.reportError=function(T,u=t.keywordError,g,O){var E=T.it,{gen:$,compositeRule:y,allErrors:I}=E,T=P(T,u,g);O??(y||I)?l($,T):p(E,(0,e._)`[${T}]`)},t.reportExtraError=function(v,u=t.keywordError,g){var O=v.it,{gen:E,compositeRule:$,allErrors:y}=O;l(E,P(v,u,g)),$||y||p(O,n.default.vErrors)},t.resetErrorsCount=function(v,u){v.assign(n.default.errors,u),v.if((0,e._)`${n.default.vErrors} !== null`,()=>v.if(u,()=>v.assign((0,e._)`${n.default.vErrors}.length`,u),()=>v.assign(n.default.vErrors,null)))},t.extendErrors=function({gen:v,keyword:u,schemaValue:g,data:O,errsCount:E,it:$}){if(E===void 0)throw new Error("ajv implementation error");let y=v.name("err");v.forRange("i",E,n.default.errors,I=>{v.const(y,(0,e._)`${n.default.vErrors}[${I}]`),v.if((0,e._)`${y}.instancePath === undefined`,()=>v.assign((0,e._)`${y}.instancePath`,(0,e.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,e._)`${y}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${u}`),$.opts.verbose&&(v.assign((0,e._)`${y}.schema`,g),v.assign((0,e._)`${y}.data`,O))})};let h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")}}}return ji}function Ro(){if(!Mo){let l=function(p,h){var{gen:v,data:P}=p,v={gen:v,keyword:"false schema",data:P,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:p};(0,t.reportError)(v,n,void 0,h)};Mo=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.boolOrEmptySchema=ls.topBoolOrEmptySchema=void 0;let t=rn(),e=Ue(),s=ir(),n={message:"boolean schema is false"};ls.topBoolOrEmptySchema=function(p){var{gen:h,schema:P,validateName:v}=p;P===!1?l(p,!1):typeof P=="object"&&P.$async===!0?h.return(s.default.data):(h.assign((0,e._)`${v}.errors`,null),h.return(!0))},ls.boolOrEmptySchema=function(p,h){var{gen:P,schema:v}=p;v===!1?(P.var(h,!1),l(p)):P.var(h,!0)}}return ls}var Mi,yt={},cs={};function Do(){if(!Mi){Mi=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.getRules=cs.isJSONType=void 0;let t=new Set(["string","number","integer","boolean","null","object","array"]);cs.isJSONType=function(e){return typeof e=="string"&&t.has(e)},cs.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}}return cs}var za,Ri,Nr={};function Ga(){return za||(za=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.shouldUseRule=Nr.shouldUseGroup=Nr.schemaHasRulesForType=void 0,Nr.schemaHasRulesForType=function({schema:s,self:n},l){return(n=n.RULES.types[l])&&n!==!0&&t(s,n)},Nr.shouldUseGroup=t,Nr.shouldUseRule=e),Nr;function t(s,n){return n.rules.some(l=>e(s,l))}function e(s,n){return s[n.keyword]!==void 0||((n=n.definition.implements)==null?void 0:n.some(l=>s[l]!==void 0))}}function sn(){if(!Ri){let u=function($){if($=Array.isArray($)?$:$?[$]:[],$.every(s.isJSONType))return $;throw new Error("type must be JSONType or JSONType[]: "+$.join(","))},g=function($,y,I,T=t.Correct){var M=T===t.Correct?p.operators.EQ:p.operators.NEQ;let j;switch($){case"null":return(0,p._)`${y} ${M} null`;case"array":j=(0,p._)`Array.isArray(${y})`;break;case"object":j=(0,p._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":j=K((0,p._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":j=K();break;default:return(0,p._)`typeof ${y} ${M} ${$}`}return T===t.Correct?j:(0,p.not)(j);function K(W=p.nil){return(0,p.and)((0,p._)`typeof ${y} == "number"`,W,I?(0,p._)`isFinite(${y})`:p.nil)}},O=function(W,y,I,T){if(W.length===1)return g(W[0],y,I,T);let M;var j,K,W=(0,h.toHash)(W);for(K in W.array&&W.object?(j=(0,p._)`typeof ${y} != "object"`,M=W.null?j:(0,p._)`!${y} || ${j}`,delete W.null,delete W.array,delete W.object):M=p.nil,W.number&&delete W.integer,W)M=(0,p.and)(M,g(K,y,I,T));return M},E=function($){$=(y=>{var{gen:I,data:T,schema:M}=y,j=(0,h.schemaRefOrVal)(y,M,"type");return{gen:I,keyword:"type",data:T,schema:M.type,schemaCode:j,schemaValue:j,parentSchema:M,params:{},it:y}})($),(0,l.reportError)($,v)};Ri=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.reportTypeError=yt.checkDataTypes=yt.checkDataType=yt.coerceAndCheckDataType=yt.getJSONTypes=yt.getSchemaTypes=yt.DataType=void 0;let s=Do(),n=Ga(),l=rn(),p=Ue(),h=He();var t,e;(e=t||(yt.DataType=t={}))[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong",yt.getSchemaTypes=function($){var y=u($.type);if(y.includes("null")){if($.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&$.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');$.nullable===!0&&y.push("null")}return y},yt.getJSONTypes=u,yt.coerceAndCheckDataType=function($,y){var I,{gen:T,data:M,opts:j}=$;W=y;let K=(I=j.coerceTypes)?W.filter(X=>P.has(X)||I==="array"&&X==="array"):[];var W=0<y.length&&!(K.length===0&&y.length===1&&(0,n.schemaHasRulesForType)($,y[0]));return W&&(M=O(y,M,j.strictNumbers,t.Wrong),T.if(M,()=>{if(K.length){var X,se=$,be=y,Ee=K;let{gen:ne,data:pe,opts:fe}=se,ue=ne.let("dataType",(0,p._)`typeof ${pe}`),D=ne.let("coerced",(0,p._)`undefined`);fe.coerceTypes==="array"&&ne.if((0,p._)`${ue} == 'object' && Array.isArray(${pe}) && ${pe}.length == 1`,()=>ne.assign(pe,(0,p._)`${pe}[0]`).assign(ue,(0,p._)`typeof ${pe}`).if(O(be,pe,fe.strictNumbers),()=>ne.assign(D,pe))),ne.if((0,p._)`${D} !== undefined`);for(X of Ee)(P.has(X)||X==="array"&&fe.coerceTypes==="array")&&(G=>{switch(G){case"string":return ne.elseIf((0,p._)`${ue} == "number" || ${ue} == "boolean"`).assign(D,(0,p._)`"" + ${pe}`).elseIf((0,p._)`${pe} === null`).assign(D,(0,p._)`""`);case"number":return ne.elseIf((0,p._)`${ue} == "boolean" || ${pe} === null
              || (${ue} == "string" && ${pe} && ${pe} == +${pe})`).assign(D,(0,p._)`+${pe}`);case"integer":return ne.elseIf((0,p._)`${ue} === "boolean" || ${pe} === null
              || (${ue} === "string" && ${pe} && ${pe} == +${pe} && !(${pe} % 1))`).assign(D,(0,p._)`+${pe}`);case"boolean":return ne.elseIf((0,p._)`${pe} === "false" || ${pe} === 0 || ${pe} === null`).assign(D,!1).elseIf((0,p._)`${pe} === "true" || ${pe} === 1`).assign(D,!0);case"null":return ne.elseIf((0,p._)`${pe} === "" || ${pe} === 0 || ${pe} === false`),ne.assign(D,null);case"array":ne.elseIf((0,p._)`${ue} === "string" || ${ue} === "number"
              || ${ue} === "boolean" || ${pe} === null`).assign(D,(0,p._)`[${pe}]`)}})(X);ne.else(),E(se),ne.endIf(),ne.if((0,p._)`${D} !== undefined`,()=>{var G,Y,oe,ie;ne.assign(pe,D),[{gen:G,parentData:Y,parentDataProperty:oe},ie]=[se,D],G.if((0,p._)`${Y} !== undefined`,()=>G.assign((0,p._)`${Y}[${oe}]`,ie))})}else E($)})),W};let P=new Set(["string","number","integer","boolean","null"]),v=(yt.checkDataType=g,yt.checkDataTypes=O,{message:({schema:$})=>"must be "+$,params:({schema:$,schemaValue:y})=>typeof $=="string"?(0,p._)`{type: ${$}}`:(0,p._)`{type: ${y}}`});yt.reportTypeError=E}return yt}var Vo,Di={};function qo(){if(!Vo){let s=function(n,l,p){var{gen:h,compositeRule:P,data:v,opts:u}=n;if(p!==void 0)if(v=(0,t._)`${v}${(0,t.getProperty)(l)}`,P)(0,e.checkStrictMode)(n,"default is ignored for: "+v);else{let g=(0,t._)`${v} === undefined`;u.useDefaults==="empty"&&(g=(0,t._)`${g} || ${v} === null || ${v} === ""`),h.if(g,(0,t._)`${v} = ${(0,t.stringify)(p)}`)}};Vo=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.assignDefaults=void 0;let t=Ue(),e=He();Di.assignDefaults=function(n,l){var{properties:p,items:h}=n.schema;if(l==="object"&&p)for(var P in p)s(n,P,p[P].default);else l==="array"&&Array.isArray(h)&&h.forEach((v,u)=>s(n,u,v.default))}}return Di}var Vi,nn,ar={},et={};function Zt(){if(!Vi){let p=function(u){return u.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})},h=function(u,g,O){return(0,t._)`${p(u)}.call(${g}, ${O})`},P=function(u,g,O,E){var $=(0,t._)`${g}${(0,t.getProperty)(O)} === undefined`;return E?(0,t.or)($,(0,t.not)(h(u,g,O))):$},v=function(u){return u?Object.keys(u).filter(g=>g!=="__proto__"):[]};Vi=1,Object.defineProperty(et,"__esModule",{value:!0}),et.validateUnion=et.validateArray=et.usePattern=et.callValidateCode=et.schemaProperties=et.allSchemaProperties=et.noPropertyInData=et.propertyInData=et.isOwnProperty=et.hasPropFunc=et.reportMissingProp=et.checkMissingProp=et.checkReportMissingProp=void 0;let t=Ue(),e=He(),s=ir(),n=He(),l=(et.checkReportMissingProp=function(u,g){var{gen:O,data:E,it:$}=u;O.if(P(O,E,g,$.opts.ownProperties),()=>{u.setParams({missingProperty:(0,t._)`${g}`},!0),u.error()})},et.checkMissingProp=function({gen:u,data:g,it:{opts:O}},E,$){return(0,t.or)(...E.map(y=>(0,t.and)(P(u,g,y,O.ownProperties),(0,t._)`${$} = ${y}`)))},et.reportMissingProp=function(u,g){u.setParams({missingProperty:g},!0),u.error()},et.hasPropFunc=p,et.isOwnProperty=h,et.propertyInData=function(u,g,O,E){var $=(0,t._)`${g}${(0,t.getProperty)(O)} !== undefined`;return E?(0,t._)`${$} && ${h(u,g,O)}`:$},et.noPropertyInData=P,et.allSchemaProperties=v,et.schemaProperties=function(u,g){return v(g).filter(O=>!(0,e.alwaysValidSchema)(u,g[O]))},et.callValidateCode=function({schemaCode:u,data:g,it:{gen:O,topSchemaRef:E,schemaPath:$,errorPath:y},it:I},T,M,j){return j=j?(0,t._)`${u}, ${g}, ${E}${$}`:g,u=[[s.default.instancePath,(0,t.strConcat)(s.default.instancePath,y)],[s.default.parentData,I.parentData],[s.default.parentDataProperty,I.parentDataProperty],[s.default.rootData,s.default.rootData]],I.opts.dynamicRef&&u.push([s.default.dynamicAnchors,s.default.dynamicAnchors]),E=(0,t._)`${j}, ${O.object(...u)}`,M!==t.nil?(0,t._)`${T}.call(${M}, ${E})`:(0,t._)`${T}(${E})`},(0,t._)`new RegExp`);et.usePattern=function({gen:u,it:{opts:g}},O){var E=g.unicodeRegExp?"u":"",$=(g=g.code.regExp)(O,E);return u.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,t._)`${g.code==="new RegExp"?l:(0,n.useFunc)(u,g)}(${O}, ${E})`})},et.validateArray=function(u){let{gen:g,data:O,keyword:E,it:$}=u,y=g.name("valid");if($.allErrors){let T=g.let("valid",!0);return I(()=>g.assign(T,!1)),T}return g.var(y,!0),I(()=>g.break()),y;function I(T){var M=g.const("len",(0,t._)`${O}.length`);g.forRange("i",0,M,j=>{u.subschema({keyword:E,dataProp:j,dataPropType:e.Type.Num},y),g.if((0,t.not)(y),T)})}},et.validateUnion=function(u){let{gen:g,schema:O,keyword:E,it:$}=u;if(!Array.isArray(O))throw new Error("ajv implementation error");var y=O.some(I=>(0,e.alwaysValidSchema)($,I));if(!y||$.opts.unevaluated){let I=g.let("valid",!1),T=g.name("_valid");g.block(()=>O.forEach((M,j)=>{j=u.subschema({keyword:E,schemaProp:j,compositeRule:!0},T),g.assign(I,(0,t._)`${I} || ${T}`),j=u.mergeValidEvaluated(j,T),j||g.if((0,t.not)(I))})),u.result(I,()=>u.reset(),()=>u.error(!0))}}}return et}function Ja(){if(!nn){let l=function(h){let{gen:P,data:v,it:u}=h;P.if(u.parentData,()=>P.assign(v,(0,t._)`${u.parentData}[${u.parentDataProperty}]`))},p=function(h,P,v){if(v===void 0)throw new Error(`keyword "${P}" failed to compile`);return h.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,t.stringify)(v)})};nn=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.validateKeywordUsage=ar.validSchemaType=ar.funcKeywordCode=ar.macroKeywordCode=void 0;let t=Ue(),e=ir(),s=Zt(),n=rn();ar.macroKeywordCode=function(h,O){var{gen:v,keyword:u,schema:E,parentSchema:$,it:g}=h,O=O.macro.call(g.self,E,$,g),E=p(v,u,O),$=(g.opts.validateSchema!==!1&&g.self.validateSchema(O,!0),v.name("valid"));h.subschema({schema:O,schemaPath:t.nil,errSchemaPath:g.errSchemaPath+"/"+u,topSchemaRef:E,compositeRule:!0},$),h.pass($,()=>h.error(!0))},ar.funcKeywordCode=function(h,P){let v,{gen:u,keyword:g,schema:O,parentSchema:E,$data:$,it:y}=h;var[I,T]=[y.schemaEnv,P];if(T.async&&!I.$async)throw new Error("async keyword in sync schema");T=!$&&P.compile?P.compile.call(y.self,O,E,y):P.validate;let M=p(u,g,T),j=u.let("valid");function K(X=P.async?(0,t._)`await `:t.nil){var se=y.opts.passContext?e.default.this:e.default.self,be=!("compile"in P&&!$||P.schema===!1);u.assign(j,(0,t._)`${X}${(0,s.callValidateCode)(h,M,se,be)}`,P.modifying)}function W(X){var se;u.if((0,t.not)((se=P.valid)!=null?se:j),X)}h.block$data(j,function(){if(P.errors===!1)K(),P.modifying&&l(h),W(()=>h.error());else{let X=(P.async?()=>{let se=u.let("ruleErrs",null);return u.try(()=>K((0,t._)`await `),be=>u.assign(j,!1).if((0,t._)`${be} instanceof ${y.ValidationError}`,()=>u.assign(se,(0,t._)`${be}.errors`),()=>u.throw(be))),se}:()=>{var se=(0,t._)`${M}.errors`;return u.assign(se,null),K(t.nil),se})();P.modifying&&l(h),W(()=>{{var se=h,be=X;let Ee=se.gen;Ee.if((0,t._)`Array.isArray(${be})`,()=>{Ee.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${be} : ${e.default.vErrors}.concat(${be})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(se)},()=>se.error())}})}}),h.ok((v=P.valid)!=null?v:j)},ar.validSchemaType=function(h,P,v=!1){return!P.length||P.some(u=>u==="array"?Array.isArray(h):u==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==u||v&&h===void 0)},ar.validateKeywordUsage=function({schema:h,opts:P,self:v,errSchemaPath:u},g,O){if(Array.isArray(g.keyword)?!g.keyword.includes(O):g.keyword!==O)throw new Error("ajv implementation error");var E=g.dependencies;if(E!=null&&E.some($=>!Object.prototype.hasOwnProperty.call(h,$)))throw new Error(`parent schema must have dependencies of ${O}: `+E.join(","));if(g.validateSchema&&!g.validateSchema(h[O])){if(E=`keyword "${O}" value is invalid at path "${u}": `+v.errorsText(g.validateSchema.errors),P.validateSchema!=="log")throw new Error(E);v.logger.error(E)}}}return ar}var an,jr={};function Ko(){if(!an){an=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.extendSubschemaMode=jr.extendSubschemaData=jr.getSubschema=void 0;let t=Ue(),e=He();jr.getSubschema=function(s,{keyword:n,schemaProp:l,schema:p,schemaPath:h,errSchemaPath:P,topSchemaRef:v}){if(n!==void 0&&p!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');var u;if(n!==void 0)return u=s.schema[n],l===void 0?{schema:u,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(n)}`,errSchemaPath:s.errSchemaPath+"/"+n}:{schema:u[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(n)}${(0,t.getProperty)(l)}`,errSchemaPath:s.errSchemaPath+`/${n}/`+(0,e.escapeFragment)(l)};if(p===void 0)throw new Error('either "keyword" or "schema" must be passed');if(h===void 0||P===void 0||v===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:h,topSchemaRef:v,errSchemaPath:P}},jr.extendSubschemaData=function(s,n,{dataProp:l,dataPropType:p,data:h,dataTypes:P,propertyName:v}){if(h!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var u,g,O,E=n.gen;function $(y){s.data=y,s.dataLevel=n.dataLevel+1,s.dataTypes=[],n.definedProperties=new Set,s.parentData=n.data,s.dataNames=[...n.dataNames,y]}l!==void 0&&({errorPath:u,dataPathArr:g,opts:O}=n,$(E.let("data",(0,t._)`${n.data}${(0,t.getProperty)(l)}`,!0)),s.errorPath=(0,t.str)`${u}${(0,e.getErrorPath)(l,p,O.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...g,s.parentDataProperty]),h!==void 0&&($(h instanceof t.Name?h:E.let("data",h,!0)),v!==void 0)&&(s.propertyName=v),P&&(s.dataTypes=P)},jr.extendSubschemaMode=function(s,{jtdDiscriminator:n,jtdMetadata:l,compositeRule:p,createErrors:h,allErrors:P}){p!==void 0&&(s.compositeRule=p),h!==void 0&&(s.createErrors=h),P!==void 0&&(s.allErrors=P),s.jtdDiscriminator=n,s.jtdMetadata=l}}return jr}var qi,Ha,Pt={};function Bo(){return Ha||(Ha=1,qi=function t(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var n,l,p;if(Array.isArray(e)){if((n=e.length)!=s.length)return!1;for(l=n;l--!=0;)if(!t(e[l],s[l]))return!1}else{if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((n=(p=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=n;l--!=0;)if(!Object.prototype.hasOwnProperty.call(s,p[l]))return!1;for(l=n;l--!=0;){var h=p[l];if(!t(e[h],s[h]))return!1}}return!0}return e!=e&&s!=s}),qi}var Wa,Ya,Uo,Qa={exports:{}};function Za(){var t;return Wa||(Wa=1,(t=Qa.exports=function(s,n,l){typeof n=="function"&&(l=n,n={}),function p(h,P,v,u,g,O,E,$,y,I){if(u&&typeof u=="object"&&!Array.isArray(u)){for(var T in P(u,g,O,E,$,y,I),u){var M=u[T];if(Array.isArray(M)){if(T in t.arrayKeywords)for(var j=0;j<M.length;j++)p(h,P,v,M[j],g+"/"+T+"/"+j,O,g,T,u,j)}else if(T in t.propsKeywords){if(M&&typeof M=="object")for(var K in M)p(h,P,v,M[K],g+"/"+T+"/"+e(K),O,g,T,u,K)}else(T in t.keywords||h.allKeys&&!(T in t.skipKeywords))&&p(h,P,v,M,g+"/"+T,O,g,T,u)}v(u,g,O,E,$,y,I)}}(n,typeof(l=n.cb||l)=="function"?l:l.pre||function(){},l.post||function(){},s,"",s)}).keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}),Qa.exports;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}}function qn(){if(!Ya){let P=function(O){for(var E in O)if(l.has(E)||(E=O[E],Array.isArray(E)&&E.some(P))||typeof E=="object"&&P(E))return!0;return!1},v=function(O,E="",$){return $!==!1&&(E=g(E)),$=O.parse(E),u(O,$)},u=function(O,E){return O.serialize(E).split("#")[0]+"#"},g=function(O){return O?O.replace(p,""):""};Ya=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.getSchemaRefs=Pt.resolveUrl=Pt.normalizeId=Pt._getFullPath=Pt.getFullPath=Pt.inlineRef=void 0;let t=He(),e=Bo(),s=Za(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]),l=(Pt.inlineRef=function(O,E=!0){return typeof O=="boolean"||(E===!0?!P(O):!!E&&function $(y){let I=0;for(var T in y)if(T==="$ref"||(I++,!n.has(T)&&(typeof y[T]=="object"&&(0,t.eachItem)(y[T],M=>I+=$(M)),I===1/0)))return 1/0;return I}(O)<=E)},new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"])),p=(Pt.getFullPath=v,Pt._getFullPath=u,/#\/?$/),h=(Pt.normalizeId=g,Pt.resolveUrl=function(O,E,$){return $=g($),O.resolve(E,$)},/^[a-z_][-a-z0-9._]*$/i);Pt.getSchemaRefs=function(O,E){if(typeof O=="boolean")return{};let{schemaId:$,uriResolver:y}=this.opts,I={"":E=g(O[$]||E)},T=v(y,E,!1),M={},j=new Set;return s(O,{allKeys:!0},(X,se,be,Ee)=>{if(Ee!==void 0){let fe=function(D){var G=this.opts.uriResolver.resolve;if(D=g(pe?G(pe,D):D),j.has(D))throw W(D);j.add(D);let Y=this.refs[D];return typeof(Y=typeof Y=="string"?this.refs[Y]:Y)=="object"?K(X,Y.schema,D):D!==g(ne)&&(D[0]==="#"?(K(X,M[D],D),M[D]=X):this.refs[D]=ne),D},ue=function(D){if(typeof D=="string"){if(!h.test(D))throw new Error(`invalid anchor "${D}"`);fe.call(this,"#"+D)}},ne=T+se,pe=I[Ee];typeof X[$]=="string"&&(pe=fe.call(this,X[$])),ue.call(this,X.$anchor),ue.call(this,X.$dynamicAnchor),I[se]=pe}}),M;function K(X,se,be){if(se!==void 0&&!e(X,se))throw W(be)}function W(X){return new Error(`reference "${X}" resolves to more than one schema`)}}}return Pt}function Ts(){if(!Uo){let I=function({gen:D,validateName:G,schema:Y,schemaEnv:oe,opts:ie},he){ie.code.es5?D.func(G,(0,P._)`${v.default.data}, ${v.default.valCxt}`,oe.$async,()=>{var z,B;D.code((0,P._)`"use strict"; ${T(Y,ie)}`),B=ie,(z=D).if(v.default.valCxt,()=>{z.var(v.default.instancePath,(0,P._)`${v.default.valCxt}.${v.default.instancePath}`),z.var(v.default.parentData,(0,P._)`${v.default.valCxt}.${v.default.parentData}`),z.var(v.default.parentDataProperty,(0,P._)`${v.default.valCxt}.${v.default.parentDataProperty}`),z.var(v.default.rootData,(0,P._)`${v.default.valCxt}.${v.default.rootData}`),B.dynamicRef&&z.var(v.default.dynamicAnchors,(0,P._)`${v.default.valCxt}.${v.default.dynamicAnchors}`)},()=>{z.var(v.default.instancePath,(0,P._)`""`),z.var(v.default.parentData,(0,P._)`undefined`),z.var(v.default.parentDataProperty,(0,P._)`undefined`),z.var(v.default.rootData,v.default.data),B.dynamicRef&&z.var(v.default.dynamicAnchors,(0,P._)`{}`)}),D.code(he)}):D.func(G,(0,P._)`${v.default.data}, ${G=ie,(0,P._)`{${v.default.instancePath}="", ${v.default.parentData}, ${v.default.parentDataProperty}, ${v.default.rootData}=${v.default.data}${G.dynamicRef?(0,P._)`, ${v.default.dynamicAnchors}={}`:P.nil}}={}`}`,oe.$async,()=>D.code(T(Y,ie)).code(he))},T=function(D,G){return D=typeof D=="object"&&D[G.schemaId],D&&(G.code.source||G.code.process)?(0,P._)`/*# sourceURL=${D} */`:P.nil},M=function(D,G){if(K(D)&&(W(D),j(D))){var Y=D,oe=G,{schema:ie,gen:he,opts:z}=Y;z.$comment&&ie.$comment&&se(Y);var B=(ie=Y).schema[ie.opts.schemaId];if(B&&(ie.baseId=(0,u.resolveUrl)(ie.opts.uriResolver,ie.baseId,B)),(ie=Y).schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema");z=he.const("_errs",v.default.errors),X(Y,z),he.var(oe,(0,P._)`${z} === ${v.default.errors}`)}else(0,t.boolOrEmptySchema)(D,G)},j=function({schema:D,self:G}){if(typeof D=="boolean")return!D;for(var Y in D)if(G.RULES.all[Y])return 1},K=function(D){return typeof D.schema!="boolean"},W=function(G){(0,g.checkUnknownRules)(G);var{schema:G,errSchemaPath:Y,opts:oe,self:ie}=G;G.$ref&&oe.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(G,ie.RULES)&&ie.logger.warn(`$ref: keywords ignored in schema at path "${Y}"`)},X=function(D,G){if(D.opts.jtd)return be(D,[],!1,G);var Y=(0,e.getSchemaTypes)(D.schema);be(D,Y,!(0,e.coerceAndCheckDataType)(D,Y),G)},se=function({gen:D,schemaEnv:G,schema:Y,errSchemaPath:oe,opts:ie}){Y=Y.$comment,ie.$comment===!0?D.code((0,P._)`${v.default.self}.logger.log(${Y})`):typeof ie.$comment=="function"&&(ie=(0,P.str)`${oe}/$comment`,oe=D.scopeValue("root",{ref:G.root}),D.code((0,P._)`${v.default.self}.opts.$comment(${Y}, ${ie}, ${oe}.schema)`))},be=function(D,G,Y,oe){let{gen:ie,schema:he,data:z,allErrors:B,opts:te,self:ge}=D,Oe=ge.RULES;if(!he.$ref||!te.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(he,Oe)){if(!te.jtd){var Te=D,Be=G;if(!Te.schemaEnv.meta&&Te.opts.strictTypes){var Le=Te,dt=Be;if(dt.length)if(Le.dataTypes.length){dt.forEach(Ze=>{ne(Le.dataTypes,Ze)||pe(Le,`type "${Ze}" not allowed by context "${Le.dataTypes.join(",")}"`)});var Xt,vr=Le,_e=dt,ke=[];for(Xt of vr.dataTypes)ne(_e,Xt)?ke.push(Xt):_e.includes("integer")&&Xt==="number"&&ke.push("integer");vr.dataTypes=ke}else Le.dataTypes=dt;Te.opts.allowUnionTypes||(vr=Te,1<(dt=Be).length&&(dt.length!==2||!dt.includes("null"))&&pe(vr,"use allowUnionTypes to allow union type keyword"));var Se,Ae=Te,Ie=Te.dataTypes,De=Ae.self.RULES.all;for(Se in De){var Ve=De[Se];typeof Ve=="object"&&(0,s.shouldUseRule)(Ae.schema,Ve)&&(Ve=Ve.definition.type,Ve.length)&&!Ve.some(Ze=>{return Ze=Ze,(po=Ie).includes(Ze)||Ze==="number"&&po.includes("integer");var po})&&pe(Ae,`missing type "${Ve.join(",")}" for keyword "${Se}"`)}}}ie.block(()=>{for(var Ze of Oe.rules)vt(Ze);vt(Oe.post)})}else ie.block(()=>fe(D,"$ref",Oe.all.$ref.definition));function vt(Ze){(0,s.shouldUseGroup)(he,Ze)&&(Ze.type?(ie.if((0,n.checkDataType)(Ze.type,z,te.strictNumbers)),Ee(D,Ze),G.length===1&&G[0]===Ze.type&&Y&&(ie.else(),(0,n.reportTypeError)(D)),ie.endIf()):Ee(D,Ze),B||ie.if((0,P._)`${v.default.errors} === ${oe||0}`))}},Ee=function(D,G){let{gen:Y,schema:oe,opts:{useDefaults:ie}}=D;ie&&(0,l.assignDefaults)(D,G.type),Y.block(()=>{for(var he of G.rules)(0,s.shouldUseRule)(oe,he)&&fe(D,he.keyword,he.definition,G.type)})},ne=function(D,G){return D.includes(G)||G==="integer"&&D.includes("number")},pe=function(D,G){G+=` at "${D.schemaEnv.baseId+D.errSchemaPath}" (strictTypes)`,(0,g.checkStrictMode)(D,G,D.opts.strictTypes)},fe=function(D,G,Y,oe){D=new E(D,Y,G),"code"in Y?Y.code(D,oe):D.$data&&Y.validate?(0,p.funcKeywordCode)(D,Y):"macro"in Y?(0,p.macroKeywordCode)(D,Y):(Y.compile||Y.validate)&&(0,p.funcKeywordCode)(D,Y)},ue=function(D,{dataLevel:G,dataNames:Y,dataPathArr:oe}){let ie,he;if(D==="")return v.default.rootData;if(D[0]==="/"){if(!$.test(D))throw new Error("Invalid JSON-pointer: "+D);ie=D,he=v.default.rootData}else{var z=y.exec(D);if(!z)throw new Error("Invalid JSON-pointer: "+D);if(D=+z[1],(ie=z[2])==="#"){if(G<=D)throw new Error(ge("property/index",D));return oe[G-D]}if(G<D)throw new Error(ge("data",D));if(he=Y[G-D],!ie)return he}let B=he;var te;for(te of ie.split("/"))te&&(he=(0,P._)`${he}${(0,P.getProperty)((0,g.unescapeJsonPointer)(te))}`,B=(0,P._)`${B} && ${he}`);return B;function ge(Oe,Te){return`Cannot access ${Oe} ${Te} levels up, current level is `+G}};Uo=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.getData=Or.KeywordCxt=Or.validateFunctionCode=void 0;let t=Ro(),e=sn(),s=Ga(),n=sn(),l=qo(),p=Ja(),h=Ko(),P=Ue(),v=ir(),u=qn(),g=He(),O=rn();Or.validateFunctionCode=function(D){if(K(D)&&(W(D),j(D))){var G=D;let{schema:Y,opts:oe,gen:ie}=G;I(G,()=>{oe.$comment&&Y.$comment&&se(G);var he,z=G,{schema:B,opts:te}=z;if(B.default!==void 0&&te.useDefaults&&te.strictSchema&&(0,g.checkStrictMode)(z,"default is ignored in the schema root"),ie.let(v.default.vErrors,null),ie.let(v.default.errors,0),oe.unevaluated){var ge=G;let{gen:Oe,validateName:Te}=ge;ge.evaluated=Oe.const("evaluated",(0,P._)`${Te}.evaluated`),Oe.if((0,P._)`${ge.evaluated}.dynamicProps`,()=>Oe.assign((0,P._)`${ge.evaluated}.props`,(0,P._)`undefined`)),Oe.if((0,P._)`${ge.evaluated}.dynamicItems`,()=>Oe.assign((0,P._)`${ge.evaluated}.items`,(0,P._)`undefined`))}X(G);{let{gen:Oe,schemaEnv:Te,validateName:Be,ValidationError:Le,opts:dt}=B=G;Te.$async?Oe.if((0,P._)`${v.default.errors} === 0`,()=>Oe.return(v.default.data),()=>Oe.throw((0,P._)`new ${Le}(${v.default.vErrors})`)):(Oe.assign((0,P._)`${Be}.errors`,v.default.vErrors),dt.unevaluated&&({gen:B,evaluated:te,props:z,items:he}=[B][0],z instanceof P.Name&&B.assign((0,P._)`${te}.props`,z),he instanceof P.Name)&&B.assign((0,P._)`${te}.items`,he),Oe.return((0,P._)`${v.default.errors} === 0`))}})}else I(D,()=>(0,t.topBoolOrEmptySchema)(D))};class E{constructor(G,Y,oe){if((0,p.validateKeywordUsage)(G,Y,oe),this.gen=G.gen,this.allErrors=G.allErrors,this.keyword=oe,this.data=G.data,this.schema=G.schema[oe],this.$data=Y.$data&&G.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(G,this.schema,oe,this.$data),this.schemaType=Y.schemaType,this.parentSchema=G.schema,this.params={},this.it=G,this.def=Y,this.$data)this.schemaCode=G.gen.const("vSchema",ue(this.$data,G));else if(this.schemaCode=this.schemaValue,!(0,p.validSchemaType)(this.schema,Y.schemaType,Y.allowUndefined))throw new Error(oe+" value must be "+JSON.stringify(Y.schemaType));("code"in Y?Y.trackErrors:Y.errors!==!1)&&(this.errsCount=G.gen.const("_errs",v.default.errors))}result(G,Y,oe){this.failResult((0,P.not)(G),Y,oe)}failResult(G,Y,oe){this.gen.if(G),oe?oe():this.error(),Y?(this.gen.else(),Y(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(G,Y){this.failResult((0,P.not)(G),void 0,Y)}fail(G){G===void 0?(this.error(),this.allErrors||this.gen.if(!1)):(this.gen.if(G),this.error(),this.allErrors?this.gen.endIf():this.gen.else())}fail$data(G){if(!this.$data)return this.fail(G);var Y=this.schemaCode;this.fail((0,P._)`${Y} !== undefined && (${(0,P.or)(this.invalid$data(),G)})`)}error(G,Y,oe){Y?(this.setParams(Y),this._error(G,oe),this.setParams({})):this._error(G,oe)}_error(G,Y){(G?O.reportExtraError:O.reportError)(this,this.def.error,Y)}$dataError(){(0,O.reportError)(this,this.def.$dataError||O.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,O.resetErrorsCount)(this.gen,this.errsCount)}ok(G){this.allErrors||this.gen.if(G)}setParams(G,Y){Y?Object.assign(this.params,G):this.params=G}block$data(G,Y,oe=P.nil){this.gen.block(()=>{this.check$data(G,oe),Y()})}check$data(G=P.nil,Y=P.nil){var oe,ie,he,z;this.$data&&({gen:oe,schemaCode:ie,schemaType:he,def:z}=this,oe.if((0,P.or)((0,P._)`${ie} === undefined`,Y)),G!==P.nil&&oe.assign(G,!0),(he.length||z.validateSchema)&&(oe.elseIf(this.invalid$data()),this.$dataError(),G!==P.nil)&&oe.assign(G,!1),oe.else())}invalid$data(){let{gen:G,schemaCode:Y,schemaType:oe,def:ie,it:he}=this;return(0,P.or)((()=>{if(oe.length){var z;if(Y instanceof P.Name)return z=Array.isArray(oe)?oe:[oe],(0,P._)`${(0,n.checkDataTypes)(z,Y,he.opts.strictNumbers,n.DataType.Wrong)}`;throw new Error("ajv implementation error")}return P.nil})(),(()=>{var z;return ie.validateSchema?(z=G.scopeValue("validate$data",{ref:ie.validateSchema}),(0,P._)`!${z}(${Y})`):P.nil})())}subschema(ie,Y){var oe=(0,h.getSubschema)(this.it,ie),ie=((0,h.extendSubschemaData)(oe,this.it,ie),(0,h.extendSubschemaMode)(oe,ie),{...this.it,...oe,items:void 0,props:void 0});return M(ie,Y),ie}mergeEvaluated(G,Y){var{it:oe,gen:ie}=this;oe.opts.unevaluated&&(oe.props!==!0&&G.props!==void 0&&(oe.props=g.mergeEvaluated.props(ie,G.props,oe.props,Y)),oe.items!==!0)&&G.items!==void 0&&(oe.items=g.mergeEvaluated.items(ie,G.items,oe.items,Y))}mergeValidEvaluated(G,Y){var{it:oe,gen:ie}=this;if(oe.opts.unevaluated&&(oe.props!==!0||oe.items!==!0))return ie.if(Y,()=>this.mergeEvaluated(G,P.Name)),!0}}Or.KeywordCxt=E;let $=/^\/(?:[^~]|~0|~1)*$/,y=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;Or.getData=ue}return Or}var Xa,Ki={};function Kn(){if(!Xa){Xa=1,Object.defineProperty(Ki,"__esModule",{value:!0});class t extends Error{constructor(s){super("validation failed"),this.errors=s,this.ajv=this.validation=!0}}Ki.default=t}return Ki}var Fo,Bi={};function on(){if(!Fo){Fo=1,Object.defineProperty(Bi,"__esModule",{value:!0});let t=qn();class e extends Error{constructor(n,l,p,h){super(h||`can't resolve reference ${p} from id `+l),this.missingRef=(0,t.resolveUrl)(n,l,p),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}Bi.default=e}return Bi}var zo,Bt={};function Bn(){if(!zo){let v=function(E){var $=u.call(this,E);if($)return $;var $=(0,n.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:T,lines:y}=this.opts.code,I=this.opts.ownProperties,T=new t.CodeGen(this.scope,{es5:T,lines:y,ownProperties:I});let M;E.$async&&(M=T.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`})),y=T.scopeName("validate"),E.validateName=y,I={gen:T,allErrors:this.opts.allErrors,data:s.default.data,parentData:s.default.parentData,parentDataProperty:s.default.parentDataProperty,dataNames:[s.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:T.scopeValue("schema",this.opts.code.source===!0?{ref:E.schema,code:(0,t.stringify)(E.schema)}:{ref:E.schema}),validateName:y,ValidationError:M,schema:E.schema,schemaEnv:E,rootId:$,baseId:E.baseId||$,schemaPath:t.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let j;try{this._compilations.add(E),(0,p.validateFunctionCode)(I),T.optimize(this.opts.code.optimize);var K=T.toString();j=T.scopeRefs(s.default.scope)+"return "+K,this.opts.code.process&&(j=this.opts.code.process(j,E));var W,X,se=new Function(""+s.default.self,""+s.default.scope,j)(this,this.scope.get());return this.scope.value(y,{ref:se}),se.errors=null,se.schema=E.schema,(se.schemaEnv=E).$async&&(se.$async=!0),this.opts.code.source===!0&&(se.source={validateName:y,validateCode:K,scopeValues:T._values}),this.opts.unevaluated&&({props:W,items:X}=I,se.evaluated={props:W instanceof t.Name?void 0:W,items:X instanceof t.Name?void 0:X,dynamicProps:W instanceof t.Name,dynamicItems:X instanceof t.Name},se.source)&&(se.source.evaluated=(0,t.stringify)(se.evaluated)),E.validate=se,E}catch(be){throw delete E.validate,delete E.validateName,j&&this.logger.error("Error compiling schema, function code:",j),be}finally{this._compilations.delete(E)}},u=function(E){for(var $ of this._compilations)if(y=$,I=E,y.schema===I.schema&&y.root===I.root&&y.baseId===I.baseId)return $;var y,I},g=function(E,$){var y,I,T=this.opts.uriResolver.parse($),M=(0,n._getFullPath)(this.opts.uriResolver,T);let j=(0,n.getFullPath)(this.opts.uriResolver,E.baseId,void 0);return 0<Object.keys(E.schema).length&&M===j?O.call(this,T,E):(M=(0,n.normalizeId)(M),typeof(y=this.refs[M]||this.schemas[M])=="string"?typeof((I=g.call(this,E,y))==null?void 0:I.schema)!="object"?void 0:O.call(this,T,I):typeof(y==null?void 0:y.schema)=="object"?(y.validate||v.call(this,y),M===(0,n.normalizeId)($)?(I=y.schema,M=this.opts.schemaId,($=I[M])&&(j=(0,n.resolveUrl)(this.opts.uriResolver,j,$)),new h({schema:I,schemaId:M,root:E,baseId:j})):O.call(this,T,y)):void 0)},O=function(E,{baseId:$,schema:y,root:I}){if(((j=E.fragment)==null?void 0:j[0])==="/"){for(var T of E.fragment.slice(1).split("/")){if(typeof y=="boolean")return;var M=y[(0,l.unescapeFragment)(T)];if(M===void 0)return;M=typeof(y=M)=="object"&&y[this.opts.schemaId],!P.has(T)&&M&&($=(0,n.resolveUrl)(this.opts.uriResolver,$,M))}let K;var j,E=(typeof y!="boolean"&&y.$ref&&!(0,l.schemaHasRulesButRef)(y,this.RULES)&&(j=(0,n.resolveUrl)(this.opts.uriResolver,$,y.$ref),K=g.call(this,I,j)),this.opts).schemaId;return(K=K||new h({schema:y,schemaId:E,root:I,baseId:$})).schema!==K.root.schema?K:void 0}};zo=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.resolveSchema=Bt.getCompilingSchema=Bt.resolveRef=Bt.compileSchema=Bt.SchemaEnv=void 0;let t=Ue(),e=Kn(),s=ir(),n=qn(),l=He(),p=Ts();class h{constructor($){var y;this.refs={},this.dynamicAnchors={};let I;typeof $.schema=="object"&&(I=$.schema),this.schema=$.schema,this.schemaId=$.schemaId,this.root=$.root||this,this.baseId=(y=$.baseId)!=null?y:(0,n.normalizeId)(I==null?void 0:I[$.schemaId||"$id"]),this.schemaPath=$.schemaPath,this.localRefs=$.localRefs,this.meta=$.meta,this.$async=I==null?void 0:I.$async,this.refs={}}}Bt.SchemaEnv=h,Bt.compileSchema=v,Bt.resolveRef=function(E,$,y){y=(0,n.resolveUrl)(this.opts.uriResolver,$,y);var I,T=E.refs[y];if(T)return T;let M=(function(j,K){let W;for(;typeof(W=this.refs[K])=="string";)K=W;return W||this.schemas[K]||g.call(this,j,K)}).call(this,E,y);return(M=M===void 0&&(T=(T=E.localRefs)==null?void 0:T[y],I=this.opts.schemaId,T)?new h({schema:T,schemaId:I,root:E,baseId:$}):M)!==void 0?E.refs[y]=(function(j){return(0,n.inlineRef)(j.schema,this.opts.inlineRefs)?j.schema:j.validate?j:v.call(this,j)}).call(this,M):void 0},Bt.getCompilingSchema=u,Bt.resolveSchema=g;let P=new Set(["properties","patternProperties","enum","dependencies","definitions"])}return Bt}var eo,Ui,to,Fi,ro,zi,so,Gi,Go,Jo={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Ji={},ln={exports:{}};function ol(){if(!Fi){let p=function(u){var g;return!(v(u,".")<3)&&([g]=u.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],g)?{host:((O,E)=>{let $="",y=!0,I=O.length;for(let M=0;M<I;M++){var T=O[M];T==="0"&&y?(M+1<=I&&O[M+1]===E||M+1===I)&&($+=T,y=!1):(y=T===E,$+=T)}return $})(g,"."),isIPV4:!0}:{host:u,isIPV4:!1}},h=function(u,g=!1){let O="",E=!0;for(var $ of u){if(t[$]===void 0)return;(E=$!=="0"&&E===!0?!1:E)||(O+=$)}return O=g&&O.length===0?"0":O},P=function(u,g=0){if(v(u,":")<2)return{host:u,isIPV6:!1};var O=(E=>{let $=0,y={error:!1,address:"",zone:""},I=[],T=[],M=!1,j=!1,K=!1;function W(){if(T.length){if(M===!1){var se=h(T);if(se===void 0)return void(y.error=!0);I.push(se)}T.length=0}return 1}for(let se=0;se<E.length;se++){var X=E[se];if(X!=="["&&X!=="]")if(X===":"){if(j===!0&&(K=!0),!W())break;if($++,I.push(":"),7<$){y.error=!0;break}0<=se-1&&E[se-1]===":"&&(j=!0)}else if(X!=="%")T.push(X);else{if(!W())break;M=!0}}return T.length&&(M?y.zone=T.join(""):K?I.push(T.join("")):I.push(h(T))),y.address=I.join(""),y})(u);if(O.error)return{host:u,isIPV6:!1};{let E=O.address,$=O.address;return O.zone&&(E+="%"+O.zone,$+="%25"+O.zone),{host:E,escapedHost:$,isIPV6:!0}}},v=function(u,g){let O=0;for(let E=0;E<u.length;E++)u[E]===g&&O++;return O};Fi=1;let t=(eo=Ui?eo:{HEX:{0:0,1:Ui=1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}).HEX,e=/^\.\.?\//u,s=/^\/\.(?:\/|$)/u,n=/^\/\.\.(?:\/|$)/u,l=/^\/?(?:.|\n)*?(?=\/|$)/u;to={recomposeAuthority:function(u,g){var O=[];if(u.userinfo!==void 0&&(O.push(u.userinfo),O.push("@")),u.host!==void 0){let $=unescape(u.host);var E=p($);$=E.isIPV4?E.host:(E=P(E.host,{isIPV4:!1})).isIPV6===!0?`[${E.escapedHost}]`:u.host,O.push($)}return typeof u.port!="number"&&typeof u.port!="string"||(O.push(":"),O.push(String(u.port))),O.length?O.join(""):void 0},normalizeComponentEncoding:function(u,g){return g=g!==!0?escape:unescape,u.scheme!==void 0&&(u.scheme=g(u.scheme)),u.userinfo!==void 0&&(u.userinfo=g(u.userinfo)),u.host!==void 0&&(u.host=g(u.host)),u.path!==void 0&&(u.path=g(u.path)),u.query!==void 0&&(u.query=g(u.query)),u.fragment!==void 0&&(u.fragment=g(u.fragment)),u},removeDotSegments:function(u){for(var g=[];u.length;)if(u.match(e))u=u.replace(e,"");else if(u.match(s))u=u.replace(s,"/");else if(u.match(n))u=u.replace(n,"/"),g.pop();else if(u==="."||u==="..")u="";else{var O=u.match(l);if(!O)throw new Error("Unexpected dot segment condition");O=O[0],u=u.slice(O.length),g.push(O)}return g.join("")},normalizeIPv4:p,normalizeIPv6:P,stringArrayToHexStripped:h}}return to}function Ho(){if(zi)return ro;zi=1;let t=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function s(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function n(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function l(v){var u=String(v.scheme).toLowerCase()==="https";return v.port!==(u?443:80)&&v.port!==""||(v.port=void 0),v.path||(v.path="/"),v}var p={scheme:"http",domainHost:!0,parse:n,serialize:l},h={scheme:"ws",domainHost:!0,parse:function(v){return v.secure=s(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v},serialize:function(v){var u,g;return v.port!==(s(v)?443:80)&&v.port!==""||(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName&&([u,g]=v.resourceName.split("?"),v.path=u&&u!=="/"?u:void 0,v.query=g,v.resourceName=void 0),v.fragment=void 0,v}};let P={http:p,https:{scheme:"https",domainHost:p.domainHost,parse:n,serialize:l},ws:h,wss:{scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},urn:{scheme:"urn",parse:function(v,u){var g,O;return v.path?(g=v.path.match(e))?(O=u.scheme||v.scheme||"urn",v.nid=g[1].toLowerCase(),v.nss=g[2],g=O+":"+(u.nid||v.nid),O=P[g],v.path=void 0,O&&(v=O.parse(v,u))):v.error=v.error||"URN can not be parsed.":v.error="URN can not be parsed",v},serialize:function(E,u){var O=u.scheme||E.scheme||"urn",g=E.nid.toLowerCase(),O=O+":"+(u.nid||g),O=P[O],O=E=O?O.serialize(E,u):E,E=E.nss;return O.path=`${g||u.nid}:`+E,u.skipEscape=!0,O},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(v,u){return v.uuid=v.nss,v.nss=void 0,u.tolerant||v.uuid&&t.test(v.uuid)||(v.error=v.error||"UUID is not valid."),v},serialize:function(v){var u=v;return u.nss=(v.uuid||"").toLowerCase(),u},skipNormalize:!0}};return ro=P}function Wo(){if(!so){let u=function(E,$,y,I){var T={};return I||(E=O(g(E,y),y),$=O(g($,y),y)),!(y=y||{}).tolerant&&$.scheme?(T.scheme=$.scheme,T.userinfo=$.userinfo,T.host=$.host,T.port=$.port,T.path=n($.path||""),T.query=$.query):($.userinfo!==void 0||$.host!==void 0||$.port!==void 0?(T.userinfo=$.userinfo,T.host=$.host,T.port=$.port,T.path=n($.path||""),T.query=$.query):($.path?($.path.charAt(0)==="/"?T.path=n($.path):(E.userinfo===void 0&&E.host===void 0&&E.port===void 0||E.path?E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+$.path:T.path=$.path:T.path="/"+$.path,T.path=n(T.path)),T.query=$.query):(T.path=E.path,$.query!==void 0?T.query=$.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=$.fragment,T},g=function(y,I){var y={host:y.host,scheme:y.scheme,userinfo:y.userinfo,port:y.port,path:y.path,query:y.query,nid:y.nid,nss:y.nss,uuid:y.uuid,fragment:y.fragment,reference:y.reference,resourceName:y.resourceName,secure:y.secure,error:""},I=Object.assign({},I),T=[],M=h[(I.scheme||y.scheme||"").toLowerCase()],j=(M&&M.serialize&&M.serialize(y,I),y.path!==void 0&&(I.skipEscape?y.path=unescape(y.path):(y.path=escape(y.path),y.scheme!==void 0&&(y.path=y.path.split("%3A").join(":")))),I.reference!=="suffix"&&y.scheme&&T.push(y.scheme,":"),l(y,I));if(j!==void 0&&(I.reference!=="suffix"&&T.push("//"),T.push(j),y.path)&&y.path.charAt(0)!=="/"&&T.push("/"),y.path!==void 0){let K=y.path;I.absolutePath||M&&M.absolutePath||(K=n(K)),j===void 0&&(K=K.replace(/^\/\//u,"/%2F")),T.push(K)}return y.query!==void 0&&T.push("?",y.query),y.fragment!==void 0&&T.push("#",y.fragment),T.join("")},O=function(E,y){var y=Object.assign({},y),I={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=E.indexOf("%")!==-1;let M=!1;if(E=(E=y.reference==="suffix"?(y.scheme?y.scheme+":":"")+"//"+E:E).match(v),E){I.scheme=E[1],I.userinfo=E[3],I.host=E[4],I.port=parseInt(E[5],10),I.path=E[6]||"",I.query=E[7],I.fragment=E[8],isNaN(I.port)&&(I.port=E[5]),I.host&&(E=s(I.host),M=E.isIPV4===!1?(j=e(E.host,{isIPV4:!1}),I.host=j.host.toLowerCase(),j.isIPV6):(I.host=E.host,!0)),I.reference=I.scheme!==void 0||I.userinfo!==void 0||I.host!==void 0||I.port!==void 0||I.path||I.query!==void 0?I.scheme===void 0?"relative":I.fragment===void 0?"absolute":"uri":"same-document",y.reference&&y.reference!=="suffix"&&y.reference!==I.reference&&(I.error=I.error||"URI is not a "+y.reference+" reference.");var j=h[(y.scheme||I.scheme||"").toLowerCase()];if(!(y.unicodeSupport||j&&j.unicodeSupport)&&I.host&&(y.domainHost||j&&j.domainHost)&&M===!1&&(K=>{var W;for(let X=0,se=K.length;X<se;++X)if(126<(W=K.charCodeAt(X))||P[W])return 1})(I.host))try{I.host=URL.domainToASCII(I.host.toLowerCase())}catch(K){I.error=I.error||"Host's domain name can not be converted to ASCII: "+K}j&&j.skipNormalize||(T&&I.scheme!==void 0&&(I.scheme=unescape(I.scheme)),T&&I.host!==void 0&&(I.host=unescape(I.host)),I.path!==void 0&&I.path.length&&(I.path=escape(unescape(I.path))),I.fragment!==void 0&&I.fragment.length&&(I.fragment=encodeURI(decodeURIComponent(I.fragment)))),j&&j.parse&&j.parse(I,y)}else I.error=I.error||"URI can not be parsed.";return I};so=1;let{normalizeIPv6:e,normalizeIPv4:s,removeDotSegments:n,recomposeAuthority:l,normalizeComponentEncoding:p}=ol(),h=Ho(),P=Array.from({length:127},(E,$)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode($))),v=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;var t={SCHEMES:h,normalize:function(E,$){return typeof E=="string"?E=g(O(E,$),$):typeof E=="object"&&(E=O(g(E,$),$)),E},resolve:function(E,$,y){return y=Object.assign({scheme:"null"},y),g(u(O(E,y),O($,y),y,!0),{...y,skipEscape:!0})},resolveComponents:u,equal:function(E,$,y){return typeof E=="string"?(E=unescape(E),E=g(p(O(E,y),!0),{...y,skipEscape:!0})):typeof E=="object"&&(E=g(p(E,!0),{...y,skipEscape:!0})),typeof $=="string"?($=unescape($),$=g(p(O($,y),!0),{...y,skipEscape:!0})):typeof $=="object"&&($=g(p($,!0),{...y,skipEscape:!0})),E.toLowerCase()===$.toLowerCase()},serialize:g,parse:O};ln.exports=t,ln.exports.default=t,ln.exports.fastUri=t}return ln.exports}function no(){if(!Go){Go=1;{let X=function(ue,D,G,Y="error"){for(var oe in ue){var ie=oe;ie in D&&this.logger[Y](`${G}: option ${oe}. `+ue[ie])}},se=function(ue){return ue=(0,u.normalizeId)(ue),this.schemas[ue]||this.refs[ue]},ne=function(ue,D,G){var Y=D==null?void 0:D.post;if(G&&Y)throw new Error('keyword with "post" flag cannot have "type"');var oe=this.RULES;let ie=Y?oe.post:oe.rules.find(({type:he})=>he===G);ie||(ie={type:G,rules:[]},oe.rules.push(ie)),oe.keywords[ue]=!0,D&&(Y={keyword:ue,definition:{...D,type:(0,g.getJSONTypes)(D.type),schemaType:(0,g.getJSONTypes)(D.schemaType)}},D.before?(function(he,z,B){var te=he.rules.findIndex(ge=>ge.keyword===B);0<=te?he.rules.splice(te,0,z):(he.rules.push(z),this.logger.warn(`rule ${B} is not defined`))}).call(this,ie,Y,D.before):ie.rules.push(Y),oe.all[ue]=Y,(oe=D.implements)!=null)&&oe.forEach(he=>this.addKeyword(he))},fe=function(ue){return{anyOf:[ue,pe]}};var t=Co;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e,s=Ts(),n=(Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}}),Ue()),l=(Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}}),Kn());let p=on(),h=Do(),P=Bn(),v=Ue(),u=qn(),g=sn(),O=He(),E=Jo,$=(Gi||(Gi=1,Object.defineProperty(Ji,"__esModule",{value:!0}),(e=Wo()).code='require("ajv/dist/runtime/uri").default',Ji.default=e),Ji),y=(ue,D)=>new RegExp(ue,D),I=(y.code="new RegExp",["removeAdditional","useDefaults","coerceTypes"]),T=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),M={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},j={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},K=200;class W{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...(G=D,he=G.strict,Y=(Y=(Y=G.code)==null?void 0:Y.optimize)===!0||Y===void 0?1:Y||0,ie=(ie=(ie=G.code)==null?void 0:ie.regExp)!=null?ie:y,oe=(oe=G.uriResolver)!=null?oe:$.default,{strictSchema:(z=(z=G.strictSchema)!=null?z:he)==null||z,strictNumbers:(z=(z=G.strictNumbers)!=null?z:he)==null||z,strictTypes:(z=(z=G.strictTypes)!=null?z:he)!=null?z:"log",strictTuples:(z=(z=G.strictTuples)!=null?z:he)!=null?z:"log",strictRequired:(z=(z=G.strictRequired)!=null?z:he)!=null&&z,code:G.code?{...G.code,optimize:Y,regExp:ie}:{optimize:Y,regExp:ie},loopRequired:(he=G.loopRequired)!=null?he:K,loopEnum:(z=G.loopEnum)!=null?z:K,meta:(Y=G.meta)==null||Y,messages:(ie=G.messages)==null||ie,inlineRefs:(he=G.inlineRefs)==null||he,schemaId:(z=G.schemaId)!=null?z:"$id",addUsedSchema:(Y=G.addUsedSchema)==null||Y,validateSchema:(ie=G.validateSchema)==null||ie,validateFormats:(he=G.validateFormats)==null||he,unicodeRegExp:(z=G.unicodeRegExp)==null||z,int32range:(Y=G.int32range)==null||Y,uriResolver:oe})};var G,Y,oe,{es5:ie,lines:he}=this.opts.code,z=(this.scope=new v.ValueScope({scope:{},prefixes:T,es5:ie,lines:he}),this.logger=(B=>{if(B===!1)return be;if(B===void 0)return console;if(B.log&&B.warn&&B.error)return B;throw new Error("logger must implement log, warn and error methods")})(D.logger),D.validateFormats);D.validateFormats=!1,this.RULES=(0,h.getRules)(),X.call(this,M,D,"NOT SUPPORTED"),X.call(this,j,D,"DEPRECATED","warn"),this._metaOpts=(function(){var B={...this.opts};for(var te of I)delete B[te];return B}).call(this),D.formats&&(function(){for(var B in this.opts.formats){var te=this.opts.formats[B];te&&this.addFormat(B,te)}}).call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&(function(B){if(Array.isArray(B))this.addVocabulary(B);else for(var te in this.logger.warn("keywords option as map is deprecated, pass array"),B){var ge=B[te];ge.keyword||(ge.keyword=te),this.addKeyword(ge)}}).call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),(function(){var B=this.opts.schemas;if(B)if(Array.isArray(B))this.addSchema(B);else for(var te in B)this.addSchema(B[te],te)}).call(this),D.validateFormats=z}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){var{$data:D,meta:G,schemaId:Y}=this.opts;let oe=E;Y==="id"&&((oe={...E}).id=oe.$id,delete oe.$id),G&&D&&this.addMetaSchema(oe,oe[Y],!1)}defaultMeta(){var{meta:D,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[G]||D:void 0}validate(D,G){let Y;if(typeof D=="string"){if(!(Y=this.getSchema(D)))throw new Error(`no schema with key or ref "${D}"`)}else Y=this.compile(D);return D=Y(G),"$async"in Y||(this.errors=Y.errors),D}compile(D,G){return D=this._addSchema(D,G),D.validate||this._compileSchemaEnv(D)}compileAsync(D,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let Y=this.opts.loadSchema;return oe.call(this,D,G);async function oe(z,B){return await ie.call(this,z.$schema),z=this._addSchema(z,B),z.validate||he.call(this,z)}async function ie(z){z&&!this.getSchema(z)&&await oe.call(this,{$ref:z},!0)}async function he(z){try{return this._compileSchemaEnv(z)}catch(B){if(B instanceof p.default)return(function({missingSchema:te,missingRef:ge}){if(this.refs[te])throw new Error(`AnySchema ${te} is loaded but ${ge} cannot be resolved`)}).call(this,B),await(async function(te){var ge=await(async function(Oe){var Te=this._loading[Oe];if(Te)return Te;try{return await(this._loading[Oe]=Y(Oe))}finally{delete this._loading[Oe]}}).call(this,te);this.refs[te]||await ie.call(this,ge.$schema),this.refs[te]||this.addSchema(ge,te,G)}).call(this,B.missingSchema),he.call(this,z);throw B}}}addSchema(D,G,Y,oe=this.opts.validateSchema){if(Array.isArray(D))for(var ie of D)this.addSchema(ie,void 0,Y,oe);else{let z;if(typeof D=="object"){var he=this.opts.schemaId;if((z=D[he])!==void 0&&typeof z!="string")throw new Error(`schema ${he} must be string`)}G=(0,u.normalizeId)(G||z),this._checkUnique(G),this.schemas[G]=this._addSchema(D,Y,G,oe,!0)}return this}addMetaSchema(D,G,Y=this.opts.validateSchema){return this.addSchema(D,G,!0,Y),this}validateSchema(D,G){if(typeof D=="boolean")return!0;var Y=D.$schema;if(Y!==void 0&&typeof Y!="string")throw new Error("$schema must be a string");if(!(Y=Y||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(Y=this.validate(Y,D),!Y&&G){if(D="schema is invalid: "+this.errorsText(),this.opts.validateSchema!=="log")throw new Error(D);this.logger.error(D)}return Y}getSchema(D){let G;for(;typeof(G=se.call(this,D))=="string";)D=G;if(G===void 0){var Y=this.opts.schemaId,Y=new P.SchemaEnv({schema:{},schemaId:Y});if(!(G=P.resolveSchema.call(this,Y,D)))return;this.refs[D]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var G=se.call(this,D);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[D],delete this.refs[D],this;case"object":return this._cache.delete(D),G=D[this.opts.schemaId],G&&(G=(0,u.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(var G of D)this.addKeyword(G);return this}addKeyword(D,G){let Y;if(typeof D=="string")Y=D,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=Y);else{if(typeof D!="object"||G!==void 0)throw new Error("invalid addKeywords parameters");if(G=D,Y=G.keyword,Array.isArray(Y)&&!Y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if((function(oe,ie){let he=this.RULES;if((0,O.eachItem)(oe,z=>{if(he.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!Ee.test(z))throw new Error(`Keyword ${z} has invalid name`)}),ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}).call(this,Y,G),G){(function(ie){let he=ie.metaSchema;he!==void 0&&(ie.$data&&this.opts.$data&&(he=fe(he)),ie.validateSchema=this.compile(he,!0))}).call(this,G);let oe={...G,type:(0,g.getJSONTypes)(G.type),schemaType:(0,g.getJSONTypes)(G.schemaType)};(0,O.eachItem)(Y,oe.type.length===0?ie=>ne.call(this,ie,oe):ie=>oe.type.forEach(he=>ne.call(this,ie,oe,he)))}else(0,O.eachItem)(Y,oe=>ne.call(this,oe));return this}getKeyword(D){return D=this.RULES.all[D],typeof D=="object"?D.definition:!!D}removeKeyword(D){var G,Y=this.RULES;delete Y.keywords[D],delete Y.all[D];for(G of Y.rules){var oe=G.rules.findIndex(ie=>ie.keyword===D);0<=oe&&G.rules.splice(oe,1)}return this}addFormat(D,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[D]=G,this}errorsText(D=this.errors,{separator:G=", ",dataVar:Y="data"}={}){return D&&D.length!==0?D.map(oe=>""+Y+oe.instancePath+" "+oe.message).reduce((oe,ie)=>oe+G+ie):"No errors"}$dataMetaSchema(D,G){var Y,oe,ie,he=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(Y of G){let te=D;for(oe of Y.split("/").slice(1))te=te[oe];for(ie in he){var z,B=he[ie];typeof B=="object"&&(B=B.definition.$data,z=te[ie],B&&z)&&(te[ie]=fe(z))}}return D}_removeAllSchemas(D,G){for(var Y in D){var oe=D[Y];G&&!G.test(Y)||(typeof oe=="string"?delete D[Y]:oe&&!oe.meta&&(this._cache.delete(oe.schema),delete D[Y]))}}_addSchema(D,G,Y,oe=this.opts.validateSchema,ie=this.opts.addUsedSchema){let he;var z=this.opts.schemaId;if(typeof D=="object")he=D[z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}var B,te=this._cache.get(D);return te===void 0&&(Y=(0,u.normalizeId)(he||Y),B=u.getSchemaRefs.call(this,D,Y),te=new P.SchemaEnv({schema:D,schemaId:z,meta:G,baseId:Y,localRefs:B}),this._cache.set(te.schema,te),ie&&!Y.startsWith("#")&&(Y&&this._checkUnique(Y),this.refs[Y]=te),oe)&&this.validateSchema(D,!0),te}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):P.compileSchema.call(this,D),D.validate)return D.validate;throw new Error("ajv implementation error")}_compileMetaSchema(D){var G=this.opts;this.opts=this._metaOpts;try{P.compileSchema.call(this,D)}finally{this.opts=G}}}W.ValidationError=l.default,W.MissingRefError=p.default,t.default=W;let be={log(){},warn(){},error(){}},Ee=/^[a-z_$][a-z0-9_$:-]*$/i,pe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}}}return Co}var Hi,io={},Wi={},Yi={},Cs,Yo,us={};function Qo(){if(!Cs){let P=function(u,g){return u=u.gen,g.validate?u.scopeValue("validate",{ref:g.validate}):(0,n._)`${u.scopeValue("wrapper",{ref:g})}.validate`},v=function(u,g,O,E){let{gen:$,it:y}=u,{allErrors:I,schemaEnv:T,opts:M}=y,j=M.passContext?l.default.this:n.nil;if(E){if(!T.$async)throw new Error("async schema referenced by sync schema");let X=$.let("valid");$.try(()=>{$.code((0,n._)`await ${(0,s.callValidateCode)(u,g,j)}`),W(g),I||$.assign(X,!0)},se=>{$.if((0,n._)`!(${se} instanceof ${y.ValidationError})`,()=>$.throw(se)),K(se),I||$.assign(X,!1)}),u.ok(X)}else u.result((0,s.callValidateCode)(u,g,j),()=>W(g),()=>K(g));function K(X){X=(0,n._)`${X}.errors`,$.assign(l.default.vErrors,(0,n._)`${l.default.vErrors} === null ? ${X} : ${l.default.vErrors}.concat(${X})`),$.assign(l.default.errors,(0,n._)`${l.default.vErrors}.length`)}function W(X){var se,be;y.opts.unevaluated&&(se=(se=O==null?void 0:O.validate)==null?void 0:se.evaluated,y.props!==!0&&(se&&!se.dynamicProps?se.props!==void 0&&(y.props=h.mergeEvaluated.props($,se.props,y.props)):(be=$.var("props",(0,n._)`${X}.evaluated.props`),y.props=h.mergeEvaluated.props($,be,y.props,n.Name))),y.items!==!0)&&(se&&!se.dynamicItems?se.items!==void 0&&(y.items=h.mergeEvaluated.items($,se.items,y.items)):(be=$.var("items",(0,n._)`${X}.evaluated.items`),y.items=h.mergeEvaluated.items($,be,y.items,n.Name)))}};Cs=1,Object.defineProperty(us,"__esModule",{value:!0}),us.callRef=us.getValidate=void 0;let e=on(),s=Zt(),n=Ue(),l=ir(),p=Bn(),h=He();var t={keyword:"$ref",schemaType:"string",code(u){let{gen:g,schema:O,it:E}=u,{baseId:$,schemaEnv:y,validateName:I,opts:T,self:M}=E,j=y.root;if((O==="#"||O==="#/")&&$===j.baseId)return y===j?v(u,I,y,y.$async):(se=g.scopeValue("root",{ref:j}),v(u,(0,n._)`${se}.validate`,j,j.$async));var K,W,X,se=p.resolveRef.call(M,j,$,O);if(se===void 0)throw new e.default(E.opts.uriResolver,$,O);if(!(se instanceof p.SchemaEnv))return K=se,W=g.scopeValue("schema",T.code.source===!0?{ref:K,code:(0,n.stringify)(K)}:{ref:K}),X=g.name("valid"),K=u.subschema({schema:K,dataTypes:[],schemaPath:n.nil,topSchemaRef:W,errSchemaPath:O},X),u.mergeEvaluated(K),void u.ok(X);K=P(u,W=se),v(u,K,W,W.$async)}};us.getValidate=P,us.callRef=v,us.default=t}return us}function ao(){var t,e;return Yo||(Yo=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Hi||(Hi=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}),e=Yi,t=Qo(),e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default],Wi.default=e),Wi}var Un,oo={},Qi={},Zo,Zi={},lo,Xi,co={},ea={};function Ne(){if(!Xi){let n=function(l){var p,h=l.length;let P=0,v=0;for(;v<h;)P++,55296<=(p=l.charCodeAt(v++))&&p<=56319&&v<h&&(64512&l.charCodeAt(v))==56320&&v++;return P};Xi=1,Object.defineProperty(co,"__esModule",{value:!0});let t=Ue(),e=He(),s=(lo||(lo=1,Object.defineProperty(ea,"__esModule",{value:!0}),(ea.default=n).code='require("ajv/dist/runtime/ucs2length").default'),ea);co.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:l,schemaCode:p}){return l=l==="maxLength"?"more":"fewer",(0,t.str)`must NOT have ${l} than ${p} characters`},params:({schemaCode:l})=>(0,t._)`{limit: ${l}}`},code(l){var{keyword:P,data:p,schemaCode:h,it:v}=l,P=P==="maxLength"?t.operators.GT:t.operators.LT,v=v.opts.unicode===!1?(0,t._)`${p}.length`:(0,t._)`${(0,e.useFunc)(l.gen,s.default)}(${p})`;l.fail$data((0,t._)`${v} ${P} ${h}`)}}}return co}var Xo,Fn={},i,r={},a,o={};function c(){if(!a){a=1,Object.defineProperty(o,"__esModule",{value:!0});let t=Zt(),e=Ue(),s=He();o.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,e.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,e._)`{missingProperty: ${n}}`},code(n){let{gen:l,schema:p,schemaCode:h,data:P,$data:v,it:u}=n,g=u.opts;if(v||p.length!==0){let M=function(){l.forOf("prop",h,j=>{n.setParams({missingProperty:j}),l.if((0,t.noPropertyInData)(l,P,j,g.ownProperties),()=>n.error())})},T=p.length>=g.loopRequired;if(u.allErrors)if(T||v)n.block$data(e.nil,M);else for(var O of p)(0,t.checkReportMissingProp)(n,O);else{let j=l.let("missing");if(T||v){let K=l.let("valid",!0);n.block$data(K,()=>{return W=j,X=K,n.setParams({missingProperty:W}),void l.forOf(W,h,()=>{l.assign(X,(0,t.propertyInData)(l,P,W,g.ownProperties)),l.if((0,e.not)(X),()=>{n.error(),l.break()})},e.nil);var W,X}),n.ok(K)}else l.if((0,t.checkMissingProp)(n,p,j)),(0,t.reportMissingProp)(n,j),l.else()}if(g.strictRequired){var E,$,y=n.parentSchema.properties,I=n.it.definedProperties;for(E of p)(y==null?void 0:y[E])!==void 0||I.has(E)||($=u.schemaEnv.baseId+u.errSchemaPath,$=`required property "${E}" is not defined at "${$}" (strictRequired)`,(0,s.checkStrictMode)(u,$,u.opts.strictRequired))}}}}}return o}var m,S={},x,_,f={},b={};function N(){var t;return x||(x=1,Object.defineProperty(b,"__esModule",{value:!0}),(t=Bo()).code='require("ajv/dist/runtime/equal").default',b.default=t),b}function k(){if(!_){_=1,Object.defineProperty(f,"__esModule",{value:!0});let t=sn(),e=Ue(),s=He(),n=N();f.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:p}})=>(0,e.str)`must NOT have duplicate items (items ## ${p} and ${l} are identical)`,params:({params:{i:l,j:p}})=>(0,e._)`{i: ${l}, j: ${p}}`},code(l){let{gen:p,data:h,$data:P,schema:v,parentSchema:u,schemaCode:g,it:O}=l;if(P||v){let E=p.let("valid"),$=u.items?(0,t.getSchemaTypes)(u.items):[];l.block$data(E,function(){let y=p.let("i",(0,e._)`${h}.length`),I=p.let("j");l.setParams({i:y,j:I}),p.assign(E,!0),p.if((0,e._)`${y} > 1`,()=>(0<$.length&&!$.some(T=>T==="object"||T==="array")?function(T,M){let j=p.name("item"),K=(0,t.checkDataTypes)($,j,O.opts.strictNumbers,t.DataType.Wrong),W=p.const("indices",(0,e._)`{}`);p.for((0,e._)`;${T}--;`,()=>{p.let(j,(0,e._)`${h}[${T}]`),p.if(K,(0,e._)`continue`),1<$.length&&p.if((0,e._)`typeof ${j} == "string"`,(0,e._)`${j} += "_"`),p.if((0,e._)`typeof ${W}[${j}] == "number"`,()=>{p.assign(M,(0,e._)`${W}[${j}]`),l.error(),p.assign(E,!1).break()}).code((0,e._)`${W}[${j}] = ${T}`)})}:function(T,M){let j=(0,s.useFunc)(p,n.default),K=p.name("outer");p.label(K).for((0,e._)`;${T}--;`,()=>p.for((0,e._)`${M} = ${T}; ${M}--;`,()=>p.if((0,e._)`${j}(${h}[${T}], ${h}[${M}])`,()=>{l.error(),p.assign(E,!1).break(K)})))})(y,I))},(0,e._)`${g} === false`),l.ok(E)}}}}return f}var w,d={},A,L,R={};function C(){if(!A){A=1,Object.defineProperty(R,"__esModule",{value:!0});let t=Ue(),e=He(),s=N();R.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,t._)`{allowedValues: ${n}}`},code(n){let{gen:l,data:p,$data:h,schema:P,schemaCode:v,it:u}=n;if(!h&&P.length===0)throw new Error("enum must have non-empty array");var g=P.length>=u.opts.loopEnum;let O,E=()=>O??(O=(0,e.useFunc)(l,s.default)),$;if(g||h)$=l.let("valid"),n.block$data($,function(){l.assign($,!1),l.forOf("v",v,y=>l.if((0,t._)`${E()}(${p}, ${y})`,()=>l.assign($,!0).break()))});else{if(!Array.isArray(P))throw new Error("ajv implementation error");let y=l.const("vSchema",v);$=(0,t.or)(...P.map((I,T)=>{return M=y,T=T,typeof(j=P[T])=="object"&&j!==null?(0,t._)`${E()}(${p}, ${M}[${T}])`:(0,t._)`${p} === ${j}`;var M,j}))}n.pass($)}}}return R}function q(){var t,e,s,n,l,p,h,P,v,u;return L||(L=1,Object.defineProperty(oo,"__esModule",{value:!0}),u=(()=>{if(!Un){Un=1,Object.defineProperty(Qi,"__esModule",{value:!0});let O=Ue();var g=O.operators;let E={maximum:{okStr:"<=",ok:g.LTE,fail:g.GT},minimum:{okStr:">=",ok:g.GTE,fail:g.LT},exclusiveMaximum:{okStr:"<",ok:g.LT,fail:g.GTE},exclusiveMinimum:{okStr:">",ok:g.GT,fail:g.LTE}};g={message:({keyword:$,schemaCode:y})=>(0,O.str)`must be ${E[$].okStr} ${y}`,params:({keyword:$,schemaCode:y})=>(0,O._)`{comparison: ${E[$].okStr}, limit: ${y}}`},g={keyword:Object.keys(E),type:"number",schemaType:"number",$data:!0,error:g,code($){var{keyword:y,data:I,schemaCode:T}=$;$.fail$data((0,O._)`${I} ${E[y].fail} ${T} || isNaN(${I})`)}},Qi.default=g}return Qi})(),t=(()=>{if(!Zo){Zo=1,Object.defineProperty(Zi,"__esModule",{value:!0});let g=Ue();Zi.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>(0,g.str)`must be multiple of ${O}`,params:({schemaCode:O})=>(0,g._)`{multipleOf: ${O}}`},code(O){var{gen:y,data:E,schemaCode:$,it:I}=O,I=I.opts.multipleOfPrecision,y=y.let("res"),I=I?(0,g._)`Math.abs(Math.round(${y}) - ${y}) > 1e-${I}`:(0,g._)`${y} !== parseInt(${y})`;O.fail$data((0,g._)`(${$} === 0 || (${y} = ${E}/${$}, ${I}))`)}}}return Zi})(),e=Ne(),s=(()=>{if(!Xo){Xo=1,Object.defineProperty(Fn,"__esModule",{value:!0});let g=Zt(),O=Ue();Fn.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:E})=>(0,O.str)`must match pattern "${E}"`,params:({schemaCode:E})=>(0,O._)`{pattern: ${E}}`},code(E){var{data:$,$data:M,schema:y,schemaCode:I,it:T}=E,T=T.opts.unicodeRegExp?"u":"",M=M?(0,O._)`(new RegExp(${I}, ${T}))`:(0,g.usePattern)(E,y);E.fail$data((0,O._)`!${M}.test(${$})`)}}}return Fn})(),n=(()=>{if(!i){i=1,Object.defineProperty(r,"__esModule",{value:!0});let g=Ue();r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:E}){return O=O==="maxProperties"?"more":"fewer",(0,g.str)`must NOT have ${O} than ${E} properties`},params:({schemaCode:O})=>(0,g._)`{limit: ${O}}`},code(O){var{keyword:y,data:E,schemaCode:$}=O,y=y==="maxProperties"?g.operators.GT:g.operators.LT;O.fail$data((0,g._)`Object.keys(${E}).length ${y} ${$}`)}}}return r})(),l=c(),p=(()=>{if(!m){m=1,Object.defineProperty(S,"__esModule",{value:!0});let g=Ue();S.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:E}){return O=O==="maxItems"?"more":"fewer",(0,g.str)`must NOT have ${O} than ${E} items`},params:({schemaCode:O})=>(0,g._)`{limit: ${O}}`},code(O){var{keyword:y,data:E,schemaCode:$}=O,y=y==="maxItems"?g.operators.GT:g.operators.LT;O.fail$data((0,g._)`${E}.length ${y} ${$}`)}}}return S})(),h=k(),P=(()=>{if(!w){w=1,Object.defineProperty(d,"__esModule",{value:!0});let g=Ue(),O=He(),E=N();d.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:$})=>(0,g._)`{allowedValue: ${$}}`},code($){var{gen:y,data:I,$data:T,schemaCode:M,schema:j}=$;T||j&&typeof j=="object"?$.fail$data((0,g._)`!${(0,O.useFunc)(y,E.default)}(${I}, ${M})`):$.fail((0,g._)`${j} !== ${I}`)}}}return d})(),v=C(),u=[u.default,t.default,e.default,s.default,n.default,l.default,p.default,h.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},P.default,v.default],oo.default=u),oo}var H,Z={},ee={};function $e(){if(!H){let n=function(l,p){let{gen:h,schema:P,data:v,keyword:u,it:g}=l,O=(g.items=!0,h.const("len",(0,e._)`${v}.length`));if(P===!1)l.setParams({len:p.length}),l.pass((0,e._)`${O} <= ${p.length}`);else if(typeof P=="object"&&!(0,s.alwaysValidSchema)(g,P)){let E=h.var("valid",(0,e._)`${O} <= ${p.length}`);h.if((0,e.not)(E),()=>{var $;$=E,h.forRange("i",p.length,O,y=>{l.subschema({keyword:u,dataProp:y,dataPropType:s.Type.Num},$),g.allErrors||h.if((0,e.not)($),()=>h.break())})}),l.ok(E)}};H=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.validateAdditionalItems=void 0;let e=Ue(),s=He();var t={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){var{parentSchema:h,it:p}=l,h=h.items;Array.isArray(h)?n(l,h):(0,s.checkStrictMode)(p,'"additionalItems" is ignored when "items" is not an array of schemas')}};ee.validateAdditionalItems=n,ee.default=t}return ee}var xe,ce,ve={},de={};function me(){if(!xe){let l=function(p,h,P=p.schema){let{gen:v,parentSchema:u,data:g,keyword:O,it:E}=p;var T=u,{opts:$,errSchemaPath:y}=E,I=P.length,T=I===T.minItems&&(I===T.maxItems||T[h]===!1);$.strictTuples&&!T&&(T=`"${O}" is ${I}-tuple, but minItems or maxItems/${h} are not specified or different at path "${y}"`,(0,s.checkStrictMode)(E,T,$.strictTuples)),E.opts.unevaluated&&P.length&&E.items!==!0&&(E.items=s.mergeEvaluated.items(v,P.length,E.items));let M=v.name("valid"),j=v.const("len",(0,e._)`${g}.length`);P.forEach((K,W)=>{(0,s.alwaysValidSchema)(E,K)||(v.if((0,e._)`${j} > ${W}`,()=>p.subschema({keyword:O,schemaProp:W,dataProp:W},M)),p.ok(M))})};xe=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateTuple=void 0;let e=Ue(),s=He(),n=Zt();var t={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(p){var{schema:h,it:P}=p;if(Array.isArray(h))return l(p,"additionalItems",h);P.items=!0,(0,s.alwaysValidSchema)(P,h)||p.ok((0,n.validateArray)(p))}};de.validateTuple=l,de.default=t}return de}var V,J={},Q,le={};function ae(){if(!Q){Q=1,Object.defineProperty(le,"__esModule",{value:!0});let t=Ue(),e=He();le.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:n}})=>n===void 0?(0,t.str)`must contain at least ${s} valid item(s)`:(0,t.str)`must contain at least ${s} and no more than ${n} valid item(s)`,params:({params:{min:s,max:n}})=>n===void 0?(0,t._)`{minContains: ${s}}`:(0,t._)`{minContains: ${s}, maxContains: ${n}}`},code(s){let{gen:n,schema:l,parentSchema:p,data:h,it:P}=s,v,u;var{minContains:g,maxContains:O}=p;P.opts.next?(v=g===void 0?1:g,u=O):v=1;let E=n.const("len",(0,t._)`${h}.length`);if(s.setParams({min:v,max:u}),u===void 0&&v===0)(0,e.checkStrictMode)(P,'"minContains" == 0 without "maxContains": "contains" keyword ignored');else if(u!==void 0&&v>u)(0,e.checkStrictMode)(P,'"minContains" > "maxContains" is always invalid'),s.fail();else if((0,e.alwaysValidSchema)(P,l)){let $=(0,t._)`${E} >= ${v}`;u!==void 0&&($=(0,t._)`${$} && ${E} <= ${u}`),s.pass($)}else{let y=function(){let T=n.name("_valid"),M=n.let("count",0);I(T,()=>n.if(T,()=>{return j=M,n.code((0,t._)`${j}++`),void(u===void 0?n.if((0,t._)`${j} >= ${v}`,()=>n.assign($,!0).break()):(n.if((0,t._)`${j} > ${u}`,()=>n.assign($,!1).break()),v===1?n.assign($,!0):n.if((0,t._)`${j} >= ${v}`,()=>n.assign($,!0))));var j}))},I=function(T,M){n.forRange("i",0,E,j=>{s.subschema({keyword:"contains",dataProp:j,dataPropType:e.Type.Num,compositeRule:!0},T),M()})};P.items=!0;let $=n.name("valid");u===void 0&&v===1?I($,()=>n.if($,()=>n.break())):v===0?(n.let($,!0),u!==void 0&&n.if((0,t._)`${h}.length > 0`,y)):(n.let($,!1),y()),s.result($,()=>s.reset())}}}}return le}var we,F={};function U(){if(!we){we=1;{let p=function(P,v=P.schema){var{gen:u,data:g,it:O}=P;if(Object.keys(v).length!==0){var E,$,y=u.let("missing");for(E in v){let I=v[E];I.length!==0&&($=(0,l.propertyInData)(u,g,E,O.opts.ownProperties),P.setParams({property:E,depsCount:I.length,deps:I.join(", ")}),O.allErrors?u.if($,()=>{for(var T of I)(0,l.checkReportMissingProp)(P,T)}):(u.if((0,s._)`${$} && (${(0,l.checkMissingProp)(P,I,y)})`),(0,l.reportMissingProp)(P,y),u.else()))}}},h=function(P,v=P.schema){let{gen:u,data:g,keyword:O,it:E}=P,$=u.name("valid");for(let y in v)(0,n.alwaysValidSchema)(E,v[y])||(u.if((0,l.propertyInData)(u,g,y,E.opts.ownProperties),()=>{var I=P.subschema({keyword:O,schemaProp:y},$);P.mergeValidEvaluated(I,$)},()=>u.var($,!0)),P.ok($))};var t=F;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let s=Ue(),n=He(),l=Zt();t.error={message:({params:{property:P,depsCount:v,deps:u}})=>(v=v===1?"property":"properties",(0,s.str)`must have ${v} ${u} when property ${P} is present`),params:({params:{property:P,depsCount:v,deps:u,missingProperty:g}})=>(0,s._)`{property: ${P},
    missingProperty: ${g},
    depsCount: ${v},
    deps: ${u}}`};var e={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(P){var[v,u]=(({schema:g})=>{var O,E={},$={};for(O in g)O!=="__proto__"&&((Array.isArray(g[O])?E:$)[O]=g[O]);return[E,$]})(P);p(P,v),h(P,u)}};t.validatePropertyDeps=p,t.validateSchemaDeps=h,t.default=e}}return F}var re,ye={},Pe,Ce={};function Ge(){if(!Pe){Pe=1,Object.defineProperty(Ce,"__esModule",{value:!0});let t=Zt(),e=Ue(),s=ir(),n=He();Ce.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,e._)`{additionalProperty: ${l.additionalProperty}}`},code(l){let{gen:p,schema:h,parentSchema:P,data:v,errsCount:u,it:g}=l;if(!u)throw new Error("ajv implementation error");let{allErrors:O,opts:E}=g;if(g.props=!0,E.removeAdditional==="all"||!(0,n.alwaysValidSchema)(g,h)){let I=function(j){p.code((0,e._)`delete ${v}[${j}]`)},T=function(j){var K;E.removeAdditional==="all"||E.removeAdditional&&h===!1?I(j):h===!1?(l.setParams({additionalProperty:j}),l.error(),O||p.break()):typeof h!="object"||(0,n.alwaysValidSchema)(g,h)||(K=p.name("valid"),E.removeAdditional==="failing"?(M(j,K,!1),p.if((0,e.not)(K),()=>{l.reset(),I(j)})):(M(j,K),O||p.if((0,e.not)(K),()=>p.break())))},M=function(j,K,W){j={keyword:"additionalProperties",dataProp:j,dataPropType:n.Type.Str},W===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(j,K)},$=(0,t.allSchemaProperties)(P.properties),y=(0,t.allSchemaProperties)(P.patternProperties);p.forIn("key",v,j=>{$.length||y.length?p.if((K=>{let W;var X;return W=8<$.length?(X=(0,n.schemaRefOrVal)(g,P.properties,"properties"),(0,t.isOwnProperty)(p,X,K)):$.length?(0,e.or)(...$.map(se=>(0,e._)`${K} === ${se}`)):e.nil,y.length&&(W=(0,e.or)(W,...y.map(se=>(0,e._)`${(0,t.usePattern)(l,se)}.test(${K})`))),(0,e.not)(W)})(j),()=>T(j)):T(j)}),l.ok((0,e._)`${u} === ${s.default.errors}`)}}}}return Ce}var it,gt={};function or(){if(!it){it=1,Object.defineProperty(gt,"__esModule",{value:!0});let t=Ts(),e=Zt(),s=He(),n=Ge();gt.default={keyword:"properties",type:"object",schemaType:"object",code(l){let{gen:p,schema:h,parentSchema:P,data:v,it:u}=l;u.opts.removeAdditional==="all"&&P.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(u,n.default,"additionalProperties"));var g,E=(0,e.allSchemaProperties)(h);for(g of E)u.definedProperties.add(g);u.opts.unevaluated&&E.length&&u.props!==!0&&(u.props=s.mergeEvaluated.props(p,(0,s.toHash)(E),u.props));var O,E=E.filter(y=>!(0,s.alwaysValidSchema)(u,h[y]));if(E.length!==0){let I=function(T){l.subschema({keyword:"properties",schemaProp:T,dataProp:T},y)},y=p.name("valid");for(var $ of E)O=$,u.opts.useDefaults&&!u.compositeRule&&h[O].default!==void 0?I($):(p.if((0,e.propertyInData)(p,v,$,u.opts.ownProperties)),I($),u.allErrors||p.else().var(y,!0),p.endIf()),l.it.definedProperties.add($),l.ok(y)}}}}return gt}var xr,ta={};function uo(){if(!xr){xr=1,Object.defineProperty(ta,"__esModule",{value:!0});let t=Zt(),e=Ue(),s=He(),n=He();ta.default={keyword:"patternProperties",type:"object",schemaType:"object",code(l){let{gen:p,schema:h,data:P,parentSchema:v,it:u}=l;var g=u.opts;let O=(0,t.allSchemaProperties)(h),E=O.filter(T=>(0,s.alwaysValidSchema)(u,h[T]));if(O.length!==0&&(E.length!==O.length||u.opts.unevaluated&&u.props!==!0)){let K=function(W){p.forIn("key",P,X=>{p.if((0,e._)`${(0,t.usePattern)(l,W)}.test(${X})`,()=>{var se=E.includes(W);se||l.subschema({keyword:"patternProperties",schemaProp:W,dataProp:X,dataPropType:n.Type.Str},M),u.opts.unevaluated&&j!==!0?p.assign((0,e._)`${j}[${X}]`,!0):se||u.allErrors||p.if((0,e.not)(M),()=>p.break())})})},T=g.strictSchema&&!g.allowMatchingProperties&&v.properties,M=p.name("valid"),j=(u.props===!0||u.props instanceof e.Name||(u.props=(0,n.evaluatedPropsToName)(p,u.props)),u).props;for(var $ of O){if(T){y=void 0,I=void 0;var y=$;for(var I in T)new RegExp(y).test(I)&&(0,s.checkStrictMode)(u,`property ${I} matches pattern ${y} (use allowMatchingProperties)`)}u.allErrors?K($):(p.var(M,!0),K($),p.if(M))}}}}}return ta}var ra,zn={},el,sa={},ps,na={},wt,ia={},yl,ll={};function Ml(){if(!yl){let s=function(n,l){return l=n.schema[l],l!==void 0&&!(0,e.alwaysValidSchema)(n,l)};yl=1,Object.defineProperty(ll,"__esModule",{value:!0});let t=Ue(),e=He();ll.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,t.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,t._)`{failingKeyword: ${n.ifClause}}`},code(n){let{gen:l,parentSchema:p,it:h}=n;p.then===void 0&&p.else===void 0&&(0,e.checkStrictMode)(h,'"if" without "then" and "else" is ignored');var P,v=s(h,"then"),u=s(h,"else");if(v||u){let E=function($,y){return()=>{var I=n.subschema({keyword:$},O);l.assign(g,O),n.mergeValidEvaluated(I,g),y?l.assign(y,(0,t._)`${$}`):n.setParams({ifClause:$})}},g=l.let("valid",!0),O=l.name("_valid");P=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},O),n.mergeEvaluated(P),n.reset(),v&&u?(P=l.let("ifClause"),n.setParams({ifClause:P}),l.if(O,E("then",P),E("else",P))):v?l.if(O,E("then")):l.if((0,t.not)(O),E("else")),n.pass(g,()=>n.error(!0))}}}}return ll}var gl,vl,cl={};function Rl(){if(!vl){vl=1,Object.defineProperty(Z,"__esModule",{value:!0});let e=$e(),s=(()=>{if(!ce){ce=1,Object.defineProperty(ve,"__esModule",{value:!0});let M=me();ve.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:j=>(0,M.validateTuple)(j,"items")}}return ve})(),n=me(),l=(()=>{if(!V){V=1,Object.defineProperty(J,"__esModule",{value:!0});let M=Ue(),j=He(),K=Zt(),W=$e();J.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:X}})=>(0,M.str)`must NOT have more than ${X} items`,params:({params:{len:X}})=>(0,M._)`{limit: ${X}}`},code(X){var{schema:se,parentSchema:Ee,it:be}=X,Ee=Ee.prefixItems;be.items=!0,(0,j.alwaysValidSchema)(be,se)||(Ee?(0,W.validateAdditionalItems)(X,Ee):X.ok((0,K.validateArray)(X)))}}}return J})(),p=ae(),h=U(),P=(()=>{if(!re){re=1,Object.defineProperty(ye,"__esModule",{value:!0});let M=Ue(),j=He();ye.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:K})=>(0,M._)`{propertyName: ${K.propertyName}}`},code(K){let{gen:W,schema:X,data:se,it:be}=K;if(!(0,j.alwaysValidSchema)(be,X)){let Ee=W.name("valid");W.forIn("key",se,ne=>{K.setParams({propertyName:ne}),K.subschema({keyword:"propertyNames",data:ne,dataTypes:["string"],propertyName:ne,compositeRule:!0},Ee),W.if((0,M.not)(Ee),()=>{K.error(!0),be.allErrors||W.break()})}),K.ok(Ee)}}}}return ye})(),v=Ge(),u=or(),g=uo(),O=(()=>{if(!ra){ra=1,Object.defineProperty(zn,"__esModule",{value:!0});let M=He();zn.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(j){var{gen:K,schema:W,it:X}=j;(0,M.alwaysValidSchema)(X,W)?j.fail():(X=K.name("valid"),j.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},X),j.failResult(X,()=>j.reset(),()=>j.error()))},error:{message:"must NOT be valid"}}}return zn})(),E=(el||(el=1,Object.defineProperty(sa,"__esModule",{value:!0}),t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Zt().validateUnion,error:{message:"must match a schema in anyOf"}},sa.default=t),sa);var t;let $=(()=>{if(!ps){ps=1,Object.defineProperty(na,"__esModule",{value:!0});let M=Ue(),j=He();na.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:K})=>(0,M._)`{passingSchemas: ${K.passing}}`},code(K){let{gen:W,schema:X,parentSchema:se,it:be}=K;if(!Array.isArray(X))throw new Error("ajv implementation error");if(!be.opts.discriminator||!se.discriminator){let Ee=X,ne=W.let("valid",!1),pe=W.let("passing",null),fe=W.name("_valid");K.setParams({passing:pe}),W.block(function(){Ee.forEach((ue,D)=>{let G;(0,j.alwaysValidSchema)(be,ue)?W.var(fe,!0):G=K.subschema({keyword:"oneOf",schemaProp:D,compositeRule:!0},fe),0<D&&W.if((0,M._)`${fe} && ${ne}`).assign(ne,!1).assign(pe,(0,M._)`[${pe}, ${D}]`).else(),W.if(fe,()=>{W.assign(ne,!0),W.assign(pe,D),G&&K.mergeEvaluated(G,M.Name)})})}),K.result(ne,()=>K.reset(),()=>K.error(!0))}}}}return na})(),y=(()=>{if(!wt){wt=1,Object.defineProperty(ia,"__esModule",{value:!0});let M=He();ia.default={keyword:"allOf",schemaType:"array",code(j){let{gen:K,schema:W,it:X}=j;if(!Array.isArray(W))throw new Error("ajv implementation error");let se=K.name("valid");W.forEach((be,Ee)=>{(0,M.alwaysValidSchema)(X,be)||(be=j.subschema({keyword:"allOf",schemaProp:Ee},se),j.ok(se),j.mergeEvaluated(be))})}}}return ia})(),I=Ml(),T=(()=>{if(!gl){gl=1,Object.defineProperty(cl,"__esModule",{value:!0});let M=He();cl.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:j,parentSchema:K,it:W}){K.if===void 0&&(0,M.checkStrictMode)(W,`"${j}" without "if" is ignored`)}}}return cl})();Z.default=function(M=!1){var j=[O.default,E.default,$.default,y.default,I.default,T.default,P.default,v.default,h.default,u.default,g.default];return M?j.push(s.default,l.default):j.push(e.default,n.default),j.push(p.default),j}}return Z}var bl,wl,ul={},pl={};function Dl(){if(!bl){bl=1,Object.defineProperty(pl,"__esModule",{value:!0});let t=Ue();pl.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,t.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,t._)`{format: ${e}}`},code(e,s){let{gen:n,data:l,$data:p,schema:h,schemaCode:P,it:v}=e,{opts:u,errSchemaPath:g,schemaEnv:O,self:E}=v;if(u.validateFormats)if(p){let $=n.scopeValue("formats",{ref:E.formats,code:u.code.formats}),y=n.const("fDef",(0,t._)`${$}[${P}]`),I=n.let("fType"),T=n.let("format");n.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>n.assign(I,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>n.assign(I,(0,t._)`"string"`).assign(T,y)),e.fail$data((0,t.or)(u.strictSchema===!1?t.nil:(0,t._)`${P} && !${T}`,(()=>{var M=O.$async?(0,t._)`(${y}.async ? await ${T}(${l}) : ${T}(${l}))`:(0,t._)`${T}(${l})`,M=(0,t._)`(typeof ${T} == "function" ? ${M} : ${T}.test(${l}))`;return(0,t._)`${T} && ${T} !== true && ${I} === ${s} && !${M}`})()))}else{let $=E.formats[h];if($){if($!==!0){let[y,I,T]=(M=>{var j=M instanceof RegExp?(0,t.regexpCode)(M):u.code.formats?(0,t._)`${u.code.formats}${(0,t.getProperty)(h)}`:void 0,j=n.scopeValue("formats",{key:h,ref:M,code:j});return typeof M!="object"||M instanceof RegExp?["string",M,j]:[M.type||"string",M.validate,(0,t._)`${j}.validate`]})($);y===s&&e.pass((()=>{if(typeof $!="object"||$ instanceof RegExp||!$.async)return typeof I=="function"?(0,t._)`${T}(${l})`:(0,t._)`${T}.test(${l})`;if(O.$async)return(0,t._)`await ${T}(${l})`;throw new Error("async format in sync schema")})())}}else{let y=function(){return`unknown format "${h}" ignored in schema at path "${g}"`};if(u.strictSchema!==!1)throw new Error(y());E.logger.warn(y())}}}}}return pl}var _l,$l,aa={};function Vl(){var t,e,s,n,l;return $l||($l=1,Object.defineProperty(io,"__esModule",{value:!0}),l=ao(),t=q(),e=Rl(),wl||(wl=1,Object.defineProperty(ul,"__esModule",{value:!0}),s=[Dl().default],ul.default=s),s=ul,_l||(_l=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.contentVocabulary=aa.metadataVocabulary=void 0,aa.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],aa.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),n=aa,l=[l.default,t.default,(0,e.default)(),s.default,n.metadataVocabulary,n.contentVocabulary],io.default=l),io}var kl,El,dl={},tl={};function ql(){if(!El){El=1,Object.defineProperty(dl,"__esModule",{value:!0});let t=Ue(),e=(kl||(kl=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.DiscrError=void 0,tl.DiscrError={Tag:"tag",Mapping:"mapping"}),tl),s=Bn(),n=on(),l=He();dl.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:p,tagName:h}})=>p===e.DiscrError.Tag?`tag "${h}" must be string`:`value of tag "${h}" must be in oneOf`,params:({params:{discrError:p,tag:h,tagName:P}})=>(0,t._)`{error: ${p}, tag: ${P}, tagValue: ${h}}`},code(p){let{gen:h,data:P,schema:v,parentSchema:u,it:g}=p,O=u.oneOf;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");let E=v.propertyName;if(typeof E!="string")throw new Error("discriminator: requires propertyName");if(v.mapping)throw new Error("discriminator: mapping is not supported");if(!O)throw new Error("discriminator: requires oneOf keyword");let $=h.let("valid",!1),y=h.const("tag",(0,t._)`${P}${(0,t.getProperty)(E)}`);h.if((0,t._)`typeof ${y} == "string"`,()=>{var I,T=(()=>{let M,j={},K=se(u),W=!0;for(let Ee=0;Ee<O.length;Ee++){let ne=O[Ee];if(ne!=null&&ne.$ref&&!(0,l.schemaHasRulesButRef)(ne,g.self.RULES)){var X=ne.$ref;if((ne=(ne=s.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,X))instanceof s.SchemaEnv?ne.schema:ne)===void 0)throw new n.default(g.opts.uriResolver,g.baseId,X)}if(X=(M=ne==null?void 0:ne.properties)==null?void 0:M[E],typeof X!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${E}"`);W=W&&(K||se(ne)),((pe,fe)=>{if(pe.const)be(pe.const,fe);else{if(!pe.enum)throw new Error(`discriminator: "properties/${E}" must have "const" or "enum"`);for(var ue of pe.enum)be(ue,fe)}})(X,Ee)}if(W)return j;throw new Error(`discriminator: "${E}" must be required`);function se({required:Ee}){return Array.isArray(Ee)&&Ee.includes(E)}function be(Ee,ne){if(typeof Ee!="string"||Ee in j)throw new Error(`discriminator: "${E}" values must be unique strings`);j[Ee]=ne}})();for(I in h.if(!1),T)h.elseIf((0,t._)`${y} === ${I}`),h.assign($,(K=>{var j=h.name("valid"),K=p.subschema({keyword:"oneOf",schemaProp:K},j);return p.mergeEvaluated(K,t.Name),j})(T[I]));h.else(),p.error(!1,{discrError:e.DiscrError.Mapping,tag:y,tagName:E}),h.endIf()},()=>p.error(!1,{discrError:e.DiscrError.Tag,tag:y,tagName:E})),p.ok($)}}}return dl}var Sl,Kl={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};function Pl(){if(!Sl){Sl=1;{var t=Ka,e=Ka.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var s=no();let P=Vl(),v=ql(),u=Kl,g=["/properties"],O="http://json-schema.org/draft-07/schema";class E extends s.default{_addVocabularies(){super._addVocabularies(),P.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(v.default)}_addDefaultMetaSchema(){var y;super._addDefaultMetaSchema(),this.opts.meta&&(y=this.opts.$data?this.$dataMetaSchema(u,g):u,this.addMetaSchema(y,O,!1),this.refs["http://json-schema.org/schema"]=O)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(O)?O:void 0)}}e.Ajv=E,t.exports=e=E,t.exports.Ajv=E,Object.defineProperty(e,"__esModule",{value:!0}),e.default=E;var n=Ts(),l=(Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}}),Ue()),p=(Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}}),Kn()),h=(Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}}),on());Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}return Ka.exports}var Ol,fl={exports:{}};function Bl(){if(!Ol){Ol=1;{let I=function(T){return{keyword:u,schemaType:["string","object"],post:!0,code(M){let{gen:j,data:K,schema:W,schemaValue:X,it:se}=M;if(se.createErrors!==!1){let ne=function(ue,D){return l.and(n._`${ue}.keyword !== ${u}`,n._`!${ue}.${g}`,n._`${ue}.instancePath === ${Ee}`,n._`${ue}.keyword in ${D}`,n._`${ue}.schemaPath.indexOf(${se.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${ue}.schemaPath.slice(${se.errSchemaPath.length}))`)},pe=function(ue,D){var G,Y=[];for(G in ue){var oe=D[G];E.test(oe)&&Y.push([G,(oe=oe,n._`function(){return ${fe(oe)}}`)])}return j.object(...Y)},fe=function(ue){return E.test(ue)?new p._Code(p.safeStringify(ue).replace($,(D,G)=>`" + JSON.stringify(${h.getData(G,se)}) + "`).replace(y,"")):n.stringify(ue)},be=W,Ee=l.strConcat(v.default.instancePath,se.errorPath);j.if(n._`${v.default.errors} > 0`,()=>{if(typeof be=="object"){var[ue,D]=(ie=>{let he,z;for(var B in ie)if(B!=="properties"&&B!=="items"){var te=ie[B];if(typeof te=="object"){var ge,Oe=(he=he||{})[B]={};for(ge in te)Oe[ge]=[]}else(z=z||{})[B]=[]}return[he,z]})(be);if(D){let B=function(ge){j.forIn("key",ie,Oe=>j.if(n._`${ie}[${Oe}].length`,()=>ge(Oe)))},te=function(ge){return n._`${ge} in ${he} ? ${he}[${ge}]() : ${X}[${ge}]`},ie=j.const("emErrors",n.stringify(D)),he=j.const("templates",pe(D,W)),z=(j.forOf("err",v.default.vErrors,ge=>j.if(ne(ge,ie),()=>j.code(n._`${ie}[${ge}.keyword].push(${ge})`).assign(n._`${ge}.${g}`,!0))),T).singleError;if(z){let ge=j.let("message",n._`""`),Oe=j.let("paramsErrors",n._`[]`);B(Te=>{j.if(ge,()=>j.code(n._`${ge} += ${typeof z=="string"?z:";"}`)),j.code(n._`${ge} += ${te(Te)}`),j.assign(Oe,n._`${Oe}.concat(${ie}[${Te}])`)}),P.reportError(M,{message:ge,params:n._`{errors: ${Oe}}`})}else B(ge=>P.reportError(M,{message:te(ge),params:n._`{errors: ${ie}[${ge}]}`}))}if(ue){var G,Y=ue;let ie=j.const("emErrors",n.stringify(Y)),he=[];for(G in Y)he.push([G,pe(Y[G],W[G])]);let z=j.const("templates",j.object(...he)),B=j.scopeValue("obj",{ref:O,code:n.stringify(O)}),te=j.let("emPropParams"),ge=j.let("emParamsErrors");j.forOf("err",v.default.vErrors,Oe=>j.if(ne(Oe,ie),()=>{j.assign(te,n._`${B}[${Oe}.keyword]`),j.assign(ge,n._`${ie}[${Oe}.keyword][${Oe}.params[${te}]]`),j.if(ge,()=>j.code(n._`${ge}.push(${Oe})`).assign(n._`${Oe}.${g}`,!0))})),j.forIn("key",ie,Oe=>j.forIn("keyProp",n._`${ie}[${Oe}]`,Te=>{j.assign(ge,n._`${ie}[${Oe}][${Te}]`),j.if(n._`${ge}.length`,()=>{var Be=j.const("tmpl",n._`${z}[${Oe}] && ${z}[${Oe}][${Te}]`);P.reportError(M,{message:n._`${Be} ? ${Be}() : ${X}[${Oe}][${Te}]`,params:n._`{errors: ${ge}}`})})}))}{D=(({properties:z,items:B})=>{var te={};if(z)for(var ge in te.props={},z)te.props[ge]=[];if(B){te.items={};for(let Oe=0;Oe<B.length;Oe++)te.items[Oe]=[]}return te})(be);let{props:ie,items:he}=D;if(ie||he){let Oe=function(Te,Be){j.assign(z,n.stringify(Te)),j.assign(ge,pe(Te,Be))};D=n._`typeof ${K} == "object"`,ue=n._`Array.isArray(${K})`;let z=j.let("emErrors"),B,te,ge=j.let("templates");ie&&he?(B=j.let("emChildKwd"),j.if(D),j.if(ue,()=>{Oe(he,W.items),j.assign(B,n.str`items`)},()=>{Oe(ie,W.properties),j.assign(B,n.str`properties`)}),te=n._`[${B}]`):he?(j.if(ue),Oe(he,W.items),te=n._`.items`):ie&&(j.if(l.and(D,l.not(ue))),Oe(ie,W.properties),te=n._`.properties`),j.forOf("err",v.default.vErrors,Te=>{var Be,Le,dt;Be=Te,Le=z,dt=Xt=>j.code(n._`${z}[${Xt}].push(${Te})`).assign(n._`${Te}.${g}`,!0),j.if(l.and(n._`${Be}.keyword !== ${u}`,n._`!${Be}.${g}`,n._`${Be}.instancePath.indexOf(${Ee}) === 0`),()=>{var Xt=j.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Xt=j.const("emMatches",n._`${Xt}.exec(${Be}.instancePath.slice(${Ee}.length))`);let vr=j.const("emChild",n._`${Xt} && ${Xt}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);j.if(n._`${vr} !== undefined && ${vr} in ${Le}`,()=>dt(vr))})}),j.forIn("key",z,Te=>j.if(n._`${z}[${Te}].length`,()=>{P.reportError(M,{message:n._`${Te} in ${ge} ? ${ge}[${Te}]() : ${X}${te}[${Te}]`,params:n._`{errors: ${z}[${Te}]}`}),j.assign(n._`${v.default.vErrors}[${v.default.errors}-1].instancePath`,n._`${Ee} + "/" + ${Te}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),j.endIf()}}}if(D=typeof be=="string"?be:be._,D){var oe=D;let ie=j.const("emErrs",n._`[]`);j.forOf("err",v.default.vErrors,he=>{return j.if((z=he,l.and(n._`${z}.keyword !== ${u}`,n._`!${z}.${g}`,l.or(n._`${z}.instancePath === ${Ee}`,l.and(n._`${z}.instancePath.indexOf(${Ee}) === 0`,n._`${z}.instancePath[${Ee}.length] === "/"`)),n._`${z}.schemaPath.indexOf(${se.errSchemaPath}) === 0`,n._`${z}.schemaPath[${se.errSchemaPath}.length] === "/"`)),()=>j.code(n._`${ie}.push(${he})`).assign(n._`${he}.${g}`,!0));var z}),j.if(n._`${ie}.length`,()=>P.reportError(M,{message:fe(oe),params:n._`{errors: ${ie}}`}))}if(!T.keepErrors){let ie=j.const("emErrs",n._`[]`);j.forOf("err",v.default.vErrors,he=>j.if(n._`!${he}.${g}`,()=>j.code(n._`${ie}.push(${he})`))),j.assign(v.default.vErrors,ie).assign(v.default.errors,n._`${ie}.length`)}})}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}};var t=fl,e=fl.exports;Object.defineProperty(e,"__esModule",{value:!0});let n=Pl(),l=Ue(),p=tn(),h=Ts(),P=rn(),v=ir(),u="errorMessage",g=new n.Name("emUsed"),O={required:"missingProperty",dependencies:"property",dependentRequired:"property"},E=/\$\{[^}]+\}/,$=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;var s=(T,M={})=>{if(!T.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(T.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return T.addKeyword(I(M))};e.default=s,t.exports=s,t.exports.default=s}}return fl.exports}Rt=vn.exports;{let t=function(ne,pe){var fe,ue=Object.keys(ne);return Object.getOwnPropertySymbols&&(fe=Object.getOwnPropertySymbols(ne),pe&&(fe=fe.filter(function(D){return Object.getOwnPropertyDescriptor(ne,D).enumerable})),ue.push.apply(ue,fe)),ue},e=function(ne,pe){return(e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(fe,ue){return fe.__proto__=ue,fe})(ne,pe)},s=function(){s=function(Y,oe){return new fe(Y,void 0,oe)};var ne=RegExp.prototype,pe=new WeakMap;function fe(Y,oe,ie){return oe=RegExp(Y,oe),pe.set(oe,ie||pe.get(Y)),e(oe,fe.prototype)}function ue(Y,oe){var ie=pe.get(oe);return Object.keys(ie).reduce(function(he,z){var B=ie[z];if(typeof B=="number")he[z]=Y[B];else{for(var te=0;Y[B[te]]===void 0&&te+1<B.length;)te++;he[z]=Y[B[te]]}return he},Object.create(null))}var D=fe,G=RegExp;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");return D.prototype=Object.create(G&&G.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),G&&e(D,G),fe.prototype.exec=function(Y){var oe;return(Y=ne.exec.call(this,Y))&&(Y.groups=ue(Y,this),oe=Y.indices)&&(oe.groups=ue(oe,this)),Y},fe.prototype[Symbol.replace]=function(Y,oe){var ie,he;return typeof oe=="string"?(ie=pe.get(this),ne[Symbol.replace].call(this,Y,oe.replace(/\$<([^>]+)>/g,function(z,B){return B=ie[B],"$"+(Array.isArray(B)?B.join("$"):B)}))):typeof oe=="function"?(he=this,ne[Symbol.replace].call(this,Y,function(){var z=arguments;return typeof z[z.length-1]!="object"&&(z=[].slice.call(z)).push(ue(z,he)),oe.apply(this,z)})):ne[Symbol.replace].call(this,Y,oe)},s.apply(this,arguments)},l=function(ne,pe){Object.keys(ne[pe]||[]).forEach(fe=>{(fe=ne[pe][fe])&&fe.external&&fe.external.name&&(fe.name=fe.external.name,fe.external=!0)})},Ee=function(ne){let pe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,fe=E(ne);if(!fe||typeof fe=="string"||Object.prototype.hasOwnProperty.call(fe,"services"))return ne;let ue=Object.keys(fe),D=[],G=z=>D.push(z),Y=(Object.keys(fe).forEach(z=>{B=z,te=fe[z],ge=G,(te=te.links)&&(te=te[0].split(":")[0],ge("Service ".concat(B," has links, which no longer create environment variables such as ").concat(te.toUpperCase(),"_PORT. If you are using those in your application code, you should instead connect directly to the hostname, e.g. '").concat(te,"'."))),ge=z,B=fe[z],te=G,(B=B.external_links)&&te("Service ".concat(ge," has external_links: ").concat(B,`, which now work slightly differently. In particular, two containers must be connected to at least one network in common to communicate, even if explicitly linked together.

Either connect the external container to your app's default network, or connect both the external container and your service's containers to a pre-existing network. See https://docs.docker.com/compose/networking/ for more on how to do this.`));var B,te=fe[z],ge=ue;if(te.net){let Le=te.net;Le.startsWith("container:")&&(B=Le.split(":")[1],ge.includes(B))&&(Le="service:".concat(B)),te.network_mode=Le,delete te.net}(ge=fe[z]).dockerfile&&(ge.build={context:ge.build,dockerfile:ge.dockerfile},delete ge.dockerfile),(B=fe[z]).log_driver&&(B.logging={driver:B.log_driver},B.log_opt&&(B.logging.options=B.log_opt,delete B.log_opt),delete B.log_driver);var Oe=fe[z],Te=ue;if(Oe.volumes_from)for(let Le=0;Le<Oe.volumes_from.length;Le+=1){var Be=Oe.volumes_from[Le];Te.includes(Be.split(":")[0])||(Oe.volumes_from[Le]="container:".concat(Be))}}),{});return Object.keys(fe).forEach(z=>{Y[z]=fe[z],delete fe[z]}),fe.version="2.4",fe.services=Y,ne=fe,oe=G,0<(he=(z=>{let B=[];return Object.values(z).forEach(te=>(te.volumes||[]).forEach(ge=>B.push(ge))),z=new Set(B.map(te=>(te=h(te),P(te)?te:void 0))),Array.from(z).filter(te=>te).map(te=>({[te]:{external:!0,name:te}}))})(ne.services)).length&&(ie=he.map(z=>JSON.stringify(z)).join(","),oe("Named volumes (".concat(ie,`) must be explicitly declared. Creating a 'volumes' section with declarations.

For backwards-compatibility, they've been declared as external. If you don't mind the volume names being prefixed with the project name, you can remove the 'external' option from each one.`)),ne.volumes=he),l(fe,"networks"),l(fe,"volumes"),D.map(z=>"# ".concat(z.replace(/\n/g,`
#`))).join(`
`)+(0<D.length?`
`:"")+T(fe,pe);var oe,ie,he},n=(ne,pe,fe)=>{let ue=ne,D=pe.split("/"),G=D.length;for(let oe=0;oe<G-1;oe+=1){var Y=D[oe];ue[Y]||(ue[Y]={}),ue=ue[Y]}ue[D[G-1]]=fe},p=s(/^(([A-Za-z]:\/|[A-Za-z]:\\)?.*?):(([A-Za-z]:\/|[A-Za-z]:[\\])?.*?)(?::((rw|ro|z|Z)(,(rw|ro|z|Z))*))?$/,{volume:1,container_path:3,flags:5}),h=ne=>(ne=ne.match(p))===null?"":ne.groups.volume,P=ne=>ne&&!ne.includes("/")&&!ne.includes("\\")&&!ne.includes("~")&&!ne.includes(".")&&!ne.includes("$"),v=ne=>{var pe=ne.match(p);return pe!==null&&(ne={type:P(pe.groups.volume)?"volume":"bind",source:pe.groups.volume,target:pe.groups.container_path},(pe=(pe.groups.flags||"").replace(/\s+/,"").split(",")).includes("ro")&&(ne.volume={nocopy:!0}),pe.includes("z")?ne.bind={selinux:"z"}:pe.includes("Z")&&(ne.bind={selinux:"Z"})),ne},u=nr;class g extends Error{constructor(pe,fe,ue){super(pe),this.lines=fe,this.details=ue,this.name="YamlSyntaxError"}}let O=ne=>{ne=u.parseDocument(ne,{prettyErrors:!0});let pe=[],fe=[];if(ne.errors.forEach((ue,D)=>{var G=ue.message.split(`:
`)[0];fe.push({line:ue.linePos[0].line,message:G,pos:ue.linePos}),Array.from({length:ue.linePos?ue.linePos[1].line-ue.linePos[0].line:1},(Y,oe)=>ue.linePos[0].line+oe).forEach(Y=>pe.push(Y))}),0<fe.length)throw new g(fe.map(ue=>ue.message).join(`
`),pe,fe)},E=ne=>(O(ne),u.parse(ne,{intAsBigInt:!0})),$=s(/^((\[?([a-fA-F\d.:]+)\]?:)?([\d]*(-[\d]+)?):)?([\d]+(-[\d]+)?)(\/((udp|tcp|sctp)))?$/,{ip_part:2,ip:3,host:4,container:6,proto_part:8,proto:9}),y=ne=>{let pe=ne.match($);if(pe===null)return[ne];if((ne=pe.groups.container)&&ne.includes("-")){var fe=ne.split("-");let D=parseInt(fe[0],10);var fe=parseInt(fe[1],10),ue=((ue=pe.groups.host)||ne).split("-");let G=parseInt(ue[0],10),Y=[];return Array.from({length:fe-D+1},(oe,ie)=>ie).forEach(oe=>{Y=[...Y,...y("".concat(pe.groups.ip_part||"").concat(G+oe,":").concat(D+oe).concat(pe.groups.proto_part||""))]}),Y}return ue={target:parseInt(ne,10)},pe.groups.ip&&(ue.host_ip=pe.groups.ip),pe.groups.host&&(ue.published=pe.groups.host),pe.groups.proto&&(ue.protocol=pe.groups.proto),ue.mode="ingress",[ue]},I=nr,T=(ne,pe)=>(M(ne,pe),I.stringify(ne,{indent:(pe||{}).indent||4,simpleKeys:!0,nullStr:""}).trim()),M=(ne,pe)=>(pe&&pe.expandVolumes&&Object.values(ne.services).forEach(fe=>{if(fe.volumes)for(let ue=0;ue<fe.volumes.length;ue+=1)typeof fe.volumes[ue]=="string"&&(fe.volumes[ue]=v(fe.volumes[ue]))}),pe&&pe.expandPorts&&Object.values(ne.services).forEach(fe=>{if(fe.ports){let ue=[];for(let D=0;D<fe.ports.length;D+=1)ue=typeof fe.ports[D]=="string"?[...ue,...y(fe.ports[D])]:[...ue,fe.ports[D]];fe.ports=ue}}),ne),j={$id:"compose_spec.json",type:"object",title:"Compose Specification",description:"The Compose file is a YAML file defining a multi-containers based application.",properties:{version:{type:"string",description:"declared for backward compatibility, ignored."},name:{type:"string",pattern:"^[a-z0-9][a-z0-9_-]*$",description:"define the Compose project name, until user defines one explicitly."},include:{type:"array",items:{type:"object",$ref:"#/definitions/include"},description:"compose sub-projects to be included."},services:{$id:"#/properties/services",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/service"}},additionalProperties:!1},networks:{$id:"#/properties/networks",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/network"}}},volumes:{$id:"#/properties/volumes",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/volume"}},additionalProperties:!1},secrets:{$id:"#/properties/secrets",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/secret"}},additionalProperties:!1},configs:{$id:"#/properties/configs",type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{$ref:"#/definitions/config"}},additionalProperties:!1}},patternProperties:{"^x-":{}},additionalProperties:!1,definitions:{service:{$id:"#/definitions/service",type:"object",properties:{develop:{$ref:"#/definitions/development"},deploy:{$ref:"#/definitions/deployment"},annotations:{$ref:"#/definitions/list_or_dict"},attach:{type:"boolean"},build:{oneOf:[{type:"string"},{type:"object",properties:{context:{type:"string"},dockerfile:{type:"string"},dockerfile_inline:{type:"string"},args:{$ref:"#/definitions/list_or_dict"},ssh:{$ref:"#/definitions/list_or_dict"},labels:{$ref:"#/definitions/list_or_dict"},cache_from:{type:"array",items:{type:"string"}},cache_to:{type:"array",items:{type:"string"}},no_cache:{type:"boolean"},additional_contexts:{$ref:"#/definitions/list_or_dict"},network:{type:"string"},pull:{type:"boolean"},target:{type:"string"},shm_size:{type:["integer","string"]},extra_hosts:{$ref:"#/definitions/list_or_dict"},isolation:{type:"string"},privileged:{type:"boolean"},secrets:{$ref:"#/definitions/service_config_or_secret"},tags:{type:"array",items:{type:"string"}},ulimits:{$ref:"#/definitions/ulimits"},platforms:{type:"array",items:{type:"string"}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},blkio_config:{type:"object",properties:{device_read_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_read_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_bps:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},device_write_iops:{type:"array",items:{$ref:"#/definitions/blkio_limit"}},weight:{type:"integer"},weight_device:{type:"array",items:{$ref:"#/definitions/blkio_weight"}}},additionalProperties:!1},cap_add:{type:"array",items:{type:"string"},uniqueItems:!0},cap_drop:{type:"array",items:{type:"string"},uniqueItems:!0},cgroup:{type:"string",enum:["host","private"]},cgroup_parent:{type:"string"},command:{$ref:"#/definitions/command"},configs:{$ref:"#/definitions/service_config_or_secret"},container_name:{type:"string"},cpu_count:{type:"integer",minimum:0},cpu_percent:{type:"integer",minimum:0,maximum:100},cpu_shares:{type:["number","string"]},cpu_quota:{type:["number","string"]},cpu_period:{type:["number","string"]},cpu_rt_period:{type:["number","string"]},cpu_rt_runtime:{type:["number","string"]},cpus:{type:["number","string"]},cpuset:{type:"string"},credential_spec:{type:"object",properties:{config:{type:"string"},file:{type:"string"},registry:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},depends_on:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",additionalProperties:!1,patternProperties:{"^[a-zA-Z0-9._-]+$":{type:"object",additionalProperties:!1,properties:{restart:{type:"boolean"},required:{type:"boolean",default:!0},condition:{type:"string",enum:["service_started","service_healthy","service_completed_successfully"]}},required:["condition"]}}}]},device_cgroup_rules:{$ref:"#/definitions/list_of_strings"},devices:{type:"array",items:{type:"string"},uniqueItems:!0},dns:{$ref:"#/definitions/string_or_list"},dns_opt:{type:"array",items:{type:"string"},uniqueItems:!0},dns_search:{$ref:"#/definitions/string_or_list"},domainname:{type:"string"},entrypoint:{$ref:"#/definitions/command"},env_file:{$ref:"#/definitions/string_or_list"},environment:{$ref:"#/definitions/list_or_dict"},expose:{type:"array",items:{type:["string","number"],format:"expose"},uniqueItems:!0},extends:{oneOf:[{type:"string"},{type:"object",properties:{service:{type:"string"},file:{type:"string"}},required:["service"],additionalProperties:!1}]},external_links:{type:"array",items:{type:"string"},uniqueItems:!0},extra_hosts:{$ref:"#/definitions/list_or_dict"},group_add:{type:"array",items:{type:["string","number"]},uniqueItems:!0},healthcheck:{$ref:"#/definitions/healthcheck"},hostname:{type:"string"},image:{type:"string"},init:{type:"boolean"},ipc:{type:"string"},isolation:{type:"string"},labels:{$ref:"#/definitions/list_or_dict"},links:{type:"array",items:{type:"string"},uniqueItems:!0},logging:{type:"object",properties:{driver:{type:"string"},options:{type:"object",patternProperties:{"^.+$":{type:["string","number","null"]}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},mac_address:{type:"string"},mem_limit:{type:["number","string"]},mem_reservation:{type:["string","integer"]},mem_swappiness:{type:"integer"},memswap_limit:{type:["number","string"]},network_mode:{type:"string"},networks:{oneOf:[{$ref:"#/definitions/list_of_strings"},{type:"object",patternProperties:{"^[a-zA-Z0-9._-]+$":{oneOf:[{type:"object",properties:{aliases:{$ref:"#/definitions/list_of_strings"},ipv4_address:{type:"string"},ipv6_address:{type:"string"},link_local_ips:{$ref:"#/definitions/list_of_strings"},mac_address:{type:"string"},priority:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}},{type:"null"}]}},additionalProperties:!1}]},oom_kill_disable:{type:"boolean"},oom_score_adj:{type:"integer",minimum:-1e3,maximum:1e3},pid:{type:["string","null"]},pids_limit:{type:["number","string"]},platform:{type:"string"},ports:{type:"array",items:{oneOf:[{type:"number",format:"ports"},{type:"string",format:"ports"},{type:"object",properties:{mode:{type:"string"},host_ip:{type:"string"},target:{type:"integer"},published:{type:["string","integer"]},protocol:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},privileged:{type:"boolean"},profiles:{$ref:"#/definitions/list_of_strings"},pull_policy:{type:"string",enum:["always","never","if_not_present","build","missing"]},read_only:{type:"boolean"},restart:{type:"string"},runtime:{type:"string"},scale:{type:"integer"},security_opt:{type:"array",items:{type:"string"},uniqueItems:!0},shm_size:{type:["number","string"]},secrets:{$ref:"#/definitions/service_config_or_secret"},sysctls:{$ref:"#/definitions/list_or_dict"},stdin_open:{type:"boolean"},stop_grace_period:{type:"string",format:"duration"},stop_signal:{type:"string"},storage_opt:{type:"object"},tmpfs:{$ref:"#/definitions/string_or_list"},tty:{type:"boolean"},ulimits:{$ref:"#/definitions/ulimits"},user:{type:"string"},uts:{type:"string"},userns_mode:{type:"string"},volumes:{type:"array",items:{oneOf:[{type:"string",format:"volumes"},{type:"object",required:["type"],properties:{type:{type:"string"},source:{type:"string"},target:{type:"string"},read_only:{type:"boolean"},consistency:{type:"string"},bind:{type:"object",properties:{propagation:{type:"string"},create_host_path:{type:"boolean"},selinux:{type:"string",enum:["z","Z"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{type:"object",properties:{nocopy:{type:"boolean"}},additionalProperties:!1,patternProperties:{"^x-":{}}},tmpfs:{type:"object",properties:{size:{oneOf:[{type:"integer",minimum:0},{type:"string"}]},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}]},uniqueItems:!0},volumes_from:{type:"array",items:{type:"string"},uniqueItems:!0},working_dir:{type:"string"}},patternProperties:{"^x-":{}},additionalProperties:!1},healthcheck:{$id:"#/definitions/healthcheck",type:"object",properties:{disable:{type:"boolean"},interval:{type:"string",format:"duration"},retries:{type:"number"},test:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},timeout:{type:"string",format:"duration"},start_period:{type:"string",format:"duration"},start_interval:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},development:{$id:"#/definitions/development",type:["object","null"],properties:{watch:{type:"array",items:{type:"object",properties:{ignore:{type:"array",items:{type:"string"}},path:{type:"string"},action:{type:"string",enum:["rebuild","sync","sync+restart"]},target:{type:"string"}}},required:["path","action"],additionalProperties:!1,patternProperties:{"^x-":{}}}}},deployment:{$id:"#/definitions/deployment",type:["object","null"],properties:{mode:{type:"string"},endpoint_mode:{type:"string"},replicas:{type:"integer"},labels:{$ref:"#/definitions/list_or_dict"},rollback_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},update_config:{type:"object",properties:{parallelism:{type:"integer"},delay:{type:"string",format:"duration"},failure_action:{type:"string"},monitor:{type:"string",format:"duration"},max_failure_ratio:{type:"number"},order:{type:"string",enum:["start-first","stop-first"]}},additionalProperties:!1,patternProperties:{"^x-":{}}},resources:{type:"object",properties:{limits:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},pids:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}},reservations:{type:"object",properties:{cpus:{type:["number","string"]},memory:{type:"string"},generic_resources:{$ref:"#/definitions/generic_resources"},devices:{$ref:"#/definitions/devices"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},restart_policy:{type:"object",properties:{condition:{type:"string"},delay:{type:"string",format:"duration"},max_attempts:{type:"integer"},window:{type:"string",format:"duration"}},additionalProperties:!1,patternProperties:{"^x-":{}}},placement:{type:"object",properties:{constraints:{type:"array",items:{type:"string"}},preferences:{type:"array",items:{type:"object",properties:{spread:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},max_replicas_per_node:{type:"integer"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},generic_resources:{$id:"#/definitions/generic_resources",type:"array",items:{type:"object",properties:{discrete_resource_spec:{type:"object",properties:{kind:{type:"string"},value:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},devices:{$id:"#/definitions/devices",type:"array",items:{type:"object",properties:{capabilities:{$ref:"#/definitions/list_of_strings"},count:{type:["string","integer"]},device_ids:{$ref:"#/definitions/list_of_strings"},driver:{type:"string"},options:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}}},include:{$id:"#/definitions/include",oneOf:[{type:"string"},{type:"object",properties:{path:{$ref:"#/definitions/string_or_list"},env_file:{$ref:"#/definitions/string_or_list"},project_directory:{type:"string"}},additionalProperties:!1}]},network:{$id:"#/definitions/network",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},ipam:{type:"object",properties:{driver:{type:"string"},config:{type:"array",items:{type:"object",properties:{subnet:{type:"string",format:"subnet_ip_address"},ip_range:{type:"string"},gateway:{type:"string"},aux_addresses:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}}},options:{type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"string"}}}},additionalProperties:!1,patternProperties:{"^x-":{}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},internal:{type:"boolean"},enable_ipv6:{type:"boolean"},attachable:{type:"boolean"},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},volume:{$id:"#/definitions/volume",type:["object","null"],properties:{name:{type:"string"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},labels:{$ref:"#/definitions/list_or_dict"}},additionalProperties:!1,patternProperties:{"^x-":{}}},secret:{$id:"#/definitions/secret",type:"object",properties:{name:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},driver:{type:"string"},driver_opts:{type:"object",patternProperties:{"^.+$":{type:["string","number"]}}},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},config:{$id:"#/definitions/config",type:"object",properties:{name:{type:"string"},content:{type:"string"},environment:{type:"string"},file:{type:"string"},external:{type:["boolean","object"],properties:{name:{deprecated:!0,type:"string"}}},labels:{$ref:"#/definitions/list_or_dict"},template_driver:{type:"string"}},additionalProperties:!1,patternProperties:{"^x-":{}}},command:{oneOf:[{type:"null"},{type:"string"},{type:"array",items:{type:"string"}}]},string_or_list:{oneOf:[{type:"string"},{$ref:"#/definitions/list_of_strings"}]},list_of_strings:{type:"array",items:{type:"string"},uniqueItems:!0},list_or_dict:{oneOf:[{type:"object",patternProperties:{".+":{type:["string","number","boolean","null"]}},additionalProperties:!1},{type:"array",items:{type:"string"},uniqueItems:!0}]},blkio_limit:{type:"object",properties:{path:{type:"string"},rate:{type:["integer","string"]}},additionalProperties:!1},blkio_weight:{type:"object",properties:{path:{type:"string"},weight:{type:"integer"}},additionalProperties:!1},service_config_or_secret:{type:"array",items:{oneOf:[{type:"string"},{type:"object",properties:{source:{type:"string"},target:{type:"string"},uid:{type:"string"},gid:{type:"string"},mode:{type:"number"}},additionalProperties:!1,patternProperties:{"^x-":{}}}]}},ulimits:{type:"object",patternProperties:{"^[a-z]+$":{oneOf:[{type:"integer"},{type:"object",properties:{hard:{type:"integer"},soft:{type:"integer"}},required:["soft","hard"],additionalProperties:!1,patternProperties:{"^x-":{}}}]}}},constraints:{service:{$id:"#/definitions/constraints/service",anyOf:[{required:["build"]},{required:["image"]}],properties:{build:{required:["context"]}}}}}},K=nr,W=Pl(),X=Bl(),se={expose:/^\d+(-\d+)?(\/[a-zA-Z]+)?$/,ports:$,volumes:p,duration:/^(\d+(us|ms|s|m|h))+$/,byte:/^\d+(b|kb?|mb?|gb?)$/,subnet_ip_address:/^((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\/(\d|[1-2]\d|3[0-2])$|^((([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){1,7}:)|(([0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,1})|(([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2})|(([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3})|(([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4})|(([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5})|(([0-9a-fA-F]{1,4}:){1,1}(:[0-9a-fA-F]{1,4}){1,6})|(:((:[0-9a-fA-F]{1,4}){1,7}|:))|(fe80:(:[0-9a-fA-F]{1,4}){0,4}%[0-9a-zA-Z]{1,})|(::(ffff(:0{1,4}){0,1}:){0,1}((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5]))|(([0-9a-fA-F]{1,4}:){1,4}:((\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])))\/(\d|[1-9]\d|1[0-1]\d|12[0-8])$/},be=ne=>{if(Array.isArray(ne))for(let pe=0;pe<ne.length;pe+=1)be(ne[pe]);else typeof ne=="object"&&(ne.type&&ne.format&&(ne.pattern=se[ne.format].toString(),delete ne.format),Object.keys(ne).forEach(pe=>{be(ne[pe])}));return ne};Rt.getDockerComposeSchemaWithoutFormats=()=>be(j),Rt.getVolumeNameFromVolumeSpec=h,Rt.isNamedVolume=P,Rt.migrateFromV1ToV2x=Ee,Rt.migrateFromV2xToV3x=function(ne){let pe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,fe=E(ne);if(!fe||typeof fe=="string"||!fe.version||fe.version.startsWith("3"))return ne;let ue=[],D=G=>ue.push(G);return Object.keys(fe.services).forEach(G=>{let Y=fe.services[G];Y.cpus&&n(Y,"deploy/resources/limits/cpus",Y.cpus),Y.mem_limit&&n(Y,"deploy/resources/limits/memory",Y.mem_limit),Y.pids_limit&&n(Y,"deploy/resources/limits/pids",Y.pids_limit),Y.mem_reservation&&n(Y,"deploy/resources/reservations/memory",Y.mem_reservation),Y.volume_driver&&(D("Service ".concat(G," has volume_driver:").concat(Y.volume_driver,": Instead of setting the volume driver on the service, define a volume using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and specify the driver there.")),delete Y.volume_driver),Y.volumes_from&&(D("Service ".concat(G," has volumes_from:").concat(Y.volumes_from," To share a volume between services, define it using the top-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference) and reference it from each service that shares it using the service-level volumes option (https://docs.docker.com/compose/compose-file/compose-file-v3/#driver).")),delete Y.volumes_from),["cpu_shares","cpu_quota","cpuset","memswap_limit"].forEach(oe=>{Object.prototype.hasOwnProperty.call(Y,oe)&&D("Service ".concat(G," has ").concat(oe,":").concat(Y.k," These have been replaced by the resources key under deploy (https://docs.docker.com/compose/compose-file/compose-file-v3/#resources). deploy configuration only takes effect when using docker stack deploy, and is ignored by docker-compose.")),delete Y[oe]}),Y.extends&&(D("Service ".concat(G," has extends:").concat(Y.extends,' This option has been removed for version: "3.x" Compose files. For more information on extends, see https://docs.docker.com/compose/multiple-compose-files/extends/.')),delete Y.extends),Y.group_add&&(D("Service ".concat(G," has group_add:").concat(Y.group_add,' This option has been removed for version: "3.x" Compose files.')),delete Y.group_add),delete Y.cpus,delete Y.mem_limit,delete Y.pids_limit,delete Y.mem_reservation}),fe.version="3",l(fe,"networks"),l(fe,"volumes"),ue.map(G=>"# ".concat(G.replace(/\n/g,`
#`))).join(`
`)+(0<ue.length?`
`:"")+T(fe,pe)},Rt.migrateFromV3xToV2x=function(ne){let pe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,fe=E(ne);return fe&&typeof fe!="string"&&fe.version&&!fe.version.startsWith("2")&&fe.services?(Object.keys(fe.services).forEach(ue=>{var D;(ue=fe.services[ue]).deploy&&ue.deploy.resources&&((D=ue.deploy.resources).limits&&(D.limits.cpus&&(ue.cpus=D.limits.cpus),D.limits.memory&&(ue.mem_limit=D.limits.memory),D.limits.pids)&&(ue.pids_limit=D.limits.pids),D.reservations)&&D.reservations.memory&&(ue.mem_reservation=D.reservations.memory),ue.deploy&&ue.deploy.restart_policy&&ue.deploy.restart_policy.condition&&!ue.restart&&(ue.restart=ue.deploy.restart_policy.condition),delete ue.deploy}),fe.version="2.4",l(fe,"networks"),l(fe,"volumes"),T(fe,pe)):ne},Rt.migrateToCommonSpec=function(ne){var pe,fe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,ue=Ee(ne,fe);let D=E(ue);return D&&typeof D!="string"?(ue=ue.match(/^\s*#[^\r\n]*/gm)||[],Object.keys(D.services||[]).forEach(G=>{(G=D.services[G]).cpus&&n(G,"deploy/resources/limits/cpus",G.cpus),G.mem_limit&&n(G,"deploy/resources/limits/memory",G.mem_limit),G.pids_limit&&n(G,"deploy/resources/limits/pids",G.pids_limit),G.mem_reservation&&n(G,"deploy/resources/reservations/memory",G.mem_reservation),delete G.cpus,delete G.mem_limit,delete G.pids_limit,delete G.mem_reservation}),delete(pe=function(G){for(var Y=1;Y<arguments.length;Y++){var oe=arguments[Y]!=null?arguments[Y]:{};Y%2?t(Object(oe),!0).forEach(function(ie){var he,z,B;he=G,z=oe[ie=ie],(ie=typeof(B=(te=>{if(typeof te!="object"||!te)return te;var ge=te[Symbol.toPrimitive];if(ge===void 0)return String(te);if(typeof(ge=ge.call(te,"string"))!="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")})(ie))=="symbol"?B:B+"")in he?Object.defineProperty(he,ie,{value:z,enumerable:!0,configurable:!0,writable:!0}):he[ie]=z}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(oe)):t(Object(oe)).forEach(function(ie){Object.defineProperty(G,ie,Object.getOwnPropertyDescriptor(oe,ie))})}return G}({name:"<your project name>"},D)).version,l(pe,"networks"),l(pe,"volumes"),ue.map(G=>"# ".concat(G.replace(/^\s*#\s+/g,""))).join(`
`)+(0<ue.length?`
`:"")+T(pe,fe)):ne},Rt.validateDockerComposeToCommonSpec=ne=>{let pe=E(ne),fe=new W({allErrors:!0,strict:!1});X(fe),Object.keys(se).forEach(G=>fe.addFormat(G,se[G]));var ue=fe.compile(j);if(ue(pe))return[];let D=K.parseDocument(ne,{prettyErrors:!0});return ue.errors.map(G=>{let Y=G.instancePath;G.keyword==="additionalProperties"&&(Y+="/".concat(G.params.additionalProperty));var oe=Y.split("/").slice(1),ie=D.getIn(oe,!0),ie=(ie=ie===null?D.getIn(oe.slice(0,-1),!0):ie)?ie.range[0]+1:0,he="https://docs.docker.com/compose/compose-file/";return{line:ie=(ne.substring(0,ie).match(/\n/g)||[]).length+1,message:G.keyword==="additionalProperties"?"Line ".concat(ie,"(").concat(Y,"): '").concat(G.params.additionalProperty,"' is unknown for '").concat(Y,"'"):G.keyword==="format"?"Line ".concat(ie,"(").concat(Y,"): must have a valid syntax for '").concat(G.params.format,"'"):G.keyword==="oneOf"?"Line ".concat(ie,"(").concat(Y,"): must be either a Short Syntax (string(s)) or a Long Syntax (object(s))"):"Line ".concat(ie,"(").concat(Y,"): ").concat(G.message," (").concat(G.keyword,": ").concat(JSON.stringify(G.params),")"),helpLink:G=((G=oe[0])==="services"?"".concat(he,"05-services/"):G==="networks"?"".concat(he,"06-networks/"):G==="volumes"?"".concat(he,"07-volumes/"):G==="configs"?"".concat(he,"08-configs/"):G==="secrets"?"".concat(he,"09-secrets/"):he)+(oe[2]?"#".concat(oe[2]):"")}})},Rt.yamlCheck=O,Rt.yamlParse=E,Rt.yamlStringify=T}var oa=Gn(vn.exports),Nl=Gn(function(t,e,s,n,l,p,h,P){var v,u,g;if(!t)throw e===void 0?g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(v=[s,n,l,p,h,P],u=0,(g=new Error(e.replace(/%s/g,function(){return v[u++]}))).name="Invariant Violation"),g.framesToPop=1,g}),je=(t,e)=>({type:t,path:e});let ot={"add-host":je("Array","extra_hosts"),"blkio-weight":je("IntValue","blkio_config/weight"),"blkio-weight-device":je("DeviceBlockIOConfigWeight","blkio_config/weight_device"),"cap-add":je("Array","cap_add"),"cap-drop":je("Array","cap_drop"),"cgroup-parent":je("Value","cgroup_parent"),cgroupns:je("Value","cgroup"),"cpu-period":je("Value","cpu_period"),"cpu-quota":je("Value","cpu_quota"),"cpu-rt-period":je("Value","cpu_rt_period"),"cpu-rt-runtime":je("Value","cpu_rt_runtime"),"cpu-shares":je("IntValue","cpu_shares"),cpus:je("FloatValue","deploy/resources/limits/cpus"),detached:je("Switch",""),"device-cgroup-rule":je("Array","device_cgroup_rules"),"device-read-bps":je("DeviceBlockIOConfigRate","blkio_config/device_read_bps"),"device-read-iops":je("DeviceBlockIOConfigRate","blkio_config/device_read_iops"),"device-write-bps":je("DeviceBlockIOConfigRate","blkio_config/device_write_bps"),"device-write-iops":je("DeviceBlockIOConfigRate","blkio_config/device_write_iops"),device:je("Array","devices"),"dns-opt":je("Array","dns_opt"),"dns-search":je("Array","dns_search"),dns:je("Array","dns"),domainname:je("Value","domainname"),entrypoint:je("Array","entrypoint"),"env-file":je("Array","env_file"),env:je("Envs","environment"),expose:je("Array","expose"),gpus:je("Gpus","deploy"),"group-add":je("Array","group_add"),"health-cmd":je("Value","healthcheck/test"),"health-interval":je("Value","healthcheck/interval"),"health-retries":je("Value","healthcheck/retries"),"health-start-period":je("Value","healthcheck/start_period"),"health-timeout":je("Value","healthcheck/timeout"),hostname:je("Value","hostname"),init:je("Switch","init"),interactive:je("Switch","stdin_open"),ip6:je("Value","networks/¤network¤/ipv6_address"),ip:je("Value","networks/¤network¤/ipv4_address"),ipc:je("Value","ipc"),isolation:je("Value","isolation"),label:je("Array","labels"),"link-local-ip":je("Array","networks/¤network¤/link_local_ips"),link:je("Array","links"),"log-driver":je("Value","logging/driver"),"log-opt":je("Map","logging/options"),"mac-address":je("Value","mac_address"),"memory-reservation":je("Value","deploy/resources/reservations/memory"),"memory-swap":je("Value","memswap_limit"),"memory-swappiness":je("Value","mem_swappiness"),memory:je("Value","deploy/resources/limits/memory"),mount:je("MapArray","volumes"),name:je("Value","container_name"),net:je("Networks","network_mode"),"network-alias":je("Array","networks/¤network¤/aliases"),network:je("Networks","network_mode"),"no-healthcheck":je("Switch","healthcheck/disable"),"oom-kill-disable":je("Switch","oom_kill_disable"),"oom-score-adj":je("Value","oom_score_adj"),pid:je("Value","pid"),"pids-limit":je("IntValue","deploy/resources/limits/pids"),platform:je("Value","platform"),privileged:je("Switch","privileged"),publish:je("Array","ports"),pull:je("Value","pull_policy"),"read-only":je("Switch","read_only"),restart:je("Value","restart"),rm:je("Switch",""),runtime:je("Value","runtime"),"security-opt":je("Array","security_opt"),"shm-size":je("Value","shm_size"),"stop-signal":je("Value","stop_signal"),"stop-timeout":je("Value","stop_grace_period"),"storage-opt":je("Map","storage_opt"),sysctl:je("Array","sysctls"),tmpfs:je("Value","tmpfs"),tty:je("Switch","tty"),ulimit:je("Ulimits","ulimits"),user:je("Value","user"),userns:je("Value","userns_mode"),uts:je("Value","uts"),volume:je("Array","volumes"),"volumes-from":je("Array","volume_from"),workdir:je("Value","working_dir")},hl=(ot.v=ot.volume,ot.p=ot.publish,ot.e=ot.env,ot.l=ot.label,ot.h=ot.hostname,ot.u=ot.user,ot.w=ot.workdir,ot.c=ot["cpu-shares"],ot.l=ot.label,ot.t=ot.tty,ot.i=ot.interactive,ot.m=ot.memory,ot.d=ot.detached,t=>[...t].reduce((e,n)=>{var[n,l]=n;return Tr(Tr({},e),{},{[n]:l})},{})),jl=(t,e,s)=>(t=t.split(e),hl(t.map(l=>{var[l,p]=l.split(s,2);return[l,/^-?\d+$/.test(String(p))?parseInt(p,10):p]}))),rl=t=>typeof t!="string"||t[0]!=="'"&&t[0]!=='"'||t[t.length-1]!==t[0]?t:t.substring(1,t.length-1),Ul=(t,e)=>{var s;return t.type==="Array"?{path:t.path,value:Array.isArray(e)?e:[String(e)]}:t.type==="Networks"?(s=String(e)).match(/^(host|bridge|none)$|^container:.+/)?{path:"network_mode",value:s}:{path:"networks",value:{[s]:{}}}:t.type==="Switch"?{path:t.path,value:e==="true"||e===!0}:t.type==="Gpus"?{path:"deploy",value:{resources:{reservations:{devices:[{driver:"nvidia",count:e==="all"?"all":parseInt(e,10),capabilities:["gpu"]}]}}}}:t.type==="Envs"?(Array.isArray(e)?e:[e]).map(l=>{var[l,...p]=String(l).split("=");return{path:t.path,value:[p.length?"".concat(l,"=").concat(rl(p.join("="))):l]}}):t.type==="MapArray"?(Array.isArray(e)?e:[e]).map(n=>({path:t.path,value:[jl(String(n),",","=")]})):t.type==="Map"?(s=Array.isArray(e)?e.join(","):e,{path:t.path,value:jl(String(s),",","=")}):t.type==="DeviceBlockIOConfigWeight"?(Array.isArray(e)?e:[e]).map(l=>{var[l,p]=String(l).split(":");return{path:t.path,value:[{path:l,weight:parseInt(p,10)}]}}):t.type==="DeviceBlockIOConfigRate"?(Array.isArray(e)?e:[e]).map(l=>{var[l,p]=String(l).split(":");return{path:t.path,value:[{path:l,rate:/^-?\d+$/.test(String(p))?parseInt(p,10):p}]}}):t.type==="Ulimits"?(Array.isArray(e)?e:[e]).map(h=>{var l,p,[h,P]=String(h).split("=");return Nl(h&&P,"".concat(t.type," must be in the format of: <type>=<soft limit>[:<hard limit>]")),P.includes(":")?([l,p]=P.split(":"),Nl(l&&p,"".concat(t.type," must be in the format of: <type>=<soft limit>[:<hard limit>]")),{path:"".concat(t.path,"/").concat(h),value:{soft:parseInt(l,10),hard:parseInt(p,10)}}):{path:"".concat(t.path,"/").concat(h),value:parseInt(P,10)}}):t.type==="IntValue"?{path:t.path,value:parseInt(e,10)}:t.type==="FloatValue"?{path:t.path,value:parseFloat(e)}:{path:t.path,value:String(e)}},Fl=(t,e)=>(t=ot[t],t?t.path===""?{}:t.type==="Switch"||e?Ul(t,e):null:null),zl=(t,e)=>t.path?t.path.replace("¤network¤",e.toString()).split("/").reduceRight((s,n)=>({[n]:s}),t.value):{},Gl=["_"],Jl=t=>{if(t===null||t===""||t===void 0)return"!!!invalid!!!";let e=t.includes("/")?t.split("/").slice(-1)[0]:t;return e=e.includes(":")?e.split(":")[0]:e},Hl=(n,y)=>{var n=n.replace(/\n\s*#[^\n]+/g,`
`).replace(/\\\n/g,`
`).replace(/\s-p(\d)/g," -p $1").replace(/\s\\\s/g,`
`).replace(/\s*;$/g,"").replace(/[ ]+\n[ ]+/g,`
 `).replace(/[ ]+/g," ").trim().replace(/^(?:\s*\$\s+)?docker\s+(run|create|container\s+run|service\s+create)/,""),n=va(n,{configuration:{"halt-at-non-option":!0,"camel-case-expansion":!1,"boolean-negation":!1},boolean:["i","interactive","t","tty","d","detach","rm","init","help","privileged","P","publish-all","no-healthcheck","oom-kill-disable","read-only","sig-proxy"]}),s=n._,n=cn(n,Gl),n=Object.fromEntries(Object.entries(n).map(M=>{var[M,j]=M;return Array.isArray(j)?[M.trim(),j.map(K=>typeof K=="string"?rl(String(K).trim()):K)]:[M.trim(),typeof j=="string"?rl(String(j).trim()):j]}));let l={};var{net:$,network:P}=n;let p=$||P||"default",h=[];Object.entries(n).forEach(M=>{var[M,j]=M,K=Fl(M,j);K?(Array.isArray(K)?K:[K]).forEach(W=>{W=zl(W,p),l=gn(l,W)}):(K=M.length===1?"-":"--",j=j===!0?"":"=".concat(j.toString()),h.push("# ".concat(K).concat(M).concat(j)))});var P=rl(($=s[0])==null?void 0:$.trim());if(l.image=P,1<s.length){let T=1;for(var v=[];T<s.length;)v.push(s[T]),T+=1;l.command=v.join(" ")}l.network_mode==="host"&&delete l.ports;var u,g=[];if(l.volumes)for(let T=0;T<l.volumes.length;T+=1){let M;M=typeof l.volumes[T]=="string"?l.volumes[T].split(":")[0]:l.volumes[T].source,!(u=M)||u.includes("/")||u.includes("\\")||u.includes("$")||u.includes("<")||u.includes(">")||g.push([M,{external:{name:M}}])}l.networks&&(Object.keys(l.networks).forEach(T=>{var M;(M=l.networks[T])&&Object.keys(M).length===0&&M.constructor===Object&&(l.networks[T]=null)}),Object.values(l.networks).every(T=>!T)&&(l.networks=Object.keys(l.networks)));let O=[];if(l.networks)if(Array.isArray(l.networks))for(let T=0;T<l.networks.length;T+=1)O.push([l.networks[T],{external:!0,name:l.networks[T]}]);else Object.keys(l.networks).forEach(T=>{O.push([T,{external:!0,name:T}])});n=Jl(P);let E;var $={version:"3",services:{[n]:l}},y=(P=oa.yamlParse(y??""))!=null?P:{};E=gn(y,$),0<O.length&&(P={networks:hl(O)},E=gn(E,P)),0<g.length&&(y={volumes:hl(g)},E=gn(E,y));let I="";return 0<h.length&&(I="# ignored options for '".concat(n,`'
`).concat(h.join(`
`),`
`)),{composeFile:E,ignoredOptionsComments:I}};return function(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"latest",n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:4;let l=[],p={};t=t.split(/^(?:\s*\$)?\s*docker\s+/gm);let h=e;if(e&&(s==="v2x"?h=oa.migrateFromV3xToV2x(h,{indent:n}):s==="latest"&&(h=oa.migrateToCommonSpec(h,{indent:n}))),t.forEach(O=>{var u,g,O=String(O);O&&(O.match(/^\s*(run|create|container\s+run|service\s+create)/)?({composeFile:u,ignoredOptionsComments:g}=Hl("docker ".concat(O),h),g&&l.push(g),p=gn(p,u)):l.push("# ignored : docker ".concat(O,`
`)))}),!p.services)throw new SyntaxError("must have at least a valid docker run/create/service create/container run command");let P=oa.yamlStringify(p,{indent:n}).trim();if(s==="v2x")P=oa.migrateFromV3xToV2x(P,{indent:n});else if(s==="latest")P=oa.migrateToCommonSpec(P,{indent:n});else if(s!=="v3x")throw new Error("Unknown ComposeVersion '".concat(s,"'"));return l.join(`
`)+P}})})(Ll);var tc=Ll.exports;const rc=Tl(tc),lc=Wl("/_utilities/docker-compose-converter")({component:sc});function sc(){const la=Yl(),fo=sl.useRef(null),Ir=sl.useRef(null),ut=sl.useRef({text:"",outputText:""}),[Tr,cn]=sl.useState("run"),Cr=()=>{var Ye,lt;Tr==="run"?ut.current.text=`name: <your project name>
services:
    nginx:
        ports:
            - 80:80
        volumes:
            - /var/run/docker.sock:/tmp/docker.sock:ro
        restart: always
        logging:
            options:
                max-size: 1g
        image: nginx`:ut.current.text="docker run -p 80:80 -v /var/run/docker.sock:/tmp/docker.sock:ro --restart always --log-opt max-size=1g nginx",(Ye=fo.current)==null||Ye.setValue(ut.current.text),(lt=Ir.current)==null||lt.setValue(ds(ut.current.text,Tr))},lr=()=>{ut.current.outputText.trim().length!==0&&la(ut.current.outputText)},ds=(Ye,lt)=>{try{return lt==="run"?ec(Ye):rc(Ye)}catch{}return""};return Ar.jsx(Ql,{InputToolbar:Ar.jsxs(xl,{children:[Ar.jsxs(ml.Group,{value:Tr,onChange:Ye=>{var lt;cn(Ye.target.value),(lt=Ir.current)==null||lt.setValue(ds(ut.current.text,Ye.target.value))},children:[Ar.jsx(ml,{value:"run",children:"Compose2Run"}),Ar.jsx(ml,{value:"compose",children:"Run2Compose"})]}),Ar.jsx(Al,{size:"large",onClick:Cr,children:"Sample"})]}),InputView:Ar.jsx(Il,{ref:fo,code:ut.current.text,language:"text",onChange:Ye=>{var lt;ut.current.text=Ye,ut.current.outputText=ds(Ye,Tr),(lt=Ir.current)==null||lt.setValue(ut.current.outputText)}}),OutputToolbar:Ar.jsx(xl,{children:Ar.jsx(Al,{icon:Ar.jsx(Zl,{}),onClick:lr,children:"Copy"})}),OutputView:Ar.jsx(Il,{ref:Ir,code:ut.current.outputText,language:"text",onChange:Ye=>{ut.current.outputText=Ye}})})}export{lc as Route};
