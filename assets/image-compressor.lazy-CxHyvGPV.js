import{r as n,_ as ut,p as dt,n as me,q as oe,H as I,K as W,m as ne,G as fe,L as Rt,W as Pt,aq as jt,ar as Ot,as as Bt,k as Ht,w as at,t as zt,x as kt,$ as Dt,y as G,at as Nt,R as ve,z as Ft,an as Tt,c as Lt,u as _t,j as M,I as Wt,S as nt,B as ot,A as It,E as qt,aj as At,s as Ut}from"./index-B0FZfun1.js";import{f as Xt,i as vt,U as Yt,a as Vt,b as lt,I as it,D as Gt,B as Kt}from"./fromBlob-BfIQgr34.js";import{F as Te}from"./index-DdgSV0az.js";import{I as Jt}from"./index-BGodGVlL.js";import"./editorWorker-CSXiZMy3.js";import"./useForceUpdate-DMuVAN-a.js";var pe=n.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function Le(e,t,r){return(e-t)/(r-t)}function _e(e,t,r,a){var o=Le(t,r,a),c={};switch(e){case"rtl":c.right="".concat(o*100,"%"),c.transform="translateX(50%)";break;case"btt":c.bottom="".concat(o*100,"%"),c.transform="translateY(50%)";break;case"ttb":c.top="".concat(o*100,"%"),c.transform="translateY(-50%)";break;default:c.left="".concat(o*100,"%"),c.transform="translateX(-50%)";break}return c}function Ee(e,t){return Array.isArray(e)?e[t]:e}var Qt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],Zt=n.forwardRef(function(e,t){var r,a,o=e.prefixCls,c=e.value,s=e.valueIndex,m=e.onStartMove,y=e.style,g=e.render,b=e.dragging,S=e.onOffsetChange,u=e.onChangeComplete,d=ut(e,Qt),l=n.useContext(pe),v=l.min,f=l.max,h=l.direction,i=l.disabled,p=l.keyboard,j=l.range,R=l.tabIndex,z=l.ariaLabelForHandle,D=l.ariaLabelledByForHandle,H=l.ariaValueTextFormatterForHandle,O=l.styles,P=l.classNames,B="".concat(o,"-handle"),N=function(x){i||m(x,s)},U=function(x){if(!i&&p){var $=null;switch(x.which||x.keyCode){case W.LEFT:$=h==="ltr"||h==="btt"?-1:1;break;case W.RIGHT:$=h==="ltr"||h==="btt"?1:-1;break;case W.UP:$=h!=="ttb"?1:-1;break;case W.DOWN:$=h!=="ttb"?-1:1;break;case W.HOME:$="min";break;case W.END:$="max";break;case W.PAGE_UP:$=2;break;case W.PAGE_DOWN:$=-2;break}$!==null&&(x.preventDefault(),S($,s))}},J=function(x){switch(x.which||x.keyCode){case W.LEFT:case W.RIGHT:case W.UP:case W.DOWN:case W.HOME:case W.END:case W.PAGE_UP:case W.PAGE_DOWN:u==null||u();break}},q=_e(h,c,v,f),_=n.createElement("div",dt({ref:t,className:me(B,(r={},oe(r,"".concat(B,"-").concat(s+1),j),oe(r,"".concat(B,"-dragging"),b),r),P.handle),style:I(I(I({},q),y),O.handle),onMouseDown:N,onTouchStart:N,onKeyDown:U,onKeyUp:J,tabIndex:i?null:Ee(R,s),role:"slider","aria-valuemin":v,"aria-valuemax":f,"aria-valuenow":c,"aria-disabled":i,"aria-label":Ee(z,s),"aria-labelledby":Ee(D,s),"aria-valuetext":(a=Ee(H,s))===null||a===void 0?void 0:a(c),"aria-orientation":h==="ltr"||h==="rtl"?"horizontal":"vertical"},d));return g&&(_=g(_,{index:s,prefixCls:o,value:c,dragging:b})),_}),er=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],tr=n.forwardRef(function(e,t){var r=e.prefixCls,a=e.style,o=e.onStartMove,c=e.onOffsetChange,s=e.values,m=e.handleRender,y=e.draggingIndex,g=ut(e,er),b=n.useRef({});return n.useImperativeHandle(t,function(){return{focus:function(u){var d;(d=b.current[u])===null||d===void 0||d.focus()}}}),n.createElement(n.Fragment,null,s.map(function(S,u){return n.createElement(Zt,dt({ref:function(l){l?b.current[u]=l:delete b.current[u]},dragging:y===u,prefixCls:r,style:Ee(a,u),key:u,value:S,valueIndex:u,onStartMove:o,onOffsetChange:c,render:m},g))}))});function st(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function rr(e,t,r,a,o,c,s,m,y){var g=n.useState(null),b=ne(g,2),S=b[0],u=b[1],d=n.useState(-1),l=ne(d,2),v=l[0],f=l[1],h=n.useState(r),i=ne(h,2),p=i[0],j=i[1],R=n.useState(r),z=ne(R,2),D=z[0],H=z[1],O=n.useRef(null),P=n.useRef(null);n.useEffect(function(){v===-1&&j(r)},[r,v]),n.useEffect(function(){return function(){document.removeEventListener("mousemove",O.current),document.removeEventListener("mouseup",P.current),document.removeEventListener("touchmove",O.current),document.removeEventListener("touchend",P.current)}},[]);var B=function(E,x){p.some(function($,T){return $!==E[T]})&&(x!==void 0&&u(x),j(E),s(E))},N=function(E,x){if(E===-1){var $=D[0],T=D[D.length-1],se=a-$,le=o-T,X=x*(o-a);X=Math.max(X,se),X=Math.min(X,le);var ce=c($+X);X=ce-$;var A=D.map(function(te){return te+X});B(A)}else{var Q=(o-a)*x,ee=fe(p);ee[E]=D[E];var Y=y(ee,Q,E,"dist");B(Y.values,Y.value)}},U=n.useRef(N);U.current=N;var J=function(E,x,$){E.stopPropagation();var T=$||r,se=T[x];f(x),u(se),H(T);var le=st(E),X=le.pageX,ce=le.pageY,A=function(Y){Y.preventDefault();var te=st(Y),ge=te.pageX,we=te.pageY,he=ge-X,be=we-ce,ie=e.current.getBoundingClientRect(),V=ie.width,Re=ie.height,Z;switch(t){case"btt":Z=-be/Re;break;case"ttb":Z=be/Re;break;case"rtl":Z=-he/V;break;default:Z=he/V}U.current(x,Z)},Q=function ee(Y){Y.preventDefault(),document.removeEventListener("mouseup",ee),document.removeEventListener("mousemove",A),document.removeEventListener("touchend",ee),document.removeEventListener("touchmove",A),O.current=null,P.current=null,f(-1),m()};document.addEventListener("mouseup",Q),document.addEventListener("mousemove",A),document.addEventListener("touchend",Q),document.addEventListener("touchmove",A),O.current=A,P.current=Q},q=n.useMemo(function(){var _=fe(r).sort(function(x,$){return x-$}),E=fe(p).sort(function(x,$){return x-$});return _.every(function(x,$){return x===E[$]})?p:r},[r,p]);return[v,S,q,J]}function ar(e,t,r,a,o,c){var s=n.useCallback(function(d){var l=isFinite(d)?d:e;return l=Math.min(t,d),l=Math.max(e,l),l},[e,t]),m=n.useCallback(function(d){if(r!==null){var l=e+Math.round((s(d)-e)/r)*r,v=function(p){return(String(p).split(".")[1]||"").length},f=Math.max(v(r),v(t),v(e)),h=Number(l.toFixed(f));return e<=h&&h<=t?h:null}return null},[r,e,t,s]),y=n.useCallback(function(d){var l=s(d),v=a.map(function(i){return i.value});r!==null&&v.push(m(d)),v.push(e,t);var f=v[0],h=t-e;return v.forEach(function(i){var p=Math.abs(l-i);p<=h&&(f=i,h=p)}),f},[e,t,a,r,s,m]),g=function d(l,v,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var i,p=l[f],j=p+v,R=[];a.forEach(function(P){R.push(P.value)}),R.push(e,t),R.push(m(p));var z=v>0?1:-1;h==="unit"?R.push(m(p+z*r)):R.push(m(j)),R=R.filter(function(P){return P!==null}).filter(function(P){return v<0?P<=p:P>=p}),h==="unit"&&(R=R.filter(function(P){return P!==p}));var D=h==="unit"?p:j;i=R[0];var H=Math.abs(i-D);if(R.forEach(function(P){var B=Math.abs(P-D);B<H&&(i=P,H=B)}),i===void 0)return v<0?e:t;if(h==="dist")return i;if(Math.abs(v)>1){var O=fe(l);return O[f]=i,d(O,v-z,f,h)}return i}else{if(v==="min")return e;if(v==="max")return t}},b=function(l,v,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",i=l[f],p=g(l,v,f,h);return{value:p,changed:p!==i}},S=function(l){return c===null&&l===0||typeof c=="number"&&l<c},u=function(l,v,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",i=l.map(y),p=i[f],j=g(i,v,f,h);if(i[f]=j,o===!1){var R=c||0;f>0&&i[f-1]!==p&&(i[f]=Math.max(i[f],i[f-1]+R)),f<i.length-1&&i[f+1]!==p&&(i[f]=Math.min(i[f],i[f+1]-R))}else if(typeof c=="number"||c===null){for(var z=f+1;z<i.length;z+=1)for(var D=!0;S(i[z]-i[z-1])&&D;){var H=b(i,1,z);i[z]=H.value,D=H.changed}for(var O=f;O>0;O-=1)for(var P=!0;S(i[O]-i[O-1])&&P;){var B=b(i,-1,O-1);i[O-1]=B.value,P=B.changed}for(var N=i.length-1;N>0;N-=1)for(var U=!0;S(i[N]-i[N-1])&&U;){var J=b(i,-1,N-1);i[N-1]=J.value,U=J.changed}for(var q=0;q<i.length-1;q+=1)for(var _=!0;S(i[q+1]-i[q])&&_;){var E=b(i,1,q+1);i[q+1]=E.value,_=E.changed}}return{value:i[f],values:i}};return[y,u]}function nr(e){var t=e.prefixCls,r=e.style,a=e.children,o=e.value,c=e.onClick,s=n.useContext(pe),m=s.min,y=s.max,g=s.direction,b=s.includedStart,S=s.includedEnd,u=s.included,d="".concat(t,"-text"),l=_e(g,o,m,y);return n.createElement("span",{className:me(d,oe({},"".concat(d,"-active"),u&&b<=o&&o<=S)),style:I(I({},l),r),onMouseDown:function(f){f.stopPropagation()},onClick:function(){c(o)}},a)}function or(e){var t=e.prefixCls,r=e.marks,a=e.onClick,o="".concat(t,"-mark");return r.length?n.createElement("div",{className:o},r.map(function(c){var s=c.value,m=c.style,y=c.label;return n.createElement(nr,{key:s,prefixCls:o,style:m,value:s,onClick:a},y)})):null}function lr(e){var t=e.prefixCls,r=e.value,a=e.style,o=e.activeStyle,c=n.useContext(pe),s=c.min,m=c.max,y=c.direction,g=c.included,b=c.includedStart,S=c.includedEnd,u="".concat(t,"-dot"),d=g&&b<=r&&r<=S,l=I(I({},_e(y,r,s,m)),typeof a=="function"?a(r):a);return d&&(l=I(I({},l),typeof o=="function"?o(r):o)),n.createElement("span",{className:me(u,oe({},"".concat(u,"-active"),d)),style:l})}function ir(e){var t=e.prefixCls,r=e.marks,a=e.dots,o=e.style,c=e.activeStyle,s=n.useContext(pe),m=s.min,y=s.max,g=s.step,b=n.useMemo(function(){var S=new Set;if(r.forEach(function(d){S.add(d.value)}),a&&g!==null)for(var u=m;u<=y;)S.add(u),u+=g;return Array.from(S)},[m,y,g,a,r]);return n.createElement("div",{className:"".concat(t,"-step")},b.map(function(S){return n.createElement(lr,{prefixCls:t,key:S,value:S,style:o,activeStyle:c})}))}function ct(e){var t,r=e.prefixCls,a=e.style,o=e.start,c=e.end,s=e.index,m=e.onStartMove,y=e.replaceCls,g=n.useContext(pe),b=g.direction,S=g.min,u=g.max,d=g.disabled,l=g.range,v=g.classNames,f="".concat(r,"-track"),h=Le(o,S,u),i=Le(c,S,u),p=function(D){!d&&m&&m(D,-1)},j={};switch(b){case"rtl":j.right="".concat(h*100,"%"),j.width="".concat(i*100-h*100,"%");break;case"btt":j.bottom="".concat(h*100,"%"),j.height="".concat(i*100-h*100,"%");break;case"ttb":j.top="".concat(h*100,"%"),j.height="".concat(i*100-h*100,"%");break;default:j.left="".concat(h*100,"%"),j.width="".concat(i*100-h*100,"%")}var R=y||me(f,(t={},oe(t,"".concat(f,"-").concat(s+1),s!==null&&l),oe(t,"".concat(r,"-track-draggable"),m),t),v.track);return n.createElement("div",{className:R,style:I(I({},j),a),onMouseDown:p,onTouchStart:p})}function sr(e){var t=e.prefixCls,r=e.style,a=e.values,o=e.startPoint,c=e.onStartMove,s=n.useContext(pe),m=s.included,y=s.range,g=s.min,b=s.styles,S=s.classNames,u=n.useMemo(function(){if(!y){if(a.length===0)return[];var l=o??g,v=a[0];return[{start:Math.min(l,v),end:Math.max(l,v)}]}for(var f=[],h=0;h<a.length-1;h+=1)f.push({start:a[h],end:a[h+1]});return f},[a,y,o,g]),d=null;return(S.tracks||b.tracks)&&(d=n.createElement(ct,{index:null,prefixCls:t,start:u[0].start,end:u[u.length-1].end,replaceCls:me(S.tracks,"".concat(t,"-tracks")),style:b.tracks})),m?n.createElement(n.Fragment,null,d,u.map(function(l,v){var f=l.start,h=l.end;return n.createElement(ct,{index:v,prefixCls:t,style:I(I({},Ee(r,v)),b.track),start:f,end:h,key:v,onStartMove:c})})):null}var cr=n.forwardRef(function(e,t){var r,a=e.prefixCls,o=a===void 0?"rc-slider":a,c=e.className,s=e.style,m=e.classNames,y=e.styles,g=e.disabled,b=g===void 0?!1:g,S=e.keyboard,u=S===void 0?!0:S,d=e.autoFocus,l=e.onFocus,v=e.onBlur,f=e.min,h=f===void 0?0:f,i=e.max,p=i===void 0?100:i,j=e.step,R=j===void 0?1:j,z=e.value,D=e.defaultValue,H=e.range,O=e.count,P=e.onChange,B=e.onBeforeChange,N=e.onAfterChange,U=e.onChangeComplete,J=e.allowCross,q=J===void 0?!0:J,_=e.pushable,E=_===void 0?!1:_,x=e.draggableTrack,$=e.reverse,T=e.vertical,se=e.included,le=se===void 0?!0:se,X=e.startPoint,ce=e.trackStyle,A=e.handleStyle,Q=e.railStyle,ee=e.dotStyle,Y=e.activeDotStyle,te=e.marks,ge=e.dots,we=e.handleRender,he=e.tabIndex,be=he===void 0?0:he,ie=e.ariaLabelForHandle,V=e.ariaLabelledByForHandle,Re=e.ariaValueTextFormatterForHandle,Z=n.useRef(),Oe=n.useRef(),Be=n.useMemo(function(){return T?$?"ttb":"btt":$?"rtl":"ltr"},[$,T]),K=n.useMemo(function(){return isFinite(h)?h:0},[h]),xe=n.useMemo(function(){return isFinite(p)?p:100},[p]),Se=n.useMemo(function(){return R!==null&&R<=0?1:R},[R]),mt=n.useMemo(function(){return typeof E=="boolean"?E?Se:!1:E>=0?E:!1},[E,Se]),He=n.useMemo(function(){var k=Object.keys(te||{});return k.map(function(w){var C=te[w],L={value:Number(w)};return C&&Rt(C)==="object"&&!n.isValidElement(C)&&("label"in C||"style"in C)?(L.style=C.style,L.label=C.label):L.label=C,L}).filter(function(w){var C=w.label;return C||typeof C=="number"}).sort(function(w,C){return w.value-C.value})},[te]),gt=ar(K,xe,Se,He,q,mt),We=ne(gt,2),ze=We[0],Ie=We[1],ht=Pt(D,{value:z}),qe=ne(ht,2),ue=qe[0],bt=qe[1],re=n.useMemo(function(){var k=ue==null?[]:Array.isArray(ue)?ue:[ue],w=ne(k,1),C=w[0],L=C===void 0?K:C,F=ue===null?[]:[L];if(H){if(F=fe(k),O||ue===void 0){var ae=O>=0?O+1:2;for(F=F.slice(0,ae);F.length<ae;){var Ce;F.push((Ce=F[F.length-1])!==null&&Ce!==void 0?Ce:K)}}F.sort(function(ye,de){return ye-de})}return F.forEach(function(ye,de){F[de]=ze(ye)}),F},[ue,H,K,O,ze]),Pe=n.useRef(re);Pe.current=re;var $e=function(w){return H?w:w[0]},De=function(w){var C=fe(w).sort(function(L,F){return L-F});P&&!Ot(C,Pe.current,!0)&&P($e(C)),bt(C)},Ae=function(){N==null||N($e(Pe.current)),jt(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),U==null||U($e(Pe.current))},St=rr(Oe,Be,re,K,xe,ze,De,Ae,Ie),ke=ne(St,4),Ue=ke[0],Ct=ke[1],Ne=ke[2],Xe=ke[3],Ye=function(w,C){if(!b){var L=0,F=xe-K;re.forEach(function(Ce,ye){var de=Math.abs(w-Ce);de<=F&&(F=de,L=ye)});var ae=fe(re);ae[L]=w,H&&!re.length&&O===void 0&&ae.push(w),B==null||B($e(ae)),De(ae),C&&Xe(C,L,ae)}},yt=function(w){w.preventDefault();var C=Oe.current.getBoundingClientRect(),L=C.width,F=C.height,ae=C.left,Ce=C.top,ye=C.bottom,de=C.right,tt=w.clientX,rt=w.clientY,je;switch(Be){case"btt":je=(ye-rt)/F;break;case"ttb":je=(rt-Ce)/F;break;case"rtl":je=(de-tt)/L;break;default:je=(tt-ae)/L}var wt=K+je*(xe-K);Ye(ze(wt),w)},pt=n.useState(null),Ve=ne(pt,2),Fe=Ve[0],Ge=Ve[1],xt=function(w,C){if(!b){var L=Ie(re,w,C);B==null||B($e(re)),De(L.values),Ge(L.value)}};n.useEffect(function(){if(Fe!==null){var k=re.indexOf(Fe);k>=0&&Z.current.focus(k)}Ge(null)},[Fe]);var $t=n.useMemo(function(){return x&&Se===null?!1:x},[x,Se]),Ke=function(w,C){Xe(w,C),B==null||B($e(Pe.current))},Je=Ue!==-1;n.useEffect(function(){if(!Je){var k=re.lastIndexOf(Ct);Z.current.focus(k)}},[Je]);var Me=n.useMemo(function(){return fe(Ne).sort(function(k,w){return k-w})},[Ne]),Mt=n.useMemo(function(){return H?[Me[0],Me[Me.length-1]]:[K,Me[0]]},[Me,H,K]),Qe=ne(Mt,2),Ze=Qe[0],et=Qe[1];n.useImperativeHandle(t,function(){return{focus:function(){Z.current.focus(0)},blur:function(){var w=document,C=w.activeElement;Oe.current.contains(C)&&(C==null||C.blur())}}}),n.useEffect(function(){d&&Z.current.focus(0)},[]);var Et=n.useMemo(function(){return{min:K,max:xe,direction:Be,disabled:b,keyboard:u,step:Se,included:le,includedStart:Ze,includedEnd:et,range:H,tabIndex:be,ariaLabelForHandle:ie,ariaLabelledByForHandle:V,ariaValueTextFormatterForHandle:Re,styles:y||{},classNames:m||{}}},[K,xe,Be,b,u,Se,le,Ze,et,H,be,ie,V,Re,y,m]);return n.createElement(pe.Provider,{value:Et},n.createElement("div",{ref:Oe,className:me(o,c,(r={},oe(r,"".concat(o,"-disabled"),b),oe(r,"".concat(o,"-vertical"),T),oe(r,"".concat(o,"-horizontal"),!T),oe(r,"".concat(o,"-with-marks"),He.length),r)),style:s,onMouseDown:yt},n.createElement("div",{className:me("".concat(o,"-rail"),m==null?void 0:m.rail),style:I(I({},Q),y==null?void 0:y.rail)}),n.createElement(sr,{prefixCls:o,style:ce,values:Me,startPoint:X,onStartMove:$t?Ke:null}),n.createElement(ir,{prefixCls:o,marks:He,dots:ge,style:ee,activeStyle:Y}),n.createElement(tr,{ref:Z,prefixCls:o,style:A,values:Ne,draggingIndex:Ue,onStartMove:Ke,onOffsetChange:xt,onFocus:l,onBlur:v,handleRender:we,onChangeComplete:Ae}),n.createElement(or,{prefixCls:o,marks:He,onClick:Ye})))});const ur=n.forwardRef((e,t)=>{const{open:r}=e,a=n.useRef(null),o=n.useRef(null);function c(){at.cancel(o.current),o.current=null}function s(){o.current=at(()=>{var m;(m=a.current)===null||m===void 0||m.forceAlign(),o.current=null})}return n.useEffect(()=>(r?s():c(),c),[r,e.title]),n.createElement(Bt,Object.assign({ref:Ht(a,t)},e))}),dr=ur,vr=e=>{const{componentCls:t,antCls:r,controlSize:a,dotSize:o,marginFull:c,marginPart:s,colorFillContentHover:m,handleColorDisabled:y,calc:g}=e;return{[t]:Object.assign(Object.assign({},Dt(e)),{position:"relative",height:a,margin:`${G(s)} ${G(c)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${G(c)} ${G(s)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:m},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${G(e.handleLineWidth)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:g(e.handleLineWidth).mul(-1).equal(),insetBlockStart:g(e.handleLineWidth).mul(-1).equal(),width:g(e.handleSize).add(g(e.handleLineWidth).mul(2)).equal(),height:g(e.handleSize).add(g(e.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${G(e.handleLineWidth)} ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:g(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),insetBlockStart:g(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),width:g(e.handleSizeHover).add(g(e.handleLineWidthHover).mul(2)).equal(),height:g(e.handleSizeHover).add(g(e.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${G(e.handleLineWidthHover)} ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal(),insetBlockStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal()}}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${G(e.handleLineWidth)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${G(e.handleLineWidth)} ${y}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${r}-tooltip-inner`]:{minWidth:"unset"}})}},ft=(e,t)=>{const{componentCls:r,railSize:a,handleSize:o,dotSize:c,marginFull:s,calc:m}=e,y=t?"paddingBlock":"paddingInline",g=t?"width":"height",b=t?"height":"width",S=t?"insetBlockStart":"insetInlineStart",u=t?"top":"insetInlineStart",d=m(a).mul(3).sub(o).div(2).equal(),l=m(o).sub(a).div(2).equal(),v=t?{borderWidth:`${G(l)} 0`,transform:`translateY(${G(m(l).mul(-1).equal())})`}:{borderWidth:`0 ${G(l)}`,transform:`translateX(${G(e.calc(l).mul(-1).equal())})`};return{[y]:a,[b]:m(a).mul(3).equal(),[`${r}-rail`]:{[g]:"100%",[b]:a},[`${r}-track,${r}-tracks`]:{[b]:a},[`${r}-track-draggable`]:Object.assign({},v),[`${r}-handle`]:{[S]:d},[`${r}-mark`]:{insetInlineStart:0,top:0,[u]:m(a).mul(3).add(t?0:s).equal(),[g]:"100%"},[`${r}-step`]:{insetInlineStart:0,top:0,[u]:a,[g]:"100%",[b]:a},[`${r}-dot`]:{position:"absolute",[S]:m(a).sub(c).div(2).equal()}}},fr=e=>{const{componentCls:t,marginPartWithMark:r}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},ft(e,!0)),{[`&${t}-with-marks`]:{marginBottom:r}})}},mr=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},ft(e,!1)),{height:"100%"})}},gr=e=>{const r=e.controlHeightLG/4,a=e.controlHeightSM/2,o=e.lineWidth+1,c=e.lineWidth+1*3;return{controlSize:r,railSize:4,handleSize:r,handleSizeHover:a,dotSize:8,handleLineWidth:o,handleLineWidthHover:c,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,handleColorDisabled:new Nt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},hr=zt("Slider",e=>{const t=kt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[vr(t),fr(t),mr(t)]},gr);var br=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};function Sr(e,t){return e||e===null?e:t||t===null?t:r=>typeof r=="number"?r.toString():""}const Cr=ve.forwardRef((e,t)=>{const{prefixCls:r,range:a,className:o,rootClassName:c,style:s,disabled:m,tooltipPrefixCls:y,tipFormatter:g,tooltipVisible:b,getTooltipPopupContainer:S,tooltipPlacement:u}=e,d=br(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement"]),{direction:l,slider:v,getPrefixCls:f,getPopupContainer:h}=ve.useContext(Ft),i=ve.useContext(Tt),p=m??i,[j,R]=ve.useState({}),z=(E,x)=>{R($=>Object.assign(Object.assign({},$),{[E]:x}))},D=(E,x)=>E||(x?l==="rtl"?"left":"right":"top"),H=f("slider",r),[O,P,B]=hr(H),N=me(o,v==null?void 0:v.className,c,{[`${H}-rtl`]:l==="rtl"},P,B);l==="rtl"&&!d.vertical&&(d.reverse=!d.reverse);const[U,J]=ve.useMemo(()=>a?typeof a=="object"?[!0,a.draggableTrack]:[!0,!1]:[!1],[a]),q=(E,x)=>{var $;const{index:T,dragging:se}=x,{tooltip:le={},vertical:X}=e,ce=Object.assign({},le),{open:A,placement:Q,getPopupContainer:ee,prefixCls:Y,formatter:te}=ce,ge=Sr(te,g),we=ge?j[T]||se:!1,he=($=A??b)!==null&&$!==void 0?$:A===void 0&&we,be=Object.assign(Object.assign({},E.props),{onMouseEnter:()=>z(T,!0),onMouseLeave:()=>z(T,!1),onFocus:ie=>{var V;z(T,!0),(V=d.onFocus)===null||V===void 0||V.call(d,ie)},onBlur:ie=>{var V;z(T,!1),(V=d.onBlur)===null||V===void 0||V.call(d,ie)}});return ve.createElement(dr,Object.assign({},ce,{prefixCls:f("tooltip",Y??y),title:ge?ge(x.value):"",open:he,placement:D(Q??u,X),key:T,overlayClassName:`${H}-tooltip`,getPopupContainer:ee||S||h}),ve.cloneElement(E,be))},_=Object.assign(Object.assign({},v==null?void 0:v.style),s);return O(ve.createElement(cr,Object.assign({},d,{step:d.step,range:U,draggableTrack:J,className:N,style:_,disabled:p,ref:t,prefixCls:H,handleRender:q})))}),yr=Cr,pr=async(e,t)=>new Promise(r=>{Xt(e,1/t*90,void 0,void 0,e.type==="image/webp"?"webp":"jpg").then(a=>{vt(a).then(o=>{r({base64:o,compressedSize:a.size})})})}),jr=Lt("/_image/image-compressor")({component:xr});function xr(){const e=_t(),[t]=Te.useForm(),[r,a]=n.useState({file:null,level:7}),[o,c]=n.useState(""),[s,m]=n.useState(null),y=()=>{var f;if(!s||!r.file)return;let u="png";const d=(f=/^data:image\/\w+;/.exec(s.base64))==null?void 0:f[0];d&&(u=d.slice(11,-1));const l=document.createElement("a");l.href=s.base64;const v=r.file.name.split(".");v.pop(),l.download=`${v.join(".")}.${u}`,l.click()},g=async()=>{if(!r.file){e(At("Need to select an image"));return}const u=await pr(r.file,r.level);m({base64:u.base64,originalSize:r.file.size,compressedSize:u.compressedSize}),e(Ut())},b=async u=>{if(!u.file.originFileObj)return;const d=u.file.originFileObj,l=await vt(d);c(l),a({...r,file:d})},S=u=>{a({...r,level:u})};return M.jsx(Wt,{InputToolbar:M.jsx(nt,{children:M.jsx(ot,{type:"primary",icon:M.jsx(It,{}),size:"large",onClick:g,children:"Compress"})}),InputView:M.jsxs(Te,{form:t,layout:"vertical",size:"large",requiredMark:"optional",initialValues:r,validateMessages:{required:"This field is required"},children:[M.jsx(Yt,{name:"image",accept:"image/*",listType:"picture-card",showUploadList:!1,onChange:b,customRequest:()=>{},children:M.jsxs("button",{type:"button",children:[M.jsx(Vt,{}),M.jsx("div",{className:"mt-2",children:"Select image"})]})}),lt(o)&&M.jsx("div",{className:"mt-8 border border-solid border-gray-300 leading-0",children:M.jsx(it,{src:o})}),M.jsx(Te.Item,{label:"Compression level",name:"level",rules:[{required:!0}],className:"mt-8",children:M.jsxs("div",{className:"flex gap-4",children:[M.jsx("div",{className:"grow",children:M.jsx(yr,{min:1,max:10,value:r.level,onChange:S})}),M.jsx("div",{className:"basis-16",children:M.jsx(Jt,{min:1,max:10,value:r.level,onChange:u=>S(u??0)})})]})})]}),OutputToolbar:s===null?M.jsx(M.Fragment,{}):M.jsx(nt,{children:M.jsx(ot,{icon:M.jsx(Gt,{}),onClick:y,children:"Download"})}),OutputView:s&&lt(s.base64)?M.jsx("div",{className:"border border-solid border-gray-300 leading-0",children:M.jsx(Kt.Ribbon,{color:"green",text:M.jsxs(M.Fragment,{children:[s.compressedSize>=s.originalSize?M.jsx(M.Fragment,{}):M.jsxs(M.Fragment,{children:["Saving:"," ",100-Math.floor(s.compressedSize*100/s.originalSize),"%",M.jsx("br",{})]}),"New size: ",Math.floor(s.compressedSize/1e3)," KB"]}),children:M.jsx(it,{src:s.base64})})}):M.jsx("div",{className:"h-full min-h-[250px] flex items-center justify-center border border-solid border-gray-300",children:M.jsx(qt,{})})})}export{jr as Route};
