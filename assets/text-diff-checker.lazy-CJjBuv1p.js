import{t as Z,$ as ee,y as k,r,z as oe,n as E,a7 as te,U as ne,a9 as re,a3 as ie,aa as se,ab as le,ac as ae,ad as ce,ae as de,af as ue,ag as me,ah as fe,f as pe,h as ge,ai as S,j as c,E as xe,c as he,C as O,S as ve,B as z,A as be}from"./index-B0FZfun1.js";import{t as R}from"./text-sample.original-B6mw0xHt.js";import{S as Ce}from"./SingleColumnLayout.component-CnDaAPgK.js";import"./editorWorker-CSXiZMy3.js";import{F as $}from"./index-DdgSV0az.js";const I=(e,o,n,t,i)=>({background:e,border:`${k(t.lineWidth)} ${t.lineType} ${o}`,[`${i}-icon`]:{color:n}}),ye=e=>{const{componentCls:o,motionDurationSlow:n,marginXS:t,marginSM:i,fontSize:l,fontSizeLG:a,lineHeight:u,borderRadiusLG:f,motionEaseInOutCirc:m,withDescriptionIconSize:v,colorText:b,colorTextHeading:p,withDescriptionPadding:d,defaultPadding:C}=e;return{[o]:Object.assign(Object.assign({},ee(e)),{position:"relative",display:"flex",alignItems:"center",padding:C,wordWrap:"break-word",borderRadius:f,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:t,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:u},"&-message":{color:p},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${m}, opacity ${n} ${m},
        padding-top ${n} ${m}, padding-bottom ${n} ${m},
        margin-bottom ${n} ${m}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",padding:d,[`${o}-icon`]:{marginInlineEnd:i,fontSize:v,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:t,color:p,fontSize:a},[`${o}-description`]:{display:"block",color:b}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Se=e=>{const{componentCls:o,colorSuccess:n,colorSuccessBorder:t,colorSuccessBg:i,colorWarning:l,colorWarningBorder:a,colorWarningBg:u,colorError:f,colorErrorBorder:m,colorErrorBg:v,colorInfo:b,colorInfoBorder:p,colorInfoBg:d}=e;return{[o]:{"&-success":I(i,t,n,e,o),"&-info":I(d,p,b,e,o),"&-warning":I(u,a,l,e,o),"&-error":Object.assign(Object.assign({},I(v,m,f,e,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},$e=e=>{const{componentCls:o,iconCls:n,motionDurationMid:t,marginXS:i,fontSizeIcon:l,colorIcon:a,colorIconHover:u}=e;return{[o]:{"&-action":{marginInlineStart:i},[`${o}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:l,lineHeight:k(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:a,transition:`color ${t}`,"&:hover":{color:u}}},"&-close-text":{color:a,transition:`color ${t}`,"&:hover":{color:u}}}}},Ie=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),Ee=Z("Alert",e=>[ye(e),Se(e),$e(e)],Ie);var B=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)o.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n};const Te={success:se,info:le,error:ae,warning:ce},je=e=>{const{icon:o,prefixCls:n,type:t}=e,i=Te[t]||null;return o?re(o,r.createElement("span",{className:`${n}-icon`},o),()=>({className:E(`${n}-icon`,{[o.props.className]:o.props.className})})):r.createElement(i,{className:`${n}-icon`})},we=e=>{const{isClosable:o,prefixCls:n,closeIcon:t,handleClose:i,ariaProps:l}=e,a=t===!0||t===void 0?r.createElement(ie,null):t;return o?r.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},l),a):null},Ne=e=>{const{description:o,prefixCls:n,message:t,banner:i,className:l,rootClassName:a,style:u,onMouseEnter:f,onMouseLeave:m,onClick:v,afterClose:b,showIcon:p,closable:d,closeText:C,closeIcon:y,action:T}=e,H=B(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[j,_]=r.useState(!1),A=r.useRef(null),{getPrefixCls:L,direction:F,alert:s}=r.useContext(oe),g=L("alert",n),[V,W,q]=Ee(g),G=x=>{var h;_(!0),(h=e.onClose)===null||h===void 0||h.call(e,x)},w=r.useMemo(()=>e.type!==void 0?e.type:i?"warning":"info",[e.type,i]),X=r.useMemo(()=>typeof d=="object"&&d.closeIcon||C?!0:typeof d=="boolean"?d:y!==!1&&y!==null&&y!==void 0?!0:!!(s!=null&&s.closable),[C,y,d,s==null?void 0:s.closable]),N=i&&p===void 0?!0:p,U=E(g,`${g}-${w}`,{[`${g}-with-description`]:!!o,[`${g}-no-icon`]:!N,[`${g}-banner`]:!!i,[`${g}-rtl`]:F==="rtl"},s==null?void 0:s.className,l,a,q,W),J=te(H,{aria:!0,data:!0}),K=r.useMemo(()=>{var x,h;return typeof d=="object"&&d.closeIcon?d.closeIcon:C||(y!==void 0?y:typeof(s==null?void 0:s.closable)=="object"&&(!((x=s==null?void 0:s.closable)===null||x===void 0)&&x.closeIcon)?(h=s==null?void 0:s.closable)===null||h===void 0?void 0:h.closeIcon:s==null?void 0:s.closeIcon)},[y,d,C,s==null?void 0:s.closeIcon]),Q=r.useMemo(()=>{const x=d??(s==null?void 0:s.closable);return typeof x=="object"?B(x,["closeIcon"]):{}},[d,s==null?void 0:s.closable]);return V(r.createElement(ne,{visible:!j,motionName:`${g}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:x=>({maxHeight:x.offsetHeight}),onLeaveEnd:b},x=>{let{className:h,style:Y}=x;return r.createElement("div",Object.assign({ref:A,"data-show":!j,className:E(U,h),style:Object.assign(Object.assign(Object.assign({},s==null?void 0:s.style),u),Y),onMouseEnter:f,onMouseLeave:m,onClick:v,role:"alert"},J),N?r.createElement(je,{description:o,icon:e.icon,prefixCls:g,type:w}):null,r.createElement("div",{className:`${g}-content`},t?r.createElement("div",{className:`${g}-message`},t):null,o?r.createElement("div",{className:`${g}-description`},o):null),T?r.createElement("div",{className:`${g}-action`},T):null,r.createElement(we,{isClosable:X,prefixCls:g,closeIcon:K,handleClose:G,ariaProps:Q}))}))},D=Ne;let Oe=function(e){function o(){var n;return me(this,o),n=fe(this,o,arguments),n.state={error:void 0,info:{componentStack:""}},n}return de(o,e),ue(o,[{key:"componentDidCatch",value:function(t,i){this.setState({error:t,info:i})}},{key:"render",value:function(){const{message:t,description:i,children:l}=this.props,{error:a,info:u}=this.state,f=u&&u.componentStack?u.componentStack:null,m=typeof t>"u"?(a||"").toString():t,v=typeof i>"u"?f:i;return a?r.createElement(D,{type:"error",message:m,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},v)}):l}}])}(r.Component);const ze=Oe,P=D;P.ErrorBoundary=ze;const Re=P,M=`lorem
ipsum
sit
amet
consectetur
adipiscing
elit`,Be=(e,o)=>{e._timeoutId&&clearTimeout(e._timeoutId),e._timeoutId=setTimeout(function(){e()},o)},Me=r.forwardRef(({original:e,modified:o,language:n,className:t},i)=>{const l=pe(ge()),a=r.useRef(null),u=r.useRef(),f=i||u,m=r.useMemo(()=>n==="text"?"on":"off",[n]);return r.useEffect(()=>{if(!(e===null||o===null||a.current===null))return f.current=S.createDiffEditor(a.current,{theme:l==="dark"?"vs-dark":"",enableSplitViewResizing:!0,renderSideBySide:!0,renderIndicators:!0,fontSize:14,contextmenu:!1,readOnly:!0,scrollBeyondLastLine:!1,automaticLayout:!0,ignoreTrimWhitespace:!1,wordWrap:m,padding:{top:16,bottom:16},minimap:{enabled:!1},scrollbar:{horizontalScrollbarSize:8,verticalScrollbarSize:8}}),f.current.setModel({original:S.createModel(e,n),modified:S.createModel(o,n)}),()=>f.current.dispose()},[e,o,n,f,l,m]),r.useEffect(()=>{S.setTheme(l==="dark"?"vs-dark":"")},[l]),c.jsx("div",{ref:a,className:`border border-solid border-gray-300 h-full ${t}`,children:(e===null||o===null)&&c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsx(xe,{})})})}),Le=he("/_text/text-diff-checker")({component:ke});function ke(){const e=r.useRef(null),o=r.useRef(null),n=r.useRef(null),t=r.useRef(null),[i]=$.useForm(),l=r.useRef({originalText:"",changedText:""}),[a,u]=r.useState({originalText:null,changedText:null}),f=()=>{e.current===null||o.current===null||(l.current.originalText=R,l.current.changedText=M,e.current.setValue(R),o.current.setValue(M))},m=p=>{l.current.originalText=p},v=p=>{l.current.changedText=p},b=()=>{u({originalText:l.current.originalText,changedText:l.current.changedText}),Be(()=>{var p;(p=t.current)==null||p.scrollIntoView()},100)};return c.jsx(Ce,{View:c.jsxs($,{form:i,layout:"vertical",size:"large",requiredMark:"optional",children:[c.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8",children:[c.jsx($.Item,{label:"Original text",required:!0,className:"basis-0 grow",children:c.jsx("div",{className:"h-[250px]",children:c.jsx(O,{ref:e,code:l.current.originalText,language:"text",onChange:m})})}),c.jsx($.Item,{label:"Changed text",required:!0,className:"basis-0 grow",children:c.jsx("div",{className:"h-[250px]",children:c.jsx(O,{ref:o,code:l.current.changedText,language:"text",onChange:v})})})]}),c.jsx("div",{className:"text-center mt-4 mb-8",children:c.jsxs(ve,{children:[c.jsx(z,{size:"large",onClick:f,children:"Sample"}),c.jsx(z,{type:"primary",icon:c.jsx(be,{}),size:"large",onClick:b,children:"Check difference"})]})}),a.originalText!==null&&a.changedText!==null&&c.jsxs("div",{className:"scroll-mt-32 h-[500px]",ref:t,children:[a.originalText===a.changedText&&c.jsx(Re,{message:"The texts are identical.",type:"success",className:"text-center mb-8"}),c.jsx(Me,{ref:n,original:a.originalText,modified:a.changedText,language:"text"})]})]})})}export{Le as Route};
